(window.webpackJsonp=window.webpackJsonp||[]).push([[11,2],{291:function(n,t,e){"use strict";e.r(t);var a=e(338),o=e.n(a),i=e(316),c=e.n(i),r=e(317),l=e.n(r),s=e(318),u=e.n(s),d=e(319),h=e.n(d),p=e(320),f=e.n(p),m=e(321),g=e.n(m),v=e(322),_=e.n(v),C=e(17),b=e.n(C),k=e(328),w=(e(389),e(340)),y=e(333),E=e(329),x=e(367),S=e(357),T=e(337),D=e(326),M=e(398),j=e(360),A=e(339),N=e.n(A),F=function(n){return b.a.createElement(E.a,{request:!0,value:"共".concat(n.peopleNumber,"人，").concat([n.cabin]),label:"人數/艙等",icon:b.a.createElement(y.a,{name:"toolstaff"}),readOnly:!0})},O=[{text:"經濟艙",value:"0"},{text:"商務艙",value:"1"},{text:"頭等艙",value:"2"}],Y=function(n){return b.a.createElement("div",{className:"footerInfo"},b.a.createElement(y.a,{name:"toolif",className:"p-r-xs"}),"若欲訂購來回程機票，請分開訂位。")},I=function(n){return b.a.createElement("p",null,"例如:需預訂上海 → 北京 → 上海來回機票，請上海 → 北京單程票預定一張訂票，北京 → 上海單程票另外預定一張訂單")},z=function(n){function t(){var n,e;c()(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return e=u()(this,(n=h()(t)).call.apply(n,[this].concat(i))),_()(g()(g()(e)),"state",{selectedStartDate:"",startInputValue:N()().add(3,"day").format("YYYY-MM-DD"),onFocus:!1}),_()(g()(g()(e)),"clickDate",function(n){e.props.selectDate&&e.props.selectDate(n),e.setState(function(t){return{onFocus:!1,selectedStartDate:n,startInputValue:n}})}),_()(g()(g()(e)),"inputChange",function(n){var t=n.target.value;e.setState(function(n){return o()({},n,{startInputValue:t})})}),e}return f()(t,n),l()(t,[{key:"render",value:function(){var n=this,t=this.state,e=t.selectedStartDate,a=t.startInputValue,i=t.onFocus,c=this.props.doubleMonth,r=N()();return b.a.createElement(D.a,{className:"pcCalendarCont",onClickOutside:function(){n.setState(function(n){return o()({},n,{onFocus:!1})})}},b.a.createElement("input",{type:"text",placeholder:"選擇日期",value:a,onFocus:function(){n.setState(function(n){return o()({},n,{onFocus:!0})})},onChange:this.inputChange,readOnly:!0,style:i?{borderColor:"red"}:null}),i?b.a.createElement(S.a,{doubleMonth:c,activeStart:r.format("YYYY-MM"),activeEnd:r.add(1,"years").format("YYYY-MM"),startDate:r.add(3,"days").format("YYYY-MM-DD"),endDate:r.add(1,"years").subtract(4,"days").format("YYYY-MM-DD"),selectedStartDate:e,onDateClick:this.clickDate}):null)}}]),t}(C.Component);_()(z,"defaultProps",{doubleMonth:!1});var L=function(n){function t(n){var e;return c()(this,t),e=u()(this,h()(t).call(this,n)),_()(g()(g()(e)),"getOptionData",function(){D.b.fetchJsToObj(k.a.place,e.getData)}),_()(g()(g()(e)),"getData",function(n){e.handleGetData(n.vCity)}),_()(g()(g()(e)),"handleGetData",function(n){var t=[];for(var a in n)if(n.hasOwnProperty(a)){var o={text:n[a],value:a};t.push(o)}e.setState({isLoaded:!0,options:t})}),_()(g()(g()(e)),"selectDate",function(n){var t=n.replace(/\-/g,"");e.setState({sFdate:t})}),_()(g()(g()(e)),"selectCabin",function(n){e.setState({sClass:n,cabinText:O[n].text})}),_()(g()(g()(e)),"onClickAdd",function(){var n=e.state,t=n.sAdt,a=n.max,o=t+1;a<=o&&(o=a),e.setState({sAdt:o})}),_()(g()(g()(e)),"onClickMinus",function(){var n=e.state,t=n.sAdt,a=n.min,o=t-1;o<=a&&(o=a),e.setState({sAdt:o})}),_()(g()(g()(e)),"handleSubmit",function(){var n=e.state,t=n.sFcity,a=n.sTcity,o=n.sFdate,i=n.sAdt,c=n.sClass,r=n.sTktkind,l=n.sChd,s=n.sTairp,u=n.sFairp;e.validate(function(n,d){if(n){var h="sFcity=".concat(t,"&sTcity=").concat(a,"&sFdate=").concat(o,"&sAdt=").concat(i,"&sClass=").concat(c,"&sTktkind=").concat(r,"&sChd=").concat(l,"&sTairp=").concat(s,"&sFairp=").concat(u);window.open("https://www.liontravel.com/webtk/webtkcn01.aspx?"+h,e.props.hrefTarget)}else alert("請選擇"+d.join("、"))})}),_()(g()(g()(e)),"validate",function(n){var t=e.state,a=t.sFairp,o=t.sTairp,i=t.sFcity,c=t.sTcity,r=[];""!==a&&""!==i||r.push("出發機場"),""!==o&&""!==c||r.push("目的機場"),n(0===r.length,r)}),e.state={sFairp:"XZM",sTairp:"SHA",sFcity:"MFM",sTcity:"SHA",sFdate:"20181022",sAdt:1,sChd:0,sClass:0,sTktkind:"CN",max:10,min:1,cabinText:"經濟艙",options:[],isLoaded:!1},e}return f()(t,n),l()(t,[{key:"componentDidMount",value:function(){this.getOptionData()}},{key:"dptChange",value:function(n){var t=n.split("_"),e=t[1],a=t[2];this.setState({sFairp:e,sFcity:a})}},{key:"dtnChange",value:function(n){var t=n.split("_"),e=t[1],a=t[2];this.setState({sTairp:e,sTcity:a})}},{key:"render",value:function(){var n=this,t=this.state,e=t.isLoaded,a=t.options;return b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{className:"flight_chinese p-t-xs"},e&&0<a.length?b.a.createElement(b.a.Fragment,null,b.a.createElement(w.a,{ClassName:"m-b-sm",option:a,placeholder:"請選擇",label:"出發機場",icon:b.a.createElement(y.a,{name:"planeairplane"}),req:!0,breakline:!0,onChangeCallBack:function(t){n.dptChange(t)},defaultValue:"_PEK_PEK"}),b.a.createElement(w.a,{ClassName:"m-b-sm",option:a,placeholder:"請選擇",label:"目的機場",icon:b.a.createElement(y.a,{name:"toolmap"}),req:!0,breakline:!0,onChangeCallBack:function(t){n.dtnChange(t)},defaultValue:"_SHA_SHA"}),b.a.createElement("div",{className:"st_rcln m-b-sm dpt"},b.a.createElement("i",{className:"ic_rcln tooldate"}),b.a.createElement("div",{className:"dropdown-place-holder selected breakline withIcon"},b.a.createElement("span",{className:"dropdown-label req breakline"},"出發日期"),b.a.createElement(z,{selectDate:this.selectDate}))),b.a.createElement(M.a,{moduleClassName:"peopleAndCabin",CustomComponent:b.a.createElement(F,{cabin:this.state.cabinText,peopleNumber:this.state.sAdt}),ContentComponent:b.a.createElement(b.a.Fragment,null,b.a.createElement(w.a,{option:O,placeholder:"經濟艙",label:"艙等",req:!0,whenCloseCallBack:function(){},onChangeCallBack:function(t){return n.selectCabin(t)}}),b.a.createElement("div",{className:"peopleContent"},b.a.createElement("p",null,"人數"),b.a.createElement(x.a,{max:this.state.max,min:this.state.min,count:this.state.sAdt,btnClassMinus:"ic_rcln toolcancelb",btnClassAdd:"ic_rcln tooladdb",onClickAdd:this.onClickAdd,onClickMinus:this.onClickMinus}))),whenOpen:function(n){},whenClose:function(n){}}),b.a.createElement("div",{className:"footer"},b.a.createElement(j.a,{CustomComponent:b.a.createElement(Y,null),ContentComponent:b.a.createElement(I,null),moduleClassName:"PpRcln2 m-r-xxl",events:["click","hover"],position:["bottom","horizon_center"]}),b.a.createElement(T.a,{radius:!0,prop:"string",className:"h-sm",lg:!0,whenClick:function(){n.handleSubmit()}},"搜尋"))):null))}}]),t}(C.Component);_()(L,"defaultProps",{doubleMonth:!1});var R=L;e.d(t,"default",function(){return R})},315:function(n,t,e){"use strict";e.d(t,"b",function(){return i}),e.d(t,"e",function(){return c}),e.d(t,"d",function(){return r}),e.d(t,"c",function(){return l}),e.d(t,"a",function(){return s});var a=e(334),o=e.n(a);function i(n,t){fetch(n,{method:"GET"}).then(function(n){return n.text()}).then(function(n){var t=n.replace(/\r?\n|\r/g,"").replace(/(?:var|let|const)\s(\w+)\s=/g,'"$1":').replace(/;/g,",").replace(/,$/g,"").replace(/'/g,'"');return JSON.parse("{"+t+"}")}).then(function(n){t(n)})}function c(n){var t=n,e="",a=Object.keys(t).length,o=0;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e+=a<=++o?i+"="+t[i]:i+"="+t[i]+"&");return e}function r(n){var t=n.split("-"),e=o()(t,2),a=e[0],i=e[1];return[a=Number(a),i=Number(i)]}function l(){return new Date((new Date).getFullYear(),(new Date).getMonth(),1,8).toISOString().slice(0,7)}var s={fetchJsToObj:i,findHighestZIndex:function(n){for(var t=document.getElementsByTagName(n),e=0,a=0;a<t.length;a++){var o=document.defaultView.getComputedStyle(t[a],null).getPropertyValue("z-index");e<o&&"auto"!==o&&(e=o)}return parseInt(e,10)},getDomPosition:function(n,t){return"top"===t?n.getBoundingClientRect()[t]+window.pageYOffset:n.getBoundingClientRect()[t]},toQueryString:c,getYearAndMonth:r,getNowMonth:l}},325:function(n,t,e){"use strict";e.d(t,"a",function(){return T});var a=e(327),o=e.n(a),i=e(330),c=e.n(i),r=e(316),l=e.n(r),s=e(317),u=e.n(s),d=e(318),h=e.n(d),p=e(319),f=e.n(p),m=e(320),g=e.n(m),v=e(321),_=e.n(v),C=e(322),b=e.n(C),k=e(17),w=e.n(k),y=e(84),E=e.n(y),x=e(115),S=e.n(x),T=function(n){function t(n){var e;return l()(this,t),e=h()(this,f()(t).call(this,n)),b()(_()(_()(e)),"handle",function(n){if(!e.__domNode.contains(n.target)){var t=e.props.onClickOutside;"function"==typeof t&&t(n)}}),e.isTouch=!1,e.isClickInSide=!1,e.isUnMounted=!1,e.__domNode=null,e.__wrappedInstance=null,e}return g()(t,n),u()(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handle,!0)}},{key:"componentWillUnmount",value:function(){this.isUnMounted=!0,document.removeEventListener("click",this.handle,!0)}},{key:"render",value:function(){var n=this,t=this.props,e=t.children,a=(t.onClickOutside,c()(t,["children","onClickOutside"]));return w.a.createElement("div",o()({},a,{ref:function(t){n.__domNode=E.a.findDOMNode(t),n.__wrappedInstance=t}}),e)}}]),t}(k.Component);b()(T,"propTypes",{onClickOutside:S.a.func.isRequired})},326:function(n,t,e){"use strict";var a=e(315),o=e(325),i=e(327),c=e.n(i),r=e(330),l=e.n(r),s=e(316),u=e.n(s),d=e(317),h=e.n(d),p=e(318),f=e.n(p),m=e(319),g=e.n(m),v=e(320),_=e.n(v),C=e(321),b=e.n(C),k=e(322),w=e.n(k),y=e(17),E=e.n(y),x=e(115),S=e.n(x),T=function(n){function t(n){var e;return u()(this,t),e=f()(this,g()(t).call(this,n)),w()(b()(b()(e)),"handle",function(n){if(e.isClickInSide)e.isClickInSide=!1;else if("touchend"===n.type&&(e.isTouch=!0),"click"!==n.type||!e.isTouch){var t=e.props.onClickOutside;!1===e.isUnMounted&&t(n)}}),w()(b()(b()(e)),"handleClick",function(){e.isClickInSide=!0}),e.isTouch=!1,e.isClickInSide=!1,e.isUnMounted=!1,e}return _()(t,n),h()(t,[{key:"componentDidMount",value:function(){document.addEventListener("touchend",this.handle,!1),document.addEventListener("click",this.handle,!1)}},{key:"componentWillUnmount",value:function(){this.isUnMounted=!0,document.removeEventListener("touchend",this.handle,!1),document.removeEventListener("click",this.handle,!1)}},{key:"render",value:function(){var n=this.props,t=n.children,e=(n.onClickOutside,l()(n,["children","onClickOutside"]));return E.a.createElement("div",c()({},e,{onClick:this.handleClick}),t)}}]),t}(y.Component);w()(T,"propTypes",{onClickOutside:S.a.func.isRequired}),e.d(t,"b",function(){return a.a}),e.d(t,"c",function(){return a.b}),e.d(t,"f",function(){return a.e}),e.d(t,"e",function(){return a.d}),e.d(t,"d",function(){return a.c}),e.d(t,"a",function(){return o.a})},328:function(n,t,e){"use strict";e.d(t,"f",function(){return o}),e.d(t,"b",function(){return i}),e.d(t,"a",function(){return c}),e.d(t,"c",function(){return r}),e.d(t,"d",function(){return l}),e.d(t,"h",function(){return s}),e.d(t,"g",function(){return u}),e.d(t,"i",function(){return d}),e.d(t,"e",function(){return h}),e(341);var a,o=(a={travel:{place:"./json/TRS1NEWTRAVEL.js"},"flight.international":{place:"./json/flightsInternationalDestinationCsutomMenu.js",placeAutoComplete:"./json/getarraytkt6.js",filter:"./json/country.json"},"flight.chinese":{place:"./json/GetArrayTkt5.js"},"flight.taiwan":{place:"./json/twflightdest.json"},hotel:{destination:"./json/hotelMenu.json",destinationAutoComplete:"https://hotel.liontravel.com/search/keyword"},"vacation.personal":{departure:"./json/vacationDeparture.json",destination:"./json/vacationdata.json",destinationAutoComplete:"https:////vacation.liontravel.com/ajax/getdestination",keyword:"https:////vacation.liontravel.com/search/keyword"},"vacation.group":{place:"./json/TRS1NEWTRAVELFIT.js"},"vacation.taiwan":{destination:"./json/freeTaiwan.js",keyword:"https://www.liontravel.com/webhl/gethotelnamelist.ashx"},themeTravel:{place:"./json/TRS1PSUBJECT.js"}}).travel,i=a["flight.international"],c=a["flight.chinese"],r=a["flight.taiwan"],l=a.hotel,s=a["vacation.personal"],u=a["vacation.group"],d=a["vacation.taiwan"],h=a.themeTravel},358:function(n,t,e){(n.exports=e(323)(!1)).push([n.i,".flight_chinese .st_rcln .ic_rcln {\n  color: #999; }\n\n.flight_chinese .st_rcln .dropdown-place-holder {\n  font-weight: bold;\n  font-size: 16px;\n  color: #0077b3; }\n  .flight_chinese .st_rcln .dropdown-place-holder .dropdown-label {\n    font-weight: normal;\n    font-size: 14px;\n    color: #999; }\n  .flight_chinese .st_rcln .dropdown-place-holder input {\n    width: 100%;\n    color: #0077b3; }\n  .flight_chinese .st_rcln .dropdown-place-holder .cy_rcln {\n    color: black; }\n  .flight_chinese .st_rcln .dropdown-place-holder.selected {\n    color: #0077b3; }\n\n.flight_chinese .icon .ic_rcln {\n  font-size: 20px;\n  padding-left: 5px;\n  color: #999; }\n\n.flight_chinese .int_rcln.icon > i {\n  left: 0; }\n\n.flight_chinese .int_rcln_input {\n  color: #0077b3;\n  font-weight: bold; }\n  .flight_chinese .int_rcln_input::-webkit-input-placeholder {\n    color: #0077b3; }\n\n.flight_chinese .dpt:after {\n  content: '';\n  display: none; }\n\n.flight_chinese .bor-right .int_rcln_input {\n  border-right: 1px solid #e3e3e3; }\n\n.flight_chinese .peopleAndCabin .int_rcln_label {\n  font-size: 14px; }\n\n.flight_chinese .peopleAndCabin .int_rcln_input {\n  padding-top: 22px; }\n\n.flight_chinese .footer button {\n  width: 100%;\n  margin-top: 80px; }\n\n.flight_chinese .footer .footerInfo {\n  color: #1c9c9d;\n  margin: 10px 0; }\n  .flight_chinese .footer .footerInfo a {\n    text-decoration: none;\n    cursor: pointer; }\n\n@media (min-width: 980px) {\n  .flight_chinese .footer button {\n    width: 90px;\n    float: right;\n    margin-top: 24px; } }\n\n.flight_chinese .st_rnls_descendant_content {\n  padding-right: 30px; }\n  .flight_chinese .st_rnls_descendant_content .st_rcln {\n    width: auto; }\n    .flight_chinese .st_rnls_descendant_content .st_rcln .dropdown-place-holder {\n      color: #0077b3; }\n  .flight_chinese .st_rnls_descendant_content .peopleContent {\n    padding-top: 10px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center; }\n  .flight_chinese .st_rnls_descendant_content .st_rnls_descendant_content_close {\n    font-size: 16px; }\n\n.flight_chinese .cy_rcln .prev,\n.flight_chinese .cy_rcln .next {\n  z-index: 100; }\n\n.flight_chinese .cy_rcln .calendar_box {\n  z-index: 99; }\n\n.flight_chinese .pcCalendarCont {\n  position: relative; }\n  .flight_chinese .pcCalendarCont .cy_rcln {\n    position: absolute;\n    top: 26px;\n    left: 0;\n    z-index: 5; }\n\n.flight_chinese .peopleAndCabin {\n  position: relative; }\n  .flight_chinese .peopleAndCabin .st_rnls_descendant_content {\n    position: absolute;\n    top: 49px;\n    left: 0;\n    width: 100% !important;\n    z-index: 5; }\n",""])},389:function(n,t,e){var a=e(358);"string"==typeof a&&(a=[[n.i,a,""]]);var o=e(324)(a,{hmr:!0,transform:void 0,insertInto:void 0});a.locals&&(n.exports=a.locals),n.hot.accept(358,function(){var t=e(358);if("string"==typeof t&&(t=[[n.i,t,""]]),!function(n,t){var e,a=0;for(e in n){if(!t||n[e]!==t[e])return!1;a++}for(e in t)a--;return 0===a}(a.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");o(t)}),n.hot.dispose(function(){o()})}}]);