(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{292:function(e,t,n){"use strict";n.r(t);var a=n(312),l=n.n(a),i=n(313),r=n.n(i),o=n(314),s=n.n(o),c=n(315),u=n.n(c),d=n(316),p=n.n(d),h=n(317),m=n.n(h),f=n(318),g=n.n(f),b=n(20),_=n.n(b),v=(n(609),n(83)),C=n.n(v),w=function(e){return _.a.createElement("ul",{className:"Rtow"},_.a.createElement("li",{className:C()({active:0===e.rtow}),onClick:function(){e.tripChange(0)}},"單程"),_.a.createElement("li",{className:C()({active:1===e.rtow}),onClick:function(){e.tripChange(1)}},"來回"),_.a.createElement("li",{className:C()({active:3===e.rtow}),onClick:function(){e.tripChange(3)}},"多個目的地"))},x=n(370),D=n.n(x),y=n(336),E=n.n(y),S=n(325),k=n(352),I=n(322),N=n(388),M=n(332),O=n(338),T=n(460),A=n(335),R=n(342),j=n(326),P=n(331),L=n.n(P),F=n(343),B=n(324),Y=n.n(B),z=n(115),U=n.n(z),V=n(334),Q=n(321),H=(n(417),[{catalogueName:"城市",catafilter:function(e){return e.filter(function(e){return 2===e.fullName.split("__").length}).sort(function(e,t){return e.fullName.length-t.fullName.length||e.dataIndex-t.dataIndex})}},{catalogueName:"機場",catafilter:function(e){return e.filter(function(e){return 2<e.fullName.split("__").length}).sort(function(e,t){return e.fullName.length-t.fullName.length||e.dataIndex-t.dataIndex})}}]),q=function(e){return e.forEach(function(e){var t=e.fullName.split("__").join("-");e.txt=t,e.fromAct=!0,e.country=e.fullName.split("__")[0].match(/\((.*)\)/)[1],e.city=e.fullName.split("__")[1].match(/\((.*)\)/)[1],e.airport=e.fullName.split("__")[2]?e.fullName.split("__")[2].match(/\((.*)\)/)[1]:e.fullName.split("__")[1].match(/\((.*)\)/)[1]}),e},K=function(e){function t(e){var n;return l()(this,t),n=s()(this,u()(t).call(this,e)),g()(m()(m()(n)),"getData",function(e){-1!==e.indexOf(".json")?fetch(e,{method:"GET"}).then(function(e){return e.json()}).then(function(e){n._getDataCallBack(e)}):Object(Q.c)(e,function(e){n._getDataCallBack(e)})}),g()(m()(m()(n)),"_getDataCallBack",function(e){var t=[];for(var a in e.city)Object.prototype.hasOwnProperty.call(e.city,a)&&t.push(e.city[a]);n.setState({newCity:Y.a.apply(void 0,[{}].concat(t))})}),g()(m()(m()(n)),"emitPushData",function(e){var t=n.searchInput.current.props.value;n.props.onChange&&n.props.onChange(e,t)}),g()(m()(m()(n)),"handelPushData",function(e){var t=n.props.selectedData;if(t.length&&t[0].hasOwnProperty("value")&&t[0].value===e.value)n.setState({selectedData:[]});else if(e){var a=e;e.value&&(a=Y()({country:n.state.newCity[e.city].split("__")[0].match(/\((.*)\)/)[1],airport:n.state.newCity[e.city].split("__")[1].match(/\((.*)\)/)[1]},e)),n.setState({selectedData:[a]})}else n.setState({selectedData:[]})}),g()(m()(m()(n)),"handleOpenMenu",function(){var e=n.state;if(e.showDtm===e.showAct)if(n.props.selectedData.length&&n.props.selectedData[0].hasOwnProperty("fromAct")){var t=n.searchInput.current.props.value;n.setState({keyword:t,showDtm:!1,showAct:!0})}else n.setState({showDtm:!0,showAct:!1})}),g()(m()(m()(n)),"handleCloseMenu",function(e){var t=n.state;t.showDtm!==t.showAct&&n.setState({keyword:"",showDtm:!1,showAct:!0})}),g()(m()(m()(n)),"handleEmitRemoveData",function(){n.props.onClearValue&&n.props.onClearValue(),n.setState({selectedData:[],keyword:"",showAct:!1,showDtm:!0})}),g()(m()(m()(n)),"handleLabelWrapClick",function(){n.searchInput.current.inputDOM.focus()}),g()(m()(m()(n)),"handleChange",function(e){e.target.value.length?n.setState({keyword:e.target.value,showAct:!0,showDtm:!1}):n.setState({keyword:"",showAct:!1,showDtm:!0})}),g()(m()(m()(n)),"handleKeyDown",function(e,t){n.props.selectedData.length&&13!==e.keyCode&&e.keyCode&&n.setState({selectedData:[],keyword:e.target.value,showAct:!0,showDtm:!1})}),g()(m()(m()(n)),"formatKeyword",function(e){if(!e.length)return n.state.keyword;if(e[0].value){if(Object.keys(n.state.newCity).length)return n.state.newCity[e[0].city].match(/_(\W+.*)/)[1].replace(/<\((.*)\)>/g,"")}else{var t=e[0].fullName.split("__");switch(t.length){case 2:return t[1];case 3:return t[2]}}}),n.searchInput=_.a.createRef(),n.state={keyword:"",showDtm:!0,showAct:!1,newCity:{},selectedData:n.props.selectedData},n}return p()(t,e),r()(t,[{key:"componentDidMount",value:function(){var e=this;this.getData("./json/flightsInternationaldestinationcsutommenu.js");var t=this.searchInput.current.props.value;this.props.selectedData[0]&&!this.props.selectedData[0].hasOwnProperty("value")?(this.setState({showDtm:!1,showAct:!0}),setTimeout(function(){return e.setState({keyword:t})},0)):this.setState({showDtm:!0,showAct:!1})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.selectedData!==this.props.selectedData&&this.formatKeyword(e.selectedData)}},{key:"shouldComponentUpdate",value:function(e,t){return t!==this.state||e!==this.props}},{key:"render",value:function(){var e=this,t=this.props,n=t.placeholder,a=t.minimumStringQueryLength,l=t.minimumStringQuery,i=t.noMatchText,r=t.label,o=t.subLabel,s=(t.fetchPath,t.isRequired,t.size,t.iconName,this.state),c=s.keyword,u=s.showAct,d=s.showDtm,p=(s.newCity,s.selectedData),h=p.map(function(e){return e.value?e.value:""});return _.a.createElement("div",{className:"SingleInputMenu flights flights-m"},_.a.createElement("svg",{viewBox:"0 0 10 10",display:"none"},_.a.createElement("path",{id:"dtm_rcfr-x",d:"M10 8.59L8.59 10 5 6.41 1.41 10 0 8.59 3.59 5 0 1.41 1.41 0 5 3.59 8.59 0 10 1.41 6.41 5z"})),_.a.createElement("h3",{className:"txt-center page_title m-t-sm m-b-sm"},r),_.a.createElement("div",{className:"dtm_rcfr-row"},_.a.createElement("div",{className:"dtm_rcfr-input-wrap"},_.a.createElement(I.a,{className:"int_rcln int-tags-single",ref:this.searchInput,placeholder:n,value:this.formatKeyword(p),onChange:this.handleChange,onKeyDown:this.handleKeyDown,onClearValue:this.handleEmitRemoveData})),_.a.createElement(j.a,{md:!0,radius:!0,whenClick:function(){return e.emitPushData(p[0])}},"確定")),_.a.createElement(R.a,{InputIsFocus:u,url:"./json/GetArrayTkt6.js",minimumStringQueryLength:a,minimumStringQuery:l,searchKeyWord:c,noMatchText:i,ClassName:!u&&"d-no",footer:!1,theme:"future",closeActcallback:function(t){void 0!==t&&e.handelPushData(t)},changeKey:q,catalogue:H}),_.a.createElement("p",{className:"dtm_rcfr-label"},o),_.a.createElement("div",{className:"dtm_rcfr-wrap ".concat(d?"open":null)},_.a.createElement(V.a,{levelKey:["line","_line","city"],orderMaps:{line:["_5A","_6A","_7A","_3A","_1A","_2A","_4A","_9A"]},onClickItem:function(t){e.handelPushData(t)},dataResouce:"./json/flightsInternationaldestinationcsutommenu.js",selectedData:h,transformFetchData:function(e){if("string"!=typeof e)return e;var t=e.replace(/\r?\n|\r/g,"").replace(/(?:var|let|const)\s(\w+)\s=/g,'"$1":').replace(/;/g,",").replace(/,$/g,"").replace(/'/g,'"'),n=JSON.parse("{"+t+"}");for(var a in function(e,t){for(var n=Object.keys(e),a=0;a<n.length;a++){var l=n[a],i=n[a],r=e[l],o=t(i);"string"==typeof o&&""!==o&&(i=o,delete e[l]),e[i]=r}}(n.line,function(e){return e+"A"}),n._line={},n.line)if(Object.prototype.hasOwnProperty.call(n.line,a)){var l=a.split("A")[0];n._line[a]=g()({},l,n.line[a])}for(var i in n.city)if(Object.prototype.hasOwnProperty.call(n.city,i))for(var r in n.city[i])if(Object.prototype.hasOwnProperty.call(n.city[i],r)){var o=n.city[i][r].split("__")[1].split("-");n.city[i][r]=o.length<3?o[0].replace(/<|>/g,""):o[0]+"-"+o[1]}return n}})))}}]),t}(b.Component);g()(K,"defaultProps",{max:3,minimumStringQueryLength:2}),g()(K,"propTypes",{fetchPath:U.a.string.isRequired,selectedData:U.a.array.isRequired,max:U.a.number,placeholder:U.a.string,minimumStringQueryLength:U.a.number.isRequired,minimumStringQuery:U.a.string,noMatchText:U.a.string,label:U.a.string,onChange:U.a.func});var G=K,W=function(e){var t="./json/TRS1NEWTRAVEL.js";return _.a.createElement(_.a.Fragment,null,_.a.createElement("div",{className:e.customClass},_.a.createElement(I.a,{request:!0,value:e.value1,onClick:e.nvbOpen1,label:"出發地",placeholder:"請輸入國家 / 城市 / 機場",breakline:!0,readOnly:!0}),_.a.createElement("div",{className:"changeBtn",onClick:e.switch}),_.a.createElement(I.a,{request:!0,value:e.value2,onClick:e.nvbOpen2,label:"目的地",placeholder:"請輸入國家 / 城市 / 機場",breakline:!0,readOnly:!0})),_.a.createElement(F.a,{className:"panel-nvb_rslb",visible:e.visible1,direction:"right"},_.a.createElement("span",{className:"nvb_rslb_goBack",onClick:e.nvbClose1},_.a.createElement(S.a,{name:"toolbefore"})),e.visible1&&_.a.createElement(G,{className:"SingleInputMenu",isRequired:!0,size:"lg",label:"出發地",iconName:"toolmap",fetchPath:t,selectedData:e.selectDate1,placeholder:"請選擇/可輸入目的地",minimumStringQueryLength:2,minimumStringQuery:"請輸入至少兩個文字",noMatchText:"很抱歉，找不到符合的項目",subLabel:"找不到選項？請輸入關鍵字查詢",onChange:e.onChange1})),_.a.createElement(F.a,{className:"panel-nvb_rslb",visible:e.visible2,direction:"right"},_.a.createElement("span",{className:"nvb_rslb_goBack",onClick:e.nvbClose2},_.a.createElement(S.a,{name:"toolbefore"})),e.visible2&&_.a.createElement(G,{className:"SingleInputMenu",isRequired:!0,size:"lg",label:"出發地",iconName:"toolmap",fetchPath:t,selectedData:e.selectDate2,placeholder:"請選擇/可輸入目的地",minimumStringQueryLength:2,minimumStringQuery:"請輸入至少兩個文字",noMatchText:"很抱歉，找不到符合的項目",subLabel:"找不到選項？請輸入關鍵字查詢",onChange:e.onChange2})))},Z=n(347),J=function(e){return _.a.createElement(_.a.Fragment,null,_.a.createElement("div",{className:e.customClass},_.a.createElement(I.a,{request:!0,value:e.dateVal.replace(/\-/g,"/"),label:"去程日期",placeholder:"YYYY/MM/DD",icon:_.a.createElement(S.a,{name:"tooldate"}),onClick:e.nvbOpen,readOnly:!0})),_.a.createElement(F.a,{visible:e.visible,direction:"right"},_.a.createElement("span",{className:"nvb_rslb_goBack",onClick:e.nvbClose},_.a.createElement(S.a,{name:"toolbefore"})),e.visible&&_.a.createElement(Z.a,{selectedStartDate:e.dateVal,startLabelTitle:"去程日期",startDate:e.startDate,ref:e.calendarRef,onClickConfirm:e.confirmDate})))},$=function(e){var t=0===e.activeInput||1===e.activeInput;return _.a.createElement(_.a.Fragment,null,_.a.createElement("div",{className:e.customClass},_.a.createElement(I.a,{request:!0,label:"去程日期",placeholder:"YYYY/MM/DD",icon:_.a.createElement(S.a,{name:"tooldate"}),onClick:e.nvbOpen1,value:e.startDate.replace(/\-/g,"/"),readOnly:!0}),_.a.createElement(I.a,{request:!0,label:"回程日期",placeholder:"YYYY/MM/DD",breakline:!0,onClick:e.nvbOpen2,value:e.endDate.replace(/\-/g,"/"),readOnly:!0})),_.a.createElement(F.a,{visible:t,direction:"right"},_.a.createElement("span",{className:"nvb_rslb_goBack",onClick:e.nvbClose},_.a.createElement(S.a,{name:"toolbefore"})),t&&_.a.createElement(Z.a,{doubleChoose:!0,selectedStartDate:e.startDate,selectedEndDate:e.endDate,activeInput:e.activeInput,startMonth:L()().format("YYYY-MM"),endMonth:L()().add(12,"months").format("YYYY-MM"),startDate:L()().format("YYYY-MM-DD"),endDate:L()().add(1,"years").format("YYYY-MM-DD"),startLabelTitle:"去程日期",endLabelTitle:"回程日期",ref:e.calendarRef,onClickConfirm:e.confirmDate,customDiffTxt:function(e){return"共"+(e+1)+"天"}})))},X=function(e){return e.forEach(function(e){e.txt=e.fullName,delete e.fullName}),e},ee=[{catafilter:function(e){return e}}],te=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=s()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(m()(m()(n)),"state",{inputText:"",showAct:!1,isFocus:!1,obj:null,searchKeyWord:"",onClearValue:!1}),g()(m()(m()(n)),"onFocus",function(){n.setState({isFocus:!0,showAct:!0})}),g()(m()(m()(n)),"onBlur",function(){n.setState({isFocus:!1,showAct:!1})}),g()(m()(m()(n)),"receive",function(e){n.props.setNonprefertrans&&n.props.setNonprefertrans("nonprefertrans",e.txt),n.setState({obj:e,inputText:e.txt})}),g()(m()(m()(n)),"onChange",function(e){var t=e.target.value;n.props.setNonprefertrans&&n.props.setNonprefertrans("nonprefertrans",t),n.setState({inputText:t,showAct:2<=t.length,searchKeyWord:t}),""!==t?n.setState({onClearValue:!0}):n.setState({onClearValue:!1})}),g()(m()(m()(n)),"closeBtnClickHandleCallback",function(e){if(n._actref&&!n._actref.contains(e.target)&&!n.state.isFocus){var t=n.state.inputText;n.setState({showAct:!1,searchKeyWord:t})}}),g()(m()(m()(n)),"handleonClearValue",function(){n.props.setNonprefertrans&&n.props.setNonprefertrans("nonprefertrans",""),n.setState({inputText:"",searchKeyWord:"",onClearValue:!1})}),n}return p()(t,e),r()(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.inputText,a=t.showAct,l=t.isFocus,i=t.obj,r=t.searchKeyWord,o=t.onClearValue;return _.a.createElement("div",{className:"filterTransfer"},_.a.createElement(A.a,{size:"lg",label:"排除轉機國家",subComponent:_.a.createElement(_.a.Fragment,null,_.a.createElement("div",{className:"int_rcln int-tags-single noBorder"},_.a.createElement("input",{type:"text",value:n,placeholder:"請選擇",onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur}),o?_.a.createElement("span",{className:"clearBtn",onMouseDown:this.handleonClearValue}):null),_.a.createElement(R.a,{url:"./src/json/country.json",minimumStringQueryLength:2,minimumStringQuery:"最少輸入兩個字",setRef:function(t){e._actref=t},ClassName:!a&&"d-no",searchKeyWord:r,whenItemSelect:this.receive,InputIsFocus:l,noMatchText:"找不到資料",footer:!1,theme:"future",closeActcallback:function(){return e.setState({showAct:!1})},closeBtnClickHandleCallback:this.closeBtnClickHandleCallback,setSelectValue:i?i.dataIndex:"",changeKey:X,catalogue:ee}))}))}}]),t}(b.Component),ne=function(e){function t(e){var n;return l()(this,t),n=s()(this,u()(t).call(this,e)),g()(m()(m()(n)),"onClickAdd",function(e){var t=n.state,a=t.adultObj.count,l=t.childObj.count,i=t.babyObj.count;switch(e){case"adultObj":a+=1;break;case"childObj":l+=1;break;case"babyObj":i+=1}n.renderState(a,l,i)}),g()(m()(m()(n)),"onClickMinus",function(e){var t=n.state,a=t.adultObj.count,l=t.childObj.count,i=t.babyObj.count;switch(e){case"adultObj":a-=1;break;case"childObj":l-=1;break;case"babyObj":i-=1}n.renderState(a,l,i)}),n.maxSum=8,n.state={title:{adult:"大人(12+)",child:"孩童(2-11)",baby:"嬰兒(<2)"},adultObj:{min:1,max:8,count:1},childObj:{min:0,max:8,count:0},babyObj:{min:0,max:1,count:0}},n}return p()(t,e),r()(t,[{key:"renderState",value:function(e,t,n){var a=e+t+n,l=this.state,i=l.adultObj,r=i.min,o=i.max,s=l.childObj,c=s.min,u=s.max,d=l.babyObj,p=d.min,h=d.max;a>this.maxSum||o<e||e<r||u<t||t<c||h<n||n<p||(this.props.setTotalPeople&&this.props.setTotalPeople({totalNum:a}),this.props.setAdt&&this.props.setAdt("adt",e),this.props.setChd&&this.props.setChd("chd",t),this.props.setInf&&this.props.setInf("inf",e<h?e:n),this.setState({adultObj:{min:1,max:this.maxSum-t-n,count:e},childObj:{min:0,max:this.maxSum-e-n,count:t},babyObj:{min:0,max:t+2*e<=this.maxSum||e<h?e:this.maxSum-e-t,count:e<h?e:n}}))}},{key:"render",value:function(){var e=this;return _.a.createElement("div",{className:"con-people"},_.a.createElement("div",{className:"num-people"},_.a.createElement("span",null,this.state.title.adult),_.a.createElement(k.a,{id:"peopleAdult",xin:!0,max:this.state.adultObj.max,min:this.state.adultObj.min,count:this.state.adultObj.count,btnClassMinus:"ic_rcln toolcancelb",btnClassAdd:"ic_rcln tooladdb",onClickAdd:function(){e.onClickAdd("adultObj")},onClickMinus:function(){e.onClickMinus("adultObj")}})),_.a.createElement("div",{className:"num-people"},_.a.createElement("span",null,this.state.title.child),_.a.createElement(k.a,{id:"peopleChild",xin:!0,max:this.state.childObj.max,min:this.state.childObj.min,count:this.state.childObj.count,btnClassMinus:"ic_rcln toolcancelb",btnClassAdd:"ic_rcln tooladdb",onClickAdd:function(){e.onClickAdd("childObj")},onClickMinus:function(){e.onClickMinus("childObj")}})),_.a.createElement("div",{className:"num-people"},_.a.createElement("span",null,this.state.title.baby),_.a.createElement(k.a,{id:"peopleBaby",xin:!0,max:this.state.babyObj.max,min:this.state.babyObj.min,count:this.state.babyObj.count,btnClassMinus:"ic_rcln toolcancelb",btnClassAdd:"ic_rcln tooladdb",onClickAdd:function(){e.onClickAdd("babyObj")},onClickMinus:function(){e.onClickMinus("babyObj")}})))}}]),t}(b.Component),ae=function(e){function t(e){var n;return l()(this,t),n=s()(this,u()(t).call(this,e)),g()(m()(m()(n)),"dcConfirm",function(){var e=n.calendar.state,t=e.selectedStartDate,a=e.selectedEndDate;n.props.setDepdate1&&n.props.setDepdate1("depdate1",t),n.props.setDepdate2&&n.props.setDepdate1("depdate2",a),n.setState({selectedStartDate:t,selectedEndDate:a,activeInput:null})}),g()(m()(m()(n)),"setCabin",function(e){var t=Number(e);n.props.setClstype&&n.props.setClstype("clstype",e),n.setState({clstype:t,clstypeText:n.ClsTypeLevel[e].text})}),g()(m()(m()(n)),"compare",function(e){for(var t=n.state.multiItems,a=E()(t),l="",i=e.replace(/\-/g,"/"),r=Date.parse(i).valueOf(),o=0;o<a.length;o++){var s=a[o].selectedStartDate.replace(/\-/g,"/");l=r<=Date.parse(s).valueOf()?a[o].selectedStartDate:e}return l}),g()(m()(m()(n)),"addItem",function(){var e=n.state.multiItems,t=E()(e),a=Math.floor(500*Math.random()),l=n.compare(t[0].selectedStartDate);if(5<=t.length)return!1;t.push({id:a,startDate:l,selectedStartDate:l,showCalendar:!1,nvbOpen1:!1,nvbOpen2:!1,selectDate1:[],selectDate2:[],dptSelectDate:[],dtnSelectDate:[]}),n.props.setDepDateItems&&n.props.setDepDateItems("multiItems",t),n.setState({multiItems:t})}),g()(m()(m()(n)),"minusItem",function(e){var t=n.state.multiItems.filter(function(t){return e!==t.id});n.props.setDepDateItems&&n.props.setDepDateItems("multiItems",t),n.setState({multiItems:t})}),g()(m()(m()(n)),"handleConfirm",function(){var e=n.calendar.state.selectedStartDate,t=n.state.multiItems;t.forEach(function(t){t.startDate=e,t.selectedStartDate=n.compare(e)}),n.setState({selectedStartDate:e,showCalendar:!1,multiItems:t}),n.props.setDepdate1&&n.props.setDepdate1("depdate1",e)}),g()(m()(m()(n)),"itemConfirmDate",function(e,t){var a=n.calendar.state.selectedStartDate,l=n.state.multiItems;n.updateState("selectedStartDate",a,e),n.updateState("showCalendar",!1,e),void 0!==l[t+1]&&(n.updateState("startDate",l[t].selectedStartDate,l[t+1].id),n.nowDateCompareOther(t,l[t].selectedStartDate))}),g()(m()(m()(n)),"updateState",function(e,t,a){var l=n.state.multiItems;if(void 0===a)n.setState(g()({},e,t));else{for(var i in l)if(l[i].id===a){l[i][e]=t;break}n.props.setDepDateItems&&n.props.setDepDateItems("multiItems",l),n.setState({multiItems:l})}}),g()(m()(m()(n)),"placeChange",function(e,t,a,l,i,r){var o,s=[];"object"===D()(e)&&s.push(e),void 0===r?n.setState((o={},g()(o,a,s.length?t:""),g()(o,l,s),g()(o,i,!1),o)):(n.updateState(a,s.length?t:"",r),n.updateState(l,s,r),n.updateState(i,!1,r))}),g()(m()(m()(n)),"switch",function(){alert()}),n.state={selectedStartDate:"",selectedEndDate:"",showCalendar:!1,activeInput:null,clstypeText:"",clstype:0,totalNum:1,multiItems:[{id:1,startDate:L()().format("YYYY-MM-DD"),selectedStartDate:"",showCalendar:!1,nvbOpen1:!1,nvbOpen2:!1,selectDate1:[],selectDate2:[],dptSelectDate:[],dtnSelectDate:[]}],nvbOpen1:!1,nvbOpen2:!1,selectDate1:[],selectDate2:[],dptSelectDate:[],dtnSelectDate:[]},n.ClsTypeLevel=[{text:"不限",value:0},{text:"經濟艙",value:1},{text:"豪華經濟艙",value:2},{text:"商務艙",value:3},{text:"頭等艙",value:4}],n.cheapFlightOptions=[{text:"不限",value:1},{text:"只要廉價航空",value:2},{text:"排除廉價航空",value:3}],n.fetchPath="./json/TRS1NEWTRAVEL.js",n}return p()(t,e),r()(t,[{key:"componentDidMount",value:function(){var e=this.state.multiItems;this.props.setDepDateItems("multiItems",e)}},{key:"transform",value:function(e){var t=e.replace(/\-/g,"/");return Date.parse(t).valueOf()}},{key:"nowDateCompareOther",value:function(e,t){for(var n=this.calendar.state.selectedStartDate,a=this.state.multiItems,l=this.transform(t),i="",r=e+1;r<a.length;r++)this.transform(a[r].selectedStartDate)<=l?(i=a[r].selectedStartDate,this.updateState("selectedStartDate",n,a[r].id)):(i=a[e].selectedStartDate,this.updateState("startDate",i,a[r].id))}},{key:"render",value:function(){var e=this,t=this.state,n=t.selectedStartDate,a=t.selectedEndDate,l=t.showCalendar,i=t.clstype,r=t.clstypeText,o=t.totalNum,s=t.activeInput,c=t.multiItems,u=t.dptSelectDate,d=t.dtnSelectDate,p=t.selectDate1,h=t.selectDate2,m=t.nvbOpen1,f=t.nvbOpen2,g=this.props.rtow,b=3===g&&"threeStyle",v=3===g?" show":" hide",C=1===g?"show":"hide",w=0===g||3===g?"show":"hide";return _.a.createElement(_.a.Fragment,null,_.a.createElement("div",{className:b},_.a.createElement(W,{customClass:"doubleChangeStyle",value1:u||"",value2:d||"",nvbOpen1:function(){return e.updateState("nvbOpen1",!0)},nvbOpen2:function(){return e.updateState("nvbOpen2",!0)},nvbClose1:function(){return e.updateState("nvbOpen1",!1)},nvbClose2:function(){return e.updateState("nvbOpen2",!1)},switch:this.switch,visible1:m,visible2:f,selectDate1:p,selectDate2:h,onChange1:function(t,n){return e.placeChange(t,n,"dptSelectDate","selectDate1","nvbOpen1")},onChange2:function(t,n){return e.placeChange(t,n,"dtnSelectDate","selectDate2","nvbOpen2")}}),_.a.createElement("div",{className:w},_.a.createElement(J,{customClass:"singleCalendar",dateVal:n,visible:l,calendarRef:function(t){e.calendar=t},nvbOpen:function(){return e.updateState("showCalendar",!0)},nvbClose:function(){return e.updateState("showCalendar",!1)},confirmDate:this.handleConfirm}))),_.a.createElement("div",{className:C},_.a.createElement($,{customClass:"doubleCalendar",startDate:n,endDate:a,activeInput:s,calendarRef:function(t){e.calendar=t},nvbOpen1:function(){return e.updateState("activeInput",0)},nvbOpen2:function(){return e.updateState("activeInput",1)},nvbClose:function(){return e.updateState("activeInput",null)},confirmDate:this.dcConfirm})),c.map(function(t,n){return _.a.createElement("div",{key:n,className:b+v},_.a.createElement(W,{customClass:"doubleChangeStyle",value1:t.dptSelectDate||"",value2:t.dtnSelectDate||"",nvbOpen1:function(){return e.updateState("nvbOpen1",!0,t.id)},nvbOpen2:function(){return e.updateState("nvbOpen2",!0,t.id)},nvbClose1:function(){return e.updateState("nvbOpen1",!1,t.id)},nvbClose2:function(){return e.updateState("nvbOpen2",!1,t.id)},visible1:t.nvbOpen1,visible2:t.nvbOpen2,selectDate1:t.selectDate1,selectDate2:t.selectDate2,onChange1:function(n,a){return e.placeChange(n,a,"dptSelectDate","selectDate1","nvbOpen1",t.id)},onChange2:function(n,a){return e.placeChange(n,a,"dtnSelectDate","selectDate2","nvbOpen2",t.id)}}),_.a.createElement("div",{className:"haveMinus"},_.a.createElement(J,{customClass:"singleCalendar",dateVal:t.selectedStartDate,startDate:t.startDate,visible:t.showCalendar,calendarRef:function(t){e.calendar=t},nvbOpen:function(){return e.updateState("showCalendar",!0,t.id)},nvbClose:function(){return e.updateState("showCalendar",!1,t.id)},confirmDate:function(){return e.itemConfirmDate(t.id,n)}}),0!==n&&_.a.createElement(j.a,{prop:"string",className:"minus-items mulitMinus",whenClick:function(){return e.minusItem(t.id)}},_.a.createElement(S.a,{name:"toolcancelb",size:"x15"}))))}),5!==c.length&&_.a.createElement("div",{className:v},_.a.createElement(j.a,{prop:"string",className:"add-items mulitAdd",whenClick:this.addItem},_.a.createElement(S.a,{name:"tooladdb",size:"x15"})," 增加航段")),_.a.createElement(N.a,{CustomComponent:_.a.createElement(I.a,{request:!0,value:"共".concat(o,"人，").concat(r),label:"人數/艙等",icon:_.a.createElement(S.a,{name:"toolmember"}),readOnly:!0}),ContentComponent:_.a.createElement("div",{className:"flight_international peopleCabinStyle"},_.a.createElement(M.a,{option:this.ClsTypeLevel,placeholder:"請選擇",label:"艙等：",onChangeCallBack:function(t){return e.setCabin(Number(t))},defaultValue:i}),_.a.createElement(ne,{setTotalPeople:function(t){return e.setState(t)},setAdt:this.props.setAdt,setChd:this.props.setChd,setInf:this.props.setInf}),_.a.createElement("div",{className:"con-tooltip"},"大人：以出發日為準，年滿12歲(含)以上。",_.a.createElement("br",null),"孩童：全程搭乘日為準，年滿2歲(含)以上，未滿12歲。",_.a.createElement("br",null),"嬰兒：全程搭乘日為準，未滿2歲(不列入幾人成行的人數計算)。",_.a.createElement("br",null))),moduleClassName:"StRnls1 peopleCabin",appendToBody:!0,width:"100%",innerComponentClass:["outClass"]}),_.a.createElement("div",{className:"checkBoxContainer"},_.a.createElement(O.a,{type:"checkbox",textContent:"直飛(含中停)",whenChange:function(t){return e.props.setNoTrans("notrans",t?"T":"F")}}),_.a.createElement(O.a,{className:"checkBoxMagin",type:"checkbox",textContent:"只找有機位",whenChange:function(t){return e.props.setHaveSeat("haveseat",t?1:2)}})),_.a.createElement(T.a,{titleText:"更多搜尋選項",ContentComponent:_.a.createElement(_.a.Fragment,null,_.a.createElement("div",{className:"searchMoreTop"},_.a.createElement(te,{setNonprefertrans:this.props.setNonprefertrans}),_.a.createElement(M.a,{option:this.cheapFlightOptions,placeholder:"請選擇",label:"廉價航空",breakline:!0,onChangeCallBack:function(t){return e.props.setSourceSystem("sourcesystem",t)},defaultValue:1})),_.a.createElement(O.a,{className:"checkBoxMagin",type:"checkbox",textContent:"排除過夜轉機航班",whenChange:function(t){return e.props.setNonprefertransnight("nonprefertransnight",t?"T":"F")}})),moduleClassName:"openMoreOptions",isRightLeft:{destination:"right",name:"toolnext"}}),_.a.createElement(j.a,{prop:"string",className:"lg submitBtn",whenClick:this.props.sendData},"搜尋"))}}]),t}(b.Component),le=function(e){function t(e){var n;return l()(this,t),n=s()(this,u()(t).call(this,e)),g()(m()(m()(n)),"tripChange",function(e){n.setState({rtow:e})}),g()(m()(m()(n)),"setVal",function(e,t){n.setState(g()({},e,t))}),n.state={rtow:0,depdate1:"",depdate2:"",clstype:1,notrans:"F",haveseat:"F",nonprefertrans:"",sourcesystem:"",nonprefertransnight:"F",adt:1,chd:0,inf:0,multiItems:[]},n}return p()(t,e),r()(t,[{key:"render",value:function(){var e=this;return _.a.createElement("div",{className:"flight_international_mobile"},_.a.createElement(w,{rtow:this.state.rtow,tripChange:function(t){return e.tripChange(t)}}),_.a.createElement(ae,{rtow:this.state.rtow,setDepdate1:this.setVal,setDepdate2:this.setVal,setClstype:this.setVal,setAdt:this.setVal,setChd:this.setVal,setInf:this.setVal,setNoTrans:this.setVal,setHaveSeat:this.setVal,setNonprefertrans:this.setVal,setSourceSystem:this.setVal,setNonprefertransnight:this.setVal,setDepDateItems:this.setVal}))}}]),t}(b.Component);n.d(t,"default",function(){return le})},311:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"e",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return c});var a=n(327),l=n.n(a);function i(e,t){fetch(e,{method:"GET"}).then(function(e){return e.text()}).then(function(e){var t=e.replace(/\r?\n|\r/g,"").replace(/(?:var|let|const)\s(\w+)\s=/g,'"$1":').replace(/;/g,",").replace(/,$/g,"").replace(/'/g,'"');return JSON.parse("{"+t+"}")}).then(function(e){t(e)})}function r(e){var t=e,n="",a=Object.keys(t).length,l=0;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n+=a<=++l?i+"="+t[i]:i+"="+t[i]+"&");return n}function o(e){var t=e.split("-"),n=l()(t,2),a=n[0],i=n[1];return[a=Number(a),i=Number(i)]}function s(){return new Date((new Date).getFullYear(),(new Date).getMonth(),1,8).toISOString().slice(0,7)}var c={fetchJsToObj:i,findHighestZIndex:function(e){for(var t=document.getElementsByTagName(e),n=0,a=0;a<t.length;a++){var l=document.defaultView.getComputedStyle(t[a],null).getPropertyValue("z-index");n<l&&"auto"!==l&&(n=l)}return parseInt(n,10)},getDomPosition:function(e,t){return"top"===t?e.getBoundingClientRect()[t]+window.pageYOffset:e.getBoundingClientRect()[t]},toQueryString:r,getYearAndMonth:o,getNowMonth:s}},321:function(e,t,n){"use strict";var a=n(311),l=n(323),i=n(324),r=n.n(i),o=n(328),s=n.n(o),c=n(312),u=n.n(c),d=n(313),p=n.n(d),h=n(314),m=n.n(h),f=n(315),g=n.n(f),b=n(316),_=n.n(b),v=n(317),C=n.n(v),w=n(318),x=n.n(w),D=n(20),y=n.n(D),E=n(115),S=n.n(E),k=function(e){function t(e){var n;return u()(this,t),n=m()(this,g()(t).call(this,e)),x()(C()(C()(n)),"handle",function(e){if(n.isClickInSide)n.isClickInSide=!1;else if("touchend"===e.type&&(n.isTouch=!0),"click"!==e.type||!n.isTouch){var t=n.props.onClickOutside;!1===n.isUnMounted&&t(e)}}),x()(C()(C()(n)),"handleClick",function(){n.isClickInSide=!0}),n.isTouch=!1,n.isClickInSide=!1,n.isUnMounted=!1,n}return _()(t,e),p()(t,[{key:"componentDidMount",value:function(){document.addEventListener("touchend",this.handle,!1),document.addEventListener("click",this.handle,!1)}},{key:"componentWillUnmount",value:function(){this.isUnMounted=!0,document.removeEventListener("touchend",this.handle,!1),document.removeEventListener("click",this.handle,!1)}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.onClickOutside,s()(e,["children","onClickOutside"]));return y.a.createElement("div",r()({},n,{onClick:this.handleClick}),t)}}]),t}(D.Component);x()(k,"propTypes",{onClickOutside:S.a.func.isRequired}),n.d(t,"b",function(){return a.a}),n.d(t,"c",function(){return a.b}),n.d(t,"f",function(){return a.e}),n.d(t,"e",function(){return a.d}),n.d(t,"d",function(){return a.c}),n.d(t,"a",function(){return l.a})},323:function(e,t,n){"use strict";n.d(t,"a",function(){return k});var a=n(324),l=n.n(a),i=n(328),r=n.n(i),o=n(312),s=n.n(o),c=n(313),u=n.n(c),d=n(314),p=n.n(d),h=n(315),m=n.n(h),f=n(316),g=n.n(f),b=n(317),_=n.n(b),v=n(318),C=n.n(v),w=n(20),x=n.n(w),D=n(84),y=n.n(D),E=n(115),S=n.n(E),k=function(e){function t(e){var n;return s()(this,t),n=p()(this,m()(t).call(this,e)),C()(_()(_()(n)),"handle",function(e){if(!n.__domNode.contains(e.target)){var t=n.props.onClickOutside;"function"==typeof t&&t(e)}}),n.isTouch=!1,n.isClickInSide=!1,n.isUnMounted=!1,n.__domNode=null,n.__wrappedInstance=null,n}return g()(t,e),u()(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handle,!0)}},{key:"componentWillUnmount",value:function(){this.isUnMounted=!0,document.removeEventListener("click",this.handle,!0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=(t.onClickOutside,r()(t,["children","onClickOutside"]));return x.a.createElement("div",l()({},a,{ref:function(t){e.__domNode=y.a.findDOMNode(t),e.__wrappedInstance=t}}),n)}}]),t}(w.Component);C()(k,"propTypes",{onClickOutside:S.a.func.isRequired})},357:function(e,t,n){(e.exports=n(319)(!1)).push([e.i,".SingleInputMenu .dtm_rcfr {\n  position: relative; }\n  .SingleInputMenu .dtm_rcfr-row {\n    display: flex; }\n  .SingleInputMenu .dtm_rcfr-wrap {\n    display: none;\n    position: absolute;\n    top: 100%;\n    left: -1px;\n    width: 690px;\n    padding: 16px 14px 0;\n    background-color: #fff;\n    z-index: 11;\n    border: 1px solid rgba(153, 153, 153, 0.7); }\n    .SingleInputMenu .dtm_rcfr-wrap.open {\n      display: block; }\n  .SingleInputMenu .dtm_rcfr-label {\n    margin: 0 0 12px;\n    font-size: 14px;\n    color: #24a07d; }\n  .SingleInputMenu .dtm_rcfr-close_btn {\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 16px;\n    cursor: pointer; }\n    .SingleInputMenu .dtm_rcfr-close_btn svg {\n      width: 16px;\n      height: 16px; }\n  .SingleInputMenu .dtm_rcfr-selected-wrap {\n    white-space: nowrap; }\n  .SingleInputMenu .dtm_rcfr-selected {\n    display: inline-flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 107px;\n    line-height: 1.3;\n    margin: 0 4px 0 0;\n    padding-left: 4px;\n    font-size: 16px;\n    font-weight: bold;\n    color: #0077b3;\n    background-color: #eaeaea;\n    cursor: pointer; }\n    .SingleInputMenu .dtm_rcfr-selected:last-of-type {\n      margin: 0; }\n    .SingleInputMenu .dtm_rcfr-selected span {\n      width: 80px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap; }\n    .SingleInputMenu .dtm_rcfr-selected i {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 20px;\n      height: 20px; }\n    .SingleInputMenu .dtm_rcfr-selected svg {\n      width: 6px;\n      height: 6px;\n      fill: #999; }\n\n.SingleInputMenu .act_racp {\n  left: 0;\n  min-width: 100%; }\n\n.SingleInputMenu .int_rctg .dtm_rcfr {\n  width: auto;\n  height: auto; }\n\n.SingleInputMenu .int_rcln {\n  height: auto; }\n  .SingleInputMenu .int_rcln_input {\n    border: none;\n    padding: 0;\n    font-weight: bold;\n    color: #0077b3; }\n\n.SingleInputMenu .int_rctg {\n  padding-right: 0; }\n  .SingleInputMenu .int_rctg .int_rcln_input {\n    flex: 0 0 auto; }\n\n.SingleInputMenu.flights .dtm_rcfr .sec_title {\n  display: none; }\n\n.SingleInputMenu.flights-m .dtm_rcfr {\n  position: relative;\n  width: auto; }\n  .SingleInputMenu.flights-m .dtm_rcfr-row {\n    display: flex;\n    margin: 0 15px; }\n    .SingleInputMenu.flights-m .dtm_rcfr-row .int_rcln_input {\n      border: none; }\n    .SingleInputMenu.flights-m .dtm_rcfr-row .bt_rcnb {\n      margin-left: 10px; }\n  .SingleInputMenu.flights-m .dtm_rcfr-input-wrap {\n    display: flex;\n    align-items: center;\n    width: 100%;\n    padding: 0 10px;\n    border: 2px solid #ff8b88; }\n  .SingleInputMenu.flights-m .dtm_rcfr-wrap {\n    display: none;\n    position: static;\n    width: 100%;\n    height: calc(100vh - 130px);\n    padding: 0;\n    overflow: auto;\n    border: 0;\n    background-color: #fff; }\n    .SingleInputMenu.flights-m .dtm_rcfr-wrap.open {\n      display: block; }\n  .SingleInputMenu.flights-m .dtm_rcfr-label {\n    margin: 8px 0 10px 25px;\n    font-size: 14px;\n    color: #24a07d; }\n  .SingleInputMenu.flights-m .dtm_rcfr-close_btn {\n    display: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 10px;\n    cursor: pointer; }\n    .SingleInputMenu.flights-m .dtm_rcfr-close_btn svg {\n      width: 16px;\n      height: 16px; }\n  .SingleInputMenu.flights-m .dtm_rcfr-selected-wrap {\n    white-space: nowrap; }\n  .SingleInputMenu.flights-m .dtm_rcfr-selected {\n    display: inline-flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 20vw;\n    line-height: 1;\n    margin: 0 4px 0 0;\n    padding-left: 4px;\n    font-size: 16px;\n    font-weight: bold;\n    color: #0077b3;\n    background-color: #eaeaea;\n    cursor: pointer;\n    min-width: calc(100%/3); }\n    .SingleInputMenu.flights-m .dtm_rcfr-selected:last-of-type {\n      margin: 0; }\n    .SingleInputMenu.flights-m .dtm_rcfr-selected span {\n      width: 80px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap; }\n    .SingleInputMenu.flights-m .dtm_rcfr-selected i {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 20px;\n      height: 20px; }\n    .SingleInputMenu.flights-m .dtm_rcfr-selected svg {\n      width: 6px;\n      height: 6px;\n      fill: #999; }\n  .SingleInputMenu.flights-m .dtm_rcfr .panel:last-child .sec_content > .item {\n    width: 33%; }\n  .SingleInputMenu.flights-m .dtm_rcfr .cr_rcln > span {\n    font-weight: bold;\n    font-size: 16px;\n    line-height: 16px;\n    vertical-align: text-bottom; }\n  .SingleInputMenu.flights-m .dtm_rcfr .tabs {\n    padding-top: 0px; }\n\n.SingleInputMenu.flights-m .act_racp {\n  box-shadow: none;\n  outline: none;\n  left: 0;\n  min-width: 100%;\n  height: calc(100vh - 130px);\n  max-height: 100%;\n  margin-top: 40px; }\n  .SingleInputMenu.flights-m .act_racp-future .m-place .close,\n  .SingleInputMenu.flights-m .act_racp-future .noMatchText .close {\n    display: none; }\n  .SingleInputMenu.flights-m .act_racp-future .noMatchText {\n    color: #999;\n    padding: 0; }\n  .SingleInputMenu.flights-m .act_racp .section {\n    max-width: 100%; }\n\n.SingleInputMenu.flights-m.dischange .act_racp {\n  margin: 10px; }\n",""])},366:function(e,t,n){(e.exports=n(319)(!1)).push([e.i,".flight_chinese .st_rcln .ic_rcln {\n  color: #999; }\n\n.flight_chinese .st_rcln .dropdown-place-holder {\n  font-weight: bold;\n  font-size: 16px;\n  color: #0077b3; }\n  .flight_chinese .st_rcln .dropdown-place-holder .dropdown-label {\n    font-weight: normal;\n    font-size: 14px;\n    color: #999; }\n  .flight_chinese .st_rcln .dropdown-place-holder input {\n    width: 100%;\n    color: #0077b3; }\n  .flight_chinese .st_rcln .dropdown-place-holder .cy_rcln {\n    color: black; }\n  .flight_chinese .st_rcln .dropdown-place-holder.selected {\n    color: #0077b3; }\n\n.flight_chinese .icon .ic_rcln {\n  font-size: 20px;\n  padding-left: 5px;\n  color: #999; }\n\n.flight_chinese .int_rcln.icon > i {\n  left: 0; }\n\n.flight_chinese .int_rcln_input {\n  color: #0077b3;\n  font-weight: bold; }\n  .flight_chinese .int_rcln_input::-webkit-input-placeholder {\n    color: #0077b3; }\n\n.flight_chinese .dpt:after {\n  content: '';\n  display: none; }\n\n.flight_chinese .bor-right .int_rcln_input {\n  border-right: 1px solid #e3e3e3; }\n\n.flight_chinese .peopleAndCabin .int_rcln_label {\n  font-size: 14px; }\n\n.flight_chinese .peopleAndCabin .int_rcln_input {\n  padding-top: 22px; }\n\n.flight_chinese .footer button {\n  width: 100%; }\n\n.flight_chinese .footer .footerInfo {\n  color: #1c9c9d;\n  margin: 10px 0; }\n  .flight_chinese .footer .footerInfo a {\n    text-decoration: none;\n    cursor: pointer; }\n\n@media (min-width: 980px) {\n  .flight_chinese .footer button {\n    width: 90px;\n    float: right;\n    margin-top: 48px; } }\n\n.flight_chinese .st_rnls_descendant_content {\n  padding-right: 30px; }\n  .flight_chinese .st_rnls_descendant_content .st_rcln {\n    width: auto; }\n    .flight_chinese .st_rnls_descendant_content .st_rcln .dropdown-place-holder {\n      color: #0077b3; }\n  .flight_chinese .st_rnls_descendant_content .peopleContent {\n    padding-top: 10px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center; }\n  .flight_chinese .st_rnls_descendant_content .st_rnls_descendant_content_close {\n    font-size: 16px; }\n\n.flight_chinese .cy_rcln .prev,\n.flight_chinese .cy_rcln .next {\n  z-index: 100; }\n\n.flight_chinese .cy_rcln .calendar_box {\n  z-index: 99; }\n\n.flight_chinese .pcCalendarCont {\n  position: relative; }\n  .flight_chinese .pcCalendarCont .cy_rcln {\n    position: absolute;\n    top: 26px;\n    left: 0;\n    z-index: 5; }\n\n.flight_chinese .peopleAndCabin {\n  position: relative; }\n  .flight_chinese .peopleAndCabin .st_rnls_descendant_content {\n    position: absolute;\n    top: 49px;\n    left: 0;\n    width: 100% !important;\n    z-index: 5; }\n",""])},367:function(e,t,n){(e.exports=n(319)(!1)).push([e.i,".flight_taiwan .st_rcln .ic_rcln {\n  color: #999; }\n\n.flight_taiwan .st_rcln .dropdown-place-holder {\n  font-weight: bold;\n  font-size: 16px;\n  color: #0077b3; }\n  .flight_taiwan .st_rcln .dropdown-place-holder .dropdown-label {\n    font-weight: normal;\n    font-size: 14px;\n    color: #999; }\n\n.flight_taiwan .icon .ic_rcln {\n  font-size: 20px;\n  padding-left: 5px;\n  color: #999; }\n\n.flight_taiwan .int_rcln.icon > i {\n  left: 0; }\n\n.flight_taiwan .int_rcln_label {\n  color: #999; }\n\n.flight_taiwan .int_rcln_input {\n  color: #0077b3;\n  font-weight: bold; }\n  .flight_taiwan .int_rcln_input::-webkit-input-placeholder {\n    color: #0077b3; }\n\n.flight_taiwan .calendar_compose .int_rcln.breakline.icon {\n  padding: 5px 0; }\n\n.flight_taiwan .calendar_compose .content {\n  padding-top: 35px; }\n  .flight_taiwan .calendar_compose .content .close_btn {\n    font-size: 24px;\n    padding: 0 8px;\n    right: 0;\n    top: 0; }\n\n.flight_taiwan .bor-right .int_rcln_input {\n  border-right: 1px solid #e3e3e3; }\n\n.flight_taiwan .aroundInput {\n  display: flex; }\n  .flight_taiwan .aroundInput .int_rcln.breakline.icon {\n    padding: 5px 0; }\n  .flight_taiwan .aroundInput .int_rcln .int_rcln_input {\n    padding-top: 25px; }\n  .flight_taiwan .aroundInput .int_rcln .int_rcln_label {\n    font-size: 14px; }\n  .flight_taiwan .aroundInput .int_rcln:first-child .int_rcln_input {\n    padding-left: 38px !important; }\n  .flight_taiwan .aroundInput .int_rcln:first-child .int_rcln_label {\n    left: 37px; }\n  .flight_taiwan .aroundInput .clearBtn {\n    display: none; }\n    @media (min-width: 980px) {\n      .flight_taiwan .aroundInput .clearBtn {\n        display: block; } }\n\n.flight_taiwan .footer {\n  display: flex;\n  justify-content: space-between; }\n  .flight_taiwan .footer .footerInfo {\n    color: #24a07d;\n    line-height: 1.43; }\n    .flight_taiwan .footer .footerInfo a {\n      color: #24a07d;\n      text-decoration: underline;\n      cursor: pointer; }\n  .flight_taiwan .footer button {\n    min-width: 90px; }\n\n.flight_taiwan .Rtow {\n  flex: 0 0 30%;\n  margin: 0;\n  padding: 0;\n  list-style-type: none;\n  border-bottom: 1px solid #b0b0b0;\n  background-color: transparent;\n  border-right: none;\n  font-size: 16px; }\n  .flight_taiwan .Rtow li {\n    cursor: pointer;\n    width: auto;\n    color: #888;\n    font-weight: 700;\n    display: inline-block;\n    border-bottom: 2px solid transparent;\n    margin: 0 10px -1px 0;\n    text-align: center;\n    padding: 7px 8px; }\n    .flight_taiwan .Rtow li.active {\n      color: #e10500;\n      border-color: #e10500;\n      background-color: transparent;\n      width: auto; }\n\n.flight_taiwan .pos-bottom {\n  bottom: 0; }\n",""])},413:function(e,t,n){(e.exports=n(319)(!1)).push([e.i,".flight_international_mobile .Rtow {\n  flex: 0 0 30%;\n  margin: 0;\n  padding: 0;\n  list-style-type: none;\n  border-bottom: 1px solid #b0b0b0;\n  background-color: transparent;\n  border-right: none;\n  font-size: 16px; }\n  .flight_international_mobile .Rtow li {\n    cursor: pointer;\n    width: auto;\n    color: #888;\n    font-weight: 700;\n    display: inline-block;\n    border-bottom: 2px solid transparent;\n    margin: 0 10px -1px 0;\n    text-align: center;\n    padding: 7px 8px;\n    font-size: 14px; }\n    .flight_international_mobile .Rtow li.active {\n      color: #e10500;\n      border-color: #e10500;\n      background-color: transparent;\n      width: auto; }\n\n.flight_international_mobile .show {\n  display: block; }\n\n.flight_international_mobile .hide {\n  display: none; }\n\n.flight_international_mobile .threeStyle {\n  margin-top: 10px; }\n  .flight_international_mobile .threeStyle .doubleChangeStyle {\n    margin: 0; }\n  .flight_international_mobile .threeStyle .singleCalendar {\n    border-top: none; }\n  .flight_international_mobile .threeStyle .mulitMinus {\n    min-width: 30px;\n    height: 30px;\n    border-radius: 3px;\n    background-color: #fff;\n    color: #ff615d;\n    border: 1px solid #ff615d;\n    padding: 0;\n    margin: 10px 10px 0 10px; }\n  .flight_international_mobile .threeStyle .haveMinus {\n    display: flex; }\n    .flight_international_mobile .threeStyle .haveMinus > *:first-child {\n      flex: 1; }\n\n.flight_international_mobile .doubleChangeStyle {\n  display: flex;\n  align-items: center;\n  margin: 10px 0;\n  border: 1px solid #ddd; }\n  .flight_international_mobile .doubleChangeStyle .changeBtn {\n    width: 12px;\n    height: 50px;\n    background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyOCIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAwIDE0IDEwIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZD0iTS0xLTNoMTZ2MTZILTF6Ii8+CiAgICAgICAgPHBhdGggZmlsbD0iIzAwMCIgZD0iTS4xNiAzLjIxM0wyLjQ5Mi44NzlhLjU0NC41NDQgMCAxIDEgLjc3Ljc3TDEuODU5IDMuMDUzaDExLjU5N2EuNTQ0LjU0NCAwIDEgMSAwIDEuMDlILjU0NGEuNTQ0LjU0NCAwIDAgMS0uMzg1LS45M3ptMTMuNjggMy41N2wtMi4zMzMgMi4zMzNhLjU0NC41NDQgMCAxIDEtLjc3LS43N2wxLjQwNC0xLjQwNEguNTQ0YS41NDQuNTQ0IDAgMSAxIDAtMS4wODloMTIuOTEyYS41NDQuNTQ0IDAgMCAxIC4zODUuOTN6Ii8+CiAgICA8L2c+Cjwvc3ZnPgo=) no-repeat center;\n    background-size: 100%; }\n  .flight_international_mobile .doubleChangeStyle .int_rcln_input {\n    border: none;\n    color: #0077b3;\n    font-weight: bold;\n    padding-top: 23px; }\n  .flight_international_mobile .doubleChangeStyle .int_rcln {\n    position: relative; }\n  .flight_international_mobile .doubleChangeStyle .int_rcln .int_rcln_input:not(input):empty::before {\n    height: auto;\n    line-height: normal; }\n\n.flight_international_mobile .singleCalendar {\n  border: 1px solid #ddd; }\n  .flight_international_mobile .singleCalendar .int_rcln_input {\n    border: none;\n    color: #0077b3;\n    font-weight: bold;\n    padding-top: 23px; }\n  .flight_international_mobile .singleCalendar .int_rcln {\n    position: relative; }\n  .flight_international_mobile .singleCalendar .int_rcln .int_rcln_input:not(input):empty::before {\n    height: auto;\n    line-height: normal; }\n\n.flight_international_mobile .doubleCalendar {\n  display: flex;\n  margin-bottom: 10px;\n  border: 1px solid #ddd; }\n  .flight_international_mobile .doubleCalendar * {\n    border: none; }\n  .flight_international_mobile .doubleCalendar .int_rcln_label {\n    left: 11px; }\n  .flight_international_mobile .doubleCalendar .int_rcln_input {\n    border: none;\n    color: #0077b3;\n    font-weight: bold;\n    padding-top: 23px; }\n  .flight_international_mobile .doubleCalendar .int_rcln {\n    position: relative; }\n  .flight_international_mobile .doubleCalendar .int_rcln .int_rcln_input:not(input):empty::before {\n    height: auto;\n    line-height: normal; }\n  .flight_international_mobile .doubleCalendar .int_rcln + .int_rcln::before {\n    content: '';\n    border-left: 1px solid #ddd;\n    position: absolute;\n    height: 80%;\n    left: 0;\n    top: 10%; }\n  .flight_international_mobile .doubleCalendar .int_rcln + .int_rcln span {\n    outline: 1px solid red;\n    padding-left: 11px; }\n\n.flight_international_mobile .peopleCabin {\n  margin-top: 10px;\n  border: 1px solid #ddd; }\n  .flight_international_mobile .peopleCabin .int_rcln_input {\n    border: none;\n    color: #0077b3;\n    font-weight: bold;\n    padding-top: 23px; }\n\n.flight_international_mobile .checkBoxContainer {\n  margin: 10px 0; }\n  .flight_international_mobile .checkBoxContainer > *:last-child {\n    margin-left: 22px; }\n\n.flight_international_mobile .openMoreOptions .clp_rcdp_title_text {\n  font-size: 14px; }\n\n.flight_international_mobile .openMoreOptions .clp_rcdp_content {\n  padding: 10px;\n  background-color: #f1f1f1; }\n\n.flight_international_mobile .openMoreOptions .searchMoreTop {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 10px; }\n  .flight_international_mobile .openMoreOptions .searchMoreTop > * {\n    width: calc(50% - 5px); }\n\n.flight_international_mobile .mulitAdd {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #ff615d;\n  border-radius: 3px;\n  margin-top: 10px;\n  margin-bottom: 20px;\n  font-size: 14px; }\n  .flight_international_mobile .mulitAdd i {\n    margin-right: 10px; }\n\n.flight_international_mobile .submitBtn {\n  border-radius: 5px;\n  margin-top: 10px;\n  width: 100%; }\n",""])},417:function(e,t,n){var a=n(357);"string"==typeof a&&(a=[[e.i,a,""]]);var l=n(320)(a,{hmr:!0,transform:void 0,insertInto:void 0});a.locals&&(e.exports=a.locals),e.hot.accept(357,function(){var t=n(357);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,a=0;for(n in e){if(!t||e[n]!==t[n])return!1;a++}for(n in t)a--;return 0===a}(a.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");l(t)}),e.hot.dispose(function(){l()})},428:function(e,t,n){var a=n(366);"string"==typeof a&&(a=[[e.i,a,""]]);var l=n(320)(a,{hmr:!0,transform:void 0,insertInto:void 0});a.locals&&(e.exports=a.locals),e.hot.accept(366,function(){var t=n(366);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,a=0;for(n in e){if(!t||e[n]!==t[n])return!1;a++}for(n in t)a--;return 0===a}(a.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");l(t)}),e.hot.dispose(function(){l()})},429:function(e,t,n){var a=n(367);"string"==typeof a&&(a=[[e.i,a,""]]);var l=n(320)(a,{hmr:!0,transform:void 0,insertInto:void 0});a.locals&&(e.exports=a.locals),e.hot.accept(367,function(){var t=n(367);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,a=0;for(n in e){if(!t||e[n]!==t[n])return!1;a++}for(n in t)a--;return 0===a}(a.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");l(t)}),e.hot.dispose(function(){l()})},609:function(e,t,n){var a=n(413);"string"==typeof a&&(a=[[e.i,a,""]]);var l=n(320)(a,{hmr:!0,transform:void 0,insertInto:void 0});a.locals&&(e.exports=a.locals),e.hot.accept(413,function(){var t=n(413);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,a=0;for(n in e){if(!t||e[n]!==t[n])return!1;a++}for(n in t)a--;return 0===a}(a.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");l(t)}),e.hot.dispose(function(){l()})},623:function(e,t,n){"use strict";n.r(t);var a=n(20),l=n.n(a),i=n(382),r=n(292),o=n(333),s=n.n(o),c=n(312),u=n.n(c),d=n(313),p=n.n(d),h=n(314),m=n.n(h),f=n(315),g=n.n(f),b=n(316),_=n.n(b),v=n(317),C=n.n(v),w=n(318),x=n.n(w),D=(n(387),n(428),n(332)),y=n(325),E=n(322),S=n(352),k=n(347),I=n(343),N=n(326),M=n(381),O=n(388),T=n(349),A=n(311),R=function(e){return l.a.createElement(E.a,{request:!0,value:"共".concat(e.peopleNumber,"人，").concat([e.cabin]),label:"人數/艙等",icon:l.a.createElement(y.a,{name:"toolstaff"}),readOnly:!0})},j=[{text:"經濟艙",value:"0"},{text:"商務艙",value:"1"},{text:"頭等艙",value:"2"}],P=function(e){return l.a.createElement("div",{className:"footerInfo"},l.a.createElement(y.a,{name:"toolif",className:"p-r-xs"}),"若欲訂購來回程機票，請分開訂位。")},L=function(e){return l.a.createElement("p",null,"例如:需預訂上海 → 北京 → 上海來回機票，請上海 → 北京單程票預定一張訂票，北京 → 上海單程票另外預定一張訂單")},F=function(e){function t(){var e,n;u()(this,t);for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return n=m()(this,(e=g()(t)).call.apply(e,[this].concat(l))),x()(C()(C()(n)),"state",{selectedStartDate:"2018-10-22",showCalendar:!1}),x()(C()(C()(n)),"calendar",null),x()(C()(C()(n)),"showCalendar",function(){n.setState(function(e){return s()({},e,{showCalendar:!0})})}),x()(C()(C()(n)),"handleClose",function(){n.setState({showCalendar:!1})}),x()(C()(C()(n)),"handleConfirm",function(){var e=n.calendar.state.selectedStartDate;n.props.selectDate&&n.props.selectDate(e),n.setState(function(t){return{selectedStartDate:e,showCalendar:!1}})}),n}return _()(t,e),p()(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.selectedStartDate,a=t.showCalendar;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{onClick:this.showCalendar},l.a.createElement("span",null,n)),l.a.createElement(I.a,{visible:a,direction:"right"},l.a.createElement("span",{className:"nvb_rslb_goBack",onClick:this.handleClose},l.a.createElement(y.a,{name:"toolbefore"})),a&&l.a.createElement(k.a,{selectedStartDate:n,startLabelTitle:"入住日",ref:function(t){e.calendar=t},onClickConfirm:this.handleConfirm})))}}]),t}(a.Component),B=function(e){function t(e){var n;return u()(this,t),n=m()(this,g()(t).call(this,e)),x()(C()(C()(n)),"getOptionData",function(){A.a.fetchJsToObj("../json/GetArrayTkt5.json",n.getData)}),x()(C()(C()(n)),"getData",function(e){n.handleGetData(e.vCity)}),x()(C()(C()(n)),"handleGetData",function(e){var t=[];for(var a in e)if(e.hasOwnProperty(a)){var l={text:e[a],value:a};t.push(l)}n.setState({isLoaded:!0,options:t})}),x()(C()(C()(n)),"selectDate",function(e){var t=e.replace(/\-/g,"");n.setState({sFdate:t})}),x()(C()(C()(n)),"selectCabin",function(e){n.setState({sClass:e,cabinText:j[e].text})}),x()(C()(C()(n)),"onClickAdd",function(){var e=n.state,t=e.sAdt,a=e.max,l=t+1;a<=l&&(l=a),n.setState({sAdt:l})}),x()(C()(C()(n)),"onClickMinus",function(){var e=n.state,t=e.sAdt,a=e.min,l=t-1;l<=a&&(l=a),n.setState({sAdt:l})}),x()(C()(C()(n)),"handleSubmit",function(){var e=n.state,t=e.sFcity,a=e.sTcity,l=e.sFdate,i=e.sAdt,r=e.sClass,o=e.sTktkind,s=e.sChd,c=e.sTairp,u=e.sFairp;n.validate(function(e,n){if(e){var d="sFcity=".concat(t,"&sTcity=").concat(a,"&sFdate=").concat(l,"&sAdt=").concat(i,"&sClass=").concat(r,"&sTktkind=").concat(o,"&sChd=").concat(s,"&sTairp=").concat(c,"&sFairp=").concat(u);window.open("https://www.liontravel.com/webtk/webtkcn01.aspx?"+d)}else alert("請選擇"+n.join("、"))})}),x()(C()(C()(n)),"validate",function(e){var t=n.state,a=t.sFairp,l=t.sTairp,i=t.sFcity,r=t.sTcity,o=[];""!==a&&""!==i||o.push("出發機場"),""!==l&&""!==r||o.push("目的機場"),e(0===o.length,o)}),n.state={sFairp:"XZM",sTairp:"SHA",sFcity:"MFM",sTcity:"SHA",sFdate:"20181022",sAdt:1,sChd:0,sClass:0,sTktkind:"CN",max:10,min:1,cabinText:"經濟艙",options:[],isLoaded:!1},n}return _()(t,e),p()(t,[{key:"componentDidMount",value:function(){this.getOptionData()}},{key:"dptChange",value:function(e){var t=e.split("_"),n=t[1],a=t[2];this.setState({sFairp:n,sFcity:a})}},{key:"dtnChange",value:function(e){var t=e.split("_"),n=t[1],a=t[2];this.setState({sTairp:n,sTcity:a})}},{key:"render",value:function(){var e=this,t=this.state,n=t.isLoaded,a=t.options;return l.a.createElement(l.a.Fragment,null,l.a.createElement(M.a,{label:"大陸國內機票"},l.a.createElement("div",{className:"flight_chinese"},n&&0<a.length?l.a.createElement(l.a.Fragment,null,l.a.createElement(D.a,{ClassName:"m-b-sm",option:a,placeholder:"請選擇",label:"出發機場",icon:l.a.createElement(y.a,{name:"planeairplane"}),req:!0,breakline:!0,onChangeCallBack:function(t){e.dptChange(t)},defaultValue:"_PEK_PEK"}),l.a.createElement(D.a,{ClassName:"m-b-sm",option:a,placeholder:"請選擇",label:"目的機場",icon:l.a.createElement(y.a,{name:"toolmap"}),req:!0,breakline:!0,onChangeCallBack:function(t){e.dtnChange(t)},defaultValue:"_SHA_SHA"}),l.a.createElement("div",{className:"st_rcln m-b-sm dpt"},l.a.createElement("i",{className:"ic_rcln tooldate"}),l.a.createElement("div",{className:"dropdown-place-holder selected breakline withIcon"},l.a.createElement("span",{className:"dropdown-label req breakline"},"出發日期"),l.a.createElement(F,{selectDate:this.selectDate}))),l.a.createElement(O.a,{moduleClassName:"peopleAndCabin",CustomComponent:l.a.createElement(R,{cabin:this.state.cabinText,peopleNumber:this.state.sAdt}),ContentComponent:l.a.createElement(l.a.Fragment,null,l.a.createElement(D.a,{option:j,placeholder:"經濟艙",label:"艙等",req:!0,whenCloseCallBack:function(){},onChangeCallBack:function(t){return e.selectCabin(t)}}),l.a.createElement("div",{className:"peopleContent"},l.a.createElement("p",null,"人數"),l.a.createElement(S.a,{max:this.state.max,min:this.state.min,count:this.state.sAdt,btnClassMinus:"ic_rcln toolcancelb",btnClassAdd:"ic_rcln tooladdb",onClickAdd:this.onClickAdd,onClickMinus:this.onClickMinus}))),whenOpen:function(e){},whenClose:function(e){}}),l.a.createElement("div",{className:"footer"},l.a.createElement(T.a,{CustomComponent:l.a.createElement(P,null),ContentComponent:l.a.createElement(L,null),moduleClassName:"PpRcln2 m-r-xxl",events:["click","hover"],position:["bottom","horizon_center"]}),l.a.createElement(N.a,{radius:!0,prop:"string",className:"h-sm",lg:!0,whenClick:function(){e.handleSubmit()}},"搜尋"))):null)))}}]),t}(a.Component);x()(B,"defaultProps",{doubleMonth:!1});var Y=B,z=n(331),U=n.n(z),V=n(83),Q=n.n(V),H=(n(429),[{text:"台北松山",value:"TSA"},{text:"台東豐年",value:"TTT"},{text:"高雄小港",value:"KHH"},{text:"台中",value:"RMQ"},{text:"花蓮",value:"HUN"},{text:"澎湖馬公",value:"MZG"},{text:"金門",value:"KNH"}]),q=[{text:"1位",value:"1"},{text:"2位",value:"2"},{text:"3位",value:"3"},{text:"4位",value:"4"}];var K=function(e){function t(){var e,n;u()(this,t);for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return n=m()(this,(e=g()(t)).call.apply(e,[this].concat(l))),x()(C()(C()(n)),"handleClose",function(){n.props.showCalendar(null)}),x()(C()(C()(n)),"handleConfirm",function(){var e=n.calendar.state,t=e.selectedStartDate,a=e.selectedEndDate;n.props.hadelChangeDate(t,a,null)}),n}return _()(t,e),p()(t,[{key:"showCalendar",value:function(e){this.props.showCalendar(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.activeInput,a=t.DEPARTURE_DATE,i=t.RETURN_DATE,r=t.TRIP,o=0===n||1===n;return l.a.createElement("div",null,l.a.createElement("div",{className:"input_group aroundInput"},l.a.createElement(E.a,{placeholder:"YYYYMMDD",label:1===r?"出發日期":"去程日期",icon:l.a.createElement(y.a,{name:"tooldate"}),value:a.replace(/\-/g,"/"),className:1===r?"":"bor-right",onClick:function(){e.showCalendar(0)}}),1===r?null:l.a.createElement(E.a,{placeholder:"YYYYMMDD",label:"回程日期",breakline:!0,onClick:function(){e.showCalendar(1)},value:i.replace(/\-/g,"/")})),l.a.createElement(I.a,{visible:o,direction:"right"},l.a.createElement("span",{className:"nvb_rslb_goBack",onClick:this.handleClose},l.a.createElement(y.a,{name:"toolbefore"})),o&&l.a.createElement(k.a,{doubleChoose:1!==r,selectedStartDate:a,selectedEndDate:1===r?"":i,activeInput:n,startMonth:U()().format("YYYY-MM"),endMonth:U()().add(12,"months").format("YYYY-MM"),startDate:"2018-10-15",endDate:"2019-08-12",startLabelTitle:"入住日期",endLabelTitle:"退房日期",ref:function(t){e.calendar=t},onClickConfirm:this.handleConfirm.bind(this),customDiffTxt:function(e){return"共"+(e+1)+"天"}})))}}]),t}(a.Component),G=function(e){function t(e){var n;return u()(this,t),n=m()(this,g()(t).call(this,e)),x()(C()(C()(n)),"handleServerItemsLoad",function(e){var t=Object.keys(e).map(function(t,n){return e[t]}),a=function(e){for(var t=[],n=0;n<e.length;n++)t[n]={},t[n].text=e[n]["<BOARD_POINT_NAME>"],t[n].value=e[n]["<BOARD_POINT_CODE>"];return t.filter(function(e,t,n){return 0<t?n[t-1].text.toString()!==n[t].text.toString():n[t].text})}(t);n.setState({isLoaded:!0,depList:a,itemList:t,BOARD_POINT:a[0].value,depPlaceholder:a[0].text}),n.changeOption(a[0].value)}),n.state={BOARD_POINT:"",OFF_POINT:"",TRIP:1,DEPARTURE_DATE:"",RETURN_DATE:"",PASSENGER_NUMBER:"",activeInput:null,isLoaded:!1,itemList:[],depList:H,arrList:H,depPlaceholder:"松山",arrPlaceholder:"馬公"},n}return _()(t,e),p()(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;fetch("../json/twflightdest.json").then(function(e){if(!e.ok)throw new Error(e.statusText);return e.json()}).then(function(t){e.handleServerItemsLoad(t)}).catch(function(e){})}},{key:"boardPointChange",value:function(e){var t=this.state.depList.filter(function(t,n,a){return a[n].value===e});this.setState({BOARD_POINT:e,depPlaceholder:t[0].text}),this.changeOption(e)}},{key:"offPointChange",value:function(e){var t=this.state.arrList.filter(function(t,n,a){return a[n].value===e});this.setState({OFF_POINT:e,arrPlaceholder:t[0].text})}},{key:"changeOption",value:function(e){var t=this.state.itemList;if(0!==t.length){for(var n=e,a=t.filter(function(e,t,a){return a[t]["<BOARD_POINT_CODE>"]===n}),l=[],i=0;i<a.length;i++)l[i]={},l[i].text=a[i]["<OFF_POINT_NAME>"],l[i].value=a[i]["<OFF_POINT_CODE>"];var r,o=this.state.OFF_POINT;if(""!==o)for(var s=0;s<l.length;s++)r=l[s].value===o?s:0;else r=0;this.setState({arrList:l,arrPlaceholder:l[r].text,OFF_POINT:l[r].value})}}},{key:"passengerChange",value:function(e){this.setState({PASSENGER_NUMBER:e})}},{key:"tripChange",value:function(e){this.setState({TRIP:e})}},{key:"clearVaule",value:function(e){this.setState({DEPARTURE_DATE:""})}},{key:"roundDate",value:function(e){this.setState({DEPARTURE_DATE:e.startInputValue,RETURN_DATE:e.endInputValue})}},{key:"showCalendar",value:function(e){this.setState({activeInput:e})}},{key:"hadelChangeDate",value:function(e,t,n){this.setState({DEPARTURE_DATE:e,RETURN_DATE:t,activeInput:n})}},{key:"handleSubmit",value:function(){!function(e){var t=e,n={};for(var a in t)1===t.TRIP?"RETURN_DATE"!==a&&(n[a]=t[a]):n[a]=t[a];!function(e){var t,n=e;for(var a in n){if(!n[a]){t=!1;break}if("DEPARTURE_DATE"===a){var l=n[a].replace(/\//g,"-");n[a]=l}if("RETURN_DATE"===a){var i=n[a].replace(/\//g,"-");n[a]=i}t=!0}t&&function(e){var t=e,n="",a=Object.keys(t).length,l=0;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n+=a<=++l?i+"="+t[i]:i+"="+t[i]+"&");window.open("https://twflight.liontravel.com/search?"+n)}(n)}(n)}({TRIP:this.state.TRIP,BOARD_POINT:this.state.BOARD_POINT,OFF_POINT:this.state.OFF_POINT,DEPARTURE_DATE:this.state.DEPARTURE_DATE,RETURN_DATE:this.state.RETURN_DATE,PASSENGER_NUMBER:this.state.PASSENGER_NUMBER})}},{key:"render",value:function(){var e=this,t=this.state,n=t.TRIP,a=t.DEPARTURE_DATE,i=t.RETURN_DATE,r=t.activeInput,o=t.depList,s=t.depPlaceholder,c=t.arrList,u=t.arrPlaceholder;return l.a.createElement("div",{className:"flight_taiwan"},l.a.createElement("div",null,l.a.createElement("ul",{className:"Rtow"},l.a.createElement("li",{className:Q()({active:1===n}),onClick:function(){e.tripChange(1)}},"單程"),l.a.createElement("li",{className:Q()({active:2===n}),onClick:function(){e.tripChange(2)}},"來回"))),l.a.createElement("div",{className:"padder-v-sm"},l.a.createElement(D.a,{ClassName:"m-b-sm",option:o,placeholder:s,label:"出發地",icon:l.a.createElement(y.a,{name:"planeairplane"}),req:!0,breakline:!0,onChangeCallBack:function(t){e.boardPointChange(t)}}),l.a.createElement(D.a,{ClassName:"m-b-sm",option:c,placeholder:u,label:"目的地",icon:l.a.createElement(y.a,{name:"toolmap"}),req:!0,breakline:!0,onChangeCallBack:function(t){e.offPointChange(t)}}),l.a.createElement(K,{TRIP:n,showCalendar:function(t){e.showCalendar(t)},activeInput:r,hadelChangeDate:function(t,n,a){e.hadelChangeDate(t,n,a)},DEPARTURE_DATE:a,RETURN_DATE:i}),l.a.createElement(D.a,{ClassName:"m-b-sm",option:q,placeholder:"請選擇",label:"人數",icon:l.a.createElement(y.a,{name:"toolstaff"}),req:!0,breakline:!0,whenMouseDown:function(){},onChangeCallBack:function(t){e.passengerChange(t)}}),l.a.createElement("div",{className:"footer p-b-xl"},l.a.createElement("div",{className:"footerInfo"},l.a.createElement(y.a,{name:"toolif",className:"p-r-xs"}),"注意事項：目前僅華信航空提供線上即時訂購。",l.a.createElement("a",null,"參考其他航空"))),l.a.createElement(N.a,{radius:!0,prop:"string",className:"pos-fix pos-bottom h-sm w-full",lg:!0,whenClick:function(){e.handleSubmit()}},"搜尋")))}}]),t}(a.Component);t.default=function(){return l.a.createElement(i.b,{activeIndex:0,customClass:"search_panel_two"},l.a.createElement(i.a,{label:"國際機票預訂"},l.a.createElement(r.default,null)),l.a.createElement(i.a,{label:"大陸境內機票"},l.a.createElement(Y,null)),l.a.createElement(i.a,{label:"台灣境內機票"},l.a.createElement(G,null)))}}}]);