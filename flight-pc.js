(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{294:function(t,e,n){"use strict";n.r(e);var a=n(333),l=n.n(a),i=n(370),r=n.n(i),o=n(336),c=n.n(o),s=n(312),u=n.n(s),d=n(313),p=n.n(d),h=n(314),f=n.n(h),m=n(315),g=n.n(m),_=n(316),b=n.n(_),v=n(317),C=n.n(v),x=n(318),S=n.n(x),y=n(20),w=n.n(y),E=(n(613),n(83)),D=n.n(E),I=function(t){return w.a.createElement("ul",{className:"Rtow"},w.a.createElement("li",{className:D()({active:0===t.rtow}),onClick:function(){t.tripChange(0)}},"單程"),w.a.createElement("li",{className:D()({active:1===t.rtow}),onClick:function(){t.tripChange(1)}},"來回"),w.a.createElement("li",{className:D()({active:3===t.rtow}),onClick:function(){t.tripChange(3)}},"多個目的地"))},k=n(348),M=n(321),N=n(388),O=n(322),A=n(325),T=n(352),Y=n(332),P=n(338),B=n(460),R=n(342),F=n(335),V=n(326),j=n(324),z=n.n(j),L=n(115),U=n.n(L),q=n(334),K=(n(417),[{catalogueName:"城市",catafilter:function(t){return t.filter(function(t){return 2===t.fullName.split("__").length}).sort(function(t,e){return t.fullName.length-e.fullName.length||t.dataIndex-e.dataIndex})}},{catalogueName:"機場",catafilter:function(t){return t.filter(function(t){return 2<t.fullName.split("__").length}).sort(function(t,e){return t.fullName.length-e.fullName.length||t.dataIndex-e.dataIndex})}}]),Q=function(t){return t.forEach(function(t){var e=t.fullName.split("__").join("-");t.txt=e,t.fromAct=!0,t.country=t.fullName.split("__")[0].match(/\((.*)\)/)[1],t.city=t.fullName.split("__")[1].match(/\((.*)\)/)[1],t.airport=t.fullName.split("__")[2]?t.fullName.split("__")[2].match(/\((.*)\)/)[1]:t.fullName.split("__")[1].match(/\((.*)\)/)[1]}),t},H=function(t){function e(t){var n;return u()(this,e),n=f()(this,g()(e).call(this,t)),S()(C()(C()(n)),"getData",function(t){-1!==t.indexOf(".json")?fetch(t,{method:"GET"}).then(function(t){return t.json()}).then(function(t){n._getDataCallBack(t)}):Object(M.c)(t,function(t){n._getDataCallBack(t)})}),S()(C()(C()(n)),"_getDataCallBack",function(t){var e=[];for(var a in t.city)Object.prototype.hasOwnProperty.call(t.city,a)&&e.push(t.city[a]);n.setState({newCity:z.a.apply(void 0,[{}].concat(e))})}),S()(C()(C()(n)),"emitPushData",function(t){var e=n.props.selectedData;if(e.length&&e[0].hasOwnProperty("value")&&e[0].value===t.value)n.props.onChange&&n.props.onChange();else if(t){var a=t;t.value&&(a=z()({country:n.state.newCity[t.city].split("__")[0].match(/\((.*)\)/)[1],airport:n.state.newCity[t.city].split("__")[1].match(/\((.*)\)/)[1]},t)),n.props.onChange&&n.props.onChange(a)}else n.props.onChange&&n.props.onChange()}),S()(C()(C()(n)),"handleOpenMenu",function(){var t=n.state;if(t.showDtm===t.showAct)if(n.props.selectedData.length&&n.props.selectedData[0].hasOwnProperty("fromAct")){var e=n.searchInput.current.props.value;n.setState({keyword:e,showDtm:!1,showAct:!0})}else n.setState({showDtm:!0,showAct:!1})}),S()(C()(C()(n)),"handleCloseMenu",function(){var t=n.state;t.showDtm!==t.showAct&&n.setState({keyword:"",showDtm:!1,showAct:!1})}),S()(C()(C()(n)),"handleEmitRemoveData",function(){n.props.onClearValue&&n.props.onClearValue(),n.props.onChange&&n.props.onChange(),n.setState({keyword:"",showAct:!1,showDtm:!0})}),S()(C()(C()(n)),"handleLabelWrapClick",function(){n.searchInput.current.inputDOM.focus()}),S()(C()(C()(n)),"handleChange",function(t){t.target.value.length?n.setState({keyword:t.target.value,showAct:!0,showDtm:!1}):n.setState({keyword:"",showAct:!1,showDtm:!0})}),S()(C()(C()(n)),"handleKeyDown",function(t,e){n.props.selectedData.length&&13!==t.keyCode&&t.keyCode&&(n.props.onChange&&n.props.onChange(),n.setState({keyword:t.target.value,showAct:!0,showDtm:!1}))}),S()(C()(C()(n)),"formatKeyword",function(t){if(!t.length)return n.state.keyword;if(t[0].value){if(Object.keys(n.state.newCity).length)return n.state.newCity[t[0].city].match(/_(\W+.*)/)[1].replace(/<\((.*)\)>/g,"")}else{var e=t[0].fullName.split("__");switch(e.length){case 2:return e[1];case 3:return e[2]}}}),n.searchInput=w.a.createRef(),n.state={keyword:"",showDtm:!1,showAct:!1,newCity:{}},n}return b()(e,t),p()(e,[{key:"componentDidMount",value:function(){this.getData("./json/flightsInternationaldestinationcsutommenu.js")}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){t.selectedData!==this.props.selectedData&&this.formatKeyword(t.selectedData)}},{key:"shouldComponentUpdate",value:function(t,e){return e!==this.state||t!==this.props}},{key:"render",value:function(){var t=this,e=this.props,n=e.placeholder,a=e.minimumStringQueryLength,l=e.minimumStringQuery,i=e.noMatchText,r=e.label,o=e.subLabel,c=(e.fetchPath,e.isRequired),s=e.size,u=(e.iconName,e.selectedData),d=this.state,p=d.keyword,h=d.showAct,f=d.showDtm,m=(d.newCity,u.map(function(t){return t.value?t.value:""}));return w.a.createElement("div",{className:"SingleInputMenu flights"},w.a.createElement(F.a,{isRequired:c,size:s,label:r,subComponent:w.a.createElement(M.a,{onClickOutside:this.handleCloseMenu},w.a.createElement("svg",{viewBox:"0 0 10 10",display:"none"},w.a.createElement("path",{id:"dtm_rcfr-x",d:"M10 8.59L8.59 10 5 6.41 1.41 10 0 8.59 3.59 5 0 1.41 1.41 0 5 3.59 8.59 0 10 1.41 6.41 5z"})),w.a.createElement("div",{className:"dtm_rcfr-row"},w.a.createElement(O.a,{className:"int_rcln int-tags-single",ref:this.searchInput,placeholder:n,onFocus:this.handleOpenMenu,value:this.formatKeyword(u),onChange:this.handleChange,onKeyDown:this.handleKeyDown,onClearValue:this.handleEmitRemoveData})),w.a.createElement(R.a,{InputIsFocus:h,url:"./json/GetArrayTkt6.js",minimumStringQueryLength:a,minimumStringQuery:l,searchKeyWord:p,noMatchText:i,ClassName:!h&&"d-no",footer:!1,theme:"future",closeActcallback:function(e){void 0!==e&&t.emitPushData(e),setTimeout(t.handleCloseMenu,10)},emitSecondData:function(e){p.length>=a&&e.length&&t.emitPushData(e[0])},changeKey:Q,catalogue:K}),w.a.createElement("div",{className:"dtm_rcfr-wrap ".concat(f?"open":null)},w.a.createElement("p",{className:"dtm_rcfr-label"},o),w.a.createElement("span",{className:"dtm_rcfr-close_btn",onClick:this.handleCloseMenu},w.a.createElement("svg",{viewBox:"0 0 10 10"},w.a.createElement("use",{href:"#dtm_rcfr-x"}))),w.a.createElement(q.a,{levelKey:["line","_line","city"],orderMaps:{line:["_5A","_6A","_7A","_3A","_1A","_2A","_4A","_9A"]},onClickItem:function(e){t.emitPushData(e),t.handleCloseMenu()},dataResouce:"./json/flightsInternationaldestinationcsutommenu.js",selectedData:m,transformFetchData:function(t){if("string"!=typeof t)return t;var e=t.replace(/\r?\n|\r/g,"").replace(/(?:var|let|const)\s(\w+)\s=/g,'"$1":').replace(/;/g,",").replace(/,$/g,"").replace(/'/g,'"'),n=JSON.parse("{"+e+"}");for(var a in function(t,e){for(var n=Object.keys(t),a=0;a<n.length;a++){var l=n[a],i=n[a],r=t[l],o=e(i);"string"==typeof o&&""!==o&&(i=o,delete t[l]),t[i]=r}}(n.line,function(t){return t+"A"}),n._line={},n.line)if(Object.prototype.hasOwnProperty.call(n.line,a)){var l=a.split("A")[0];n._line[a]=S()({},l,n.line[a])}for(var i in n.city)if(Object.prototype.hasOwnProperty.call(n.city,i))for(var r in n.city[i])if(Object.prototype.hasOwnProperty.call(n.city[i],r)){var o=n.city[i][r].split("__")[1].split("-");n.city[i][r]=o.length<3?o[0].replace(/<|>/g,""):o[0]+"-"+o[1]}return n}})))}))}}]),e}(y.Component);S()(H,"defaultProps",{max:3,minimumStringQueryLength:2}),S()(H,"propTypes",{fetchPath:U.a.string.isRequired,selectedData:U.a.array.isRequired,max:U.a.number,placeholder:U.a.string,minimumStringQueryLength:U.a.number.isRequired,minimumStringQuery:U.a.string,noMatchText:U.a.string,label:U.a.string,onChange:U.a.func});var J=H,W=n(331),G=n.n(W),Z=function(t){return t.forEach(function(t){t.txt=t.fullName,delete t.fullName}),t},$=[{catafilter:function(t){return t}}],X=function(t){function e(){var t,n;u()(this,e);for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return n=f()(this,(t=g()(e)).call.apply(t,[this].concat(l))),S()(C()(C()(n)),"state",{inputText:"",showAct:!1,isFocus:!1,obj:null,searchKeyWord:"",onClearValue:!1}),S()(C()(C()(n)),"onFocus",function(){n.setState({isFocus:!0,showAct:!0})}),S()(C()(C()(n)),"onBlur",function(){n.setState({isFocus:!1,showAct:!1})}),S()(C()(C()(n)),"receive",function(t){n.props.setNonprefertrans&&n.props.setNonprefertrans({nonprefertrans:t.txt}),n.setState({obj:t,inputText:t.txt})}),S()(C()(C()(n)),"onChange",function(t){var e=t.target.value;n.setState({inputText:e,showAct:2<=e.length,searchKeyWord:e}),""!==e?n.setState({onClearValue:!0}):n.setState({onClearValue:!1})}),S()(C()(C()(n)),"closeBtnClickHandleCallback",function(t){if(n._actref&&!n._actref.contains(t.target)&&!n.state.isFocus){var e=n.state.inputText;n.setState({showAct:!1,searchKeyWord:e})}}),S()(C()(C()(n)),"handleonClearValue",function(){n.props.clearNonprefertrans&&n.props.clearNonprefertrans({nonprefertrans:""}),n.setState({inputText:"",searchKeyWord:"",onClearValue:!1})}),n}return b()(e,t),p()(e,[{key:"render",value:function(){var t=this,e=this.state,n=e.inputText,a=e.showAct,l=e.isFocus,i=e.obj,r=e.searchKeyWord,o=e.onClearValue;return w.a.createElement("div",{className:"filterTransfer"},w.a.createElement(F.a,{size:"lg",label:"排除轉機國家",subComponent:w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:"int_rcln int-tags-single noBorder"},w.a.createElement("input",{type:"text",value:n,placeholder:"請選擇",onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur}),o?w.a.createElement("span",{className:"clearBtn",onMouseDown:this.handleonClearValue}):null),w.a.createElement(R.a,{url:"./src/json/country.json",minimumStringQueryLength:2,minimumStringQuery:"最少輸入兩個字",setRef:function(e){t._actref=e},ClassName:!a&&"d-no",searchKeyWord:r,whenItemSelect:this.receive,InputIsFocus:l,noMatchText:"找不到資料",footer:!1,theme:"future",closeActcallback:function(){return t.setState({showAct:!1})},closeBtnClickHandleCallback:this.closeBtnClickHandleCallback,setSelectValue:i?i.dataIndex:"",changeKey:Z,catalogue:$}))}))}}]),e}(y.Component),tt=function(t){function e(t){var n;return u()(this,e),n=f()(this,g()(e).call(this,t)),S()(C()(C()(n)),"onClickAdd",function(t){var e=n.state,a=e.adultObj.count,l=e.childObj.count,i=e.babyObj.count;switch(t){case"adultObj":a+=1;break;case"childObj":l+=1;break;case"babyObj":i+=1}n.renderState(a,l,i)}),S()(C()(C()(n)),"onClickMinus",function(t){var e=n.state,a=e.adultObj.count,l=e.childObj.count,i=e.babyObj.count;switch(t){case"adultObj":a-=1,n.props.setAdt&&n.props.setAdt(a);break;case"childObj":l-=1,n.props.setChd&&n.props.setChd(l);break;case"babyObj":i-=1}n.renderState(a,l,i)}),n.maxSum=8,n.state={title:{adult:"大人(12+)",child:"孩童(2-11)",baby:"嬰兒(<2)"},adultObj:{min:1,max:8,count:1},childObj:{min:0,max:8,count:0},babyObj:{min:0,max:1,count:0}},n}return b()(e,t),p()(e,[{key:"renderState",value:function(t,e,n){var a=t+e+n,l=this.state,i=l.adultObj,r=i.min,o=i.max,c=l.childObj,s=c.min,u=c.max,d=l.babyObj,p=d.min,h=d.max;a>this.maxSum||o<t||t<r||u<e||e<s||h<n||n<p||(this.props.setTotalPeople&&this.props.setTotalPeople({totalNum:a}),this.props.setPeople&&this.props.setPeople({adt:t,chd:e,inf:t<h?t:n}),this.setState({adultObj:{min:1,max:this.maxSum-e-n,count:t},childObj:{min:0,max:this.maxSum-t-n,count:e},babyObj:{min:0,max:e+2*t<=this.maxSum||t<h?t:this.maxSum-t-e,count:t<h?t:n}}))}},{key:"render",value:function(){var t=this;return w.a.createElement("div",{className:"con-people"},w.a.createElement("div",{className:"num-people"},w.a.createElement("span",null,this.state.title.adult),w.a.createElement(T.a,{id:"peopleAdult",xin:!0,max:this.state.adultObj.max,min:this.state.adultObj.min,count:this.state.adultObj.count,btnClassMinus:"ic_rcln toolcancelb",btnClassAdd:"ic_rcln tooladdb",onClickAdd:function(){t.onClickAdd("adultObj")},onClickMinus:function(){t.onClickMinus("adultObj")}})),w.a.createElement("div",{className:"num-people"},w.a.createElement("span",null,this.state.title.child),w.a.createElement(T.a,{id:"peopleChild",xin:!0,max:this.state.childObj.max,min:this.state.childObj.min,count:this.state.childObj.count,btnClassMinus:"ic_rcln toolcancelb",btnClassAdd:"ic_rcln tooladdb",onClickAdd:function(){t.onClickAdd("childObj")},onClickMinus:function(){t.onClickMinus("childObj")}})),w.a.createElement("div",{className:"num-people"},w.a.createElement("span",null,this.state.title.baby),w.a.createElement(T.a,{id:"peopleBaby",xin:!0,max:this.state.babyObj.max,min:this.state.babyObj.min,count:this.state.babyObj.count,btnClassMinus:"ic_rcln toolcancelb",btnClassAdd:"ic_rcln tooladdb",onClickAdd:function(){t.onClickAdd("babyObj")},onClickMinus:function(){t.onClickMinus("babyObj")}})))}}]),e}(y.Component),et=function(t){var e=[{text:"不限",value:0},{text:"經濟艙",value:1},{text:"豪華經濟艙",value:2},{text:"商務艙",value:3},{text:"頭等艙",value:4}],n="AppendContainer";return 3===t.rtow?n+=" show":n+=" hide",w.a.createElement("div",null,w.a.createElement("div",{className:3===t.rtow?"ThreeRtowStyle":null},w.a.createElement("div",{className:3===t.rtow?"ItemStyle":"ZeroOneRtowStyle"},w.a.createElement("div",{className:"single-change"},w.a.createElement(J,{className:"SingleInputMenu",isRequired:!0,size:"lg",label:"出發地",iconName:"toolmap",fetchPath:t.fetchPath,selectedData:t.dptSelectedData,placeholder:"請選擇/可輸入出發地",minimumStringQueryLength:2,minimumStringQuery:"請輸入至少兩個文字",noMatchText:"很抱歉，找不到符合的項目",subLabel:"找不到選項？請輸入關鍵字查詢",onChange:function(e){return t.placeChange(e,"dptSelectedData")}}),w.a.createElement("div",{className:"changeBtn",onClick:t.switch}),w.a.createElement(J,{className:"SingleInputMenu",isRequired:!0,size:"lg",label:"目的地",iconName:"toolmap",fetchPath:t.fetchPath,selectedData:t.dtnSelectedData,placeholder:"請選擇/可輸入目的地",minimumStringQueryLength:2,minimumStringQuery:"請輸入至少兩個文字",noMatchText:"很抱歉，找不到符合的項目",subLabel:"找不到選項？請輸入關鍵字查詢",onChange:function(e){return t.placeChange(e,"dtnSelectedData")}})),0===t.rtow||3===t.rtow?w.a.createElement(M.a,{onClickOutside:t.onClickOutside},w.a.createElement(F.a,{isRequired:!0,size:"lg",label:"去程日期",iconName:"tooldate",subComponent:w.a.createElement("div",{className:"inputStyle"},w.a.createElement("input",{type:"text",placeholder:"選擇日期",value:t.startInputValue.replace(/\-/g,"/"),onFocus:function(){return t.singleInputFocus({focus1:!0})},onBlur:function(){t.singleOnBlur("clean1")},readOnly:!0}),t.Clean1&&w.a.createElement("span",{className:"clearBtn",onMouseDown:function(){return t.clearValue({depdate1:""})}}))}),t.onFocus&&w.a.createElement("div",{className:"calendarStyle"},w.a.createElement(k.a,{doubleMonth:!0,activeStart:G()().format("YYYY-MM"),activeEnd:G()().add(1,"years").format("YYYY-MM"),startDate:G()().format("YYYY-MM-DD"),endDate:G()().add(1,"years").format("YYYY-MM-DD"),selectedStartDate:t.startInputValue,onDateClick:function(e){return t.clickDate({depdate1:e,goDateFocus:!1})}}),w.a.createElement("div",{className:"close_btn",onClick:t.onClickOutside},"×"))):w.a.createElement(M.a,{onClickOutside:function(){return t.dcInputFocus(null)}},w.a.createElement("div",{className:"doubleCanlendarStyle"},w.a.createElement(F.a,{isRequired:!0,size:"lg",label:"去程日期",iconName:"tooldate",subComponent:w.a.createElement("div",{className:"inputStyle"},w.a.createElement("input",{type:"text",placeholder:"開始日期",value:t.dcStartInputValue.replace(/\-/g,"/"),onFocus:function(){return t.dcInputFocus("start","depdate1")},onChange:function(){},onBlur:function(){return t.singleOnBlur("dcCleanBtn1")}}),t.dcCleanBtn1&&w.a.createElement("span",{className:"clearBtn",onMouseDown:function(){return t.clearValue({depdate1:""})}}))}),w.a.createElement(F.a,{isRequired:!0,size:"lg",label:"回程日期",subComponent:w.a.createElement("div",{className:"inputStyle"},w.a.createElement("input",{type:"text",placeholder:"結束日期",value:t.dcEndInputValue.replace(/\-/g,"/"),onFocus:function(){return t.dcInputFocus("end","depdate2")},onBlur:function(){return t.singleOnBlur("dcCleanBtn2")},onChange:function(){}}),t.dcCleanBtn2&&w.a.createElement("span",{className:"clearBtn",onMouseDown:function(){return t.clearValue({depdate2:""})}}))})),t.dcActiveInput?w.a.createElement("div",{className:"calendarStyle"},w.a.createElement(k.a,{doubleMonth:!0,doubleChoose:!0,activeStart:G()().format("YYYY-MM"),activeEnd:G()().add(1,"years").format("YYYY-MM"),startDate:G()().format("YYYY-MM-DD"),endDate:G()().add(1,"years").format("YYYY-MM-DD"),selectedStartDate:t.dcStartInputValue,selectedEndDate:t.dcEndInputValue,onDateClick:function(e){return t.dcClickDate(e)}}),w.a.createElement("div",{className:"close_btn",onClick:function(){return t.dcInputFocus(null)}},"×")):null)),w.a.createElement(N.a,{CustomComponent:w.a.createElement(O.a,{request:!0,value:"共".concat(t.totalPeople,"人，").concat([t.cabinName]),label:"人數/艙等",icon:w.a.createElement(A.a,{name:"toolmember"})}),ContentComponent:w.a.createElement("div",{className:"flight_international peopleCabinStyle"},w.a.createElement(Y.a,{option:e,placeholder:"請選擇",label:"艙等：",onChangeCallBack:function(n){return t.selectCabin({clstypeText:e[n].text,clstype:n})},defaultValue:t.cabinNumber}),w.a.createElement(tt,{setPeople:t.setPeople,setTotalPeople:t.setTotalPeople}),w.a.createElement("div",{className:"con-tooltip"},"大人：以出發日為準，年滿12歲(含)以上。",w.a.createElement("br",null),"孩童：全程搭乘日為準，年滿2歲(含)以上，未滿12歲。",w.a.createElement("br",null),"嬰兒：全程搭乘日為準，未滿2歲(不列入幾人成行的人數計算)。",w.a.createElement("br",null))),moduleClassName:"StRnls1 peopleCabinStyle",appendToBody:!0,width:"448px",innerComponentClass:["outClass"]})),w.a.createElement("div",{className:n},t.multiItems.map(function(e,n){return w.a.createElement("div",{key:n,className:"AppendItemStyle"},w.a.createElement("div",{className:"ItemStyle"},w.a.createElement("div",{className:"single-change"},w.a.createElement(J,{className:"SingleInputMenu",isRequired:!0,size:"lg",label:"出發地",iconName:"toolmap",fetchPath:t.fetchPath,selectedData:e.dptSelectedData,placeholder:"請選擇/可輸入出發地",minimumStringQueryLength:2,minimumStringQuery:"請輸入至少兩個文字",noMatchText:"很抱歉，找不到符合的項目",subLabel:"找不到選項？請輸入關鍵字查詢",onChange:function(n){return t.multiPlaceChange(n,e.id,"dptSelectedData")}}),w.a.createElement("div",{className:"changeBtn",onClick:function(){return t.multiSwitch(e.id)}}),w.a.createElement(J,{className:"SingleInputMenu",isRequired:!0,size:"lg",label:"目的地",iconName:"toolmap",fetchPath:t.fetchPath,selectedData:e.dtnSelectedData,placeholder:"請選擇/可輸入目的地",minimumStringQueryLength:2,minimumStringQuery:"請輸入至少兩個文字",noMatchText:"很抱歉，找不到符合的項目",subLabel:"找不到選項？請輸入關鍵字查詢",onChange:function(n){return t.multiPlaceChange(n,e.id,"dtnSelectedData")}})),w.a.createElement(M.a,{onClickOutside:function(){return t.closeCalendar(e.id)}},w.a.createElement(F.a,{isRequired:!0,size:"lg",label:"去程日期",iconName:"tooldate",subComponent:w.a.createElement("div",{className:"inputStyle"},w.a.createElement("input",{type:"text",placeholder:"選擇日期",value:e.startInputValue.replace(/\-/g,"/"),onFocus:function(){return t.onFocusInput(e.id)},onBlur:function(){return t.multiBlur(e.id)},onChange:function(){}}),e.cleanBtn&&w.a.createElement("span",{className:"clearBtn",onMouseDown:function(){return t.multiClearValue(e.id)}}))}),e.onFocus&&w.a.createElement("div",{className:"calendarStyle"},w.a.createElement(k.a,{doubleMonth:!0,activeStart:e.activeStart,startDate:e.startDate,endDate:G()().add(1,"years").format("YYYY-MM-DD"),selectedStartDate:e.selectedStartDate,onDateClick:function(a){return t.multipleClickDate(a,e.id,n)}}),w.a.createElement("div",{className:"close_btn",onClick:function(){return t.closeCalendar(e.id)}},"×")))),0!==n&&w.a.createElement(V.a,{prop:"string",className:"minus-items mulitMinus",whenClick:function(){return t.minusItem(e.id)}},w.a.createElement(A.a,{name:"toolcancelb",size:"x15"})))}),5!==t.multiItems.length&&w.a.createElement(V.a,{prop:"string",className:"add-items mulitAdd",whenClick:t.addItem},w.a.createElement(A.a,{name:"tooladdb",size:"x15"}))),w.a.createElement(P.a,{type:"checkbox",textContent:"直飛(含中停)",whenChange:function(e){return t.setNoTrans({notrans:e?"T":"F"})}}),w.a.createElement(P.a,{className:"checkBoxMagin",type:"checkbox",textContent:"只找有機位",whenChange:function(e){return t.setHaveSeat({haveseat:e?1:2})}}),w.a.createElement(B.a,{titleText:"更多搜尋選項",ContentComponent:w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:"searchMoreTop"},w.a.createElement(X,{setNonprefertrans:t.setNonprefertrans,clearNonprefertrans:t.clearNonprefertrans}),w.a.createElement(Y.a,{option:[{text:"不限",value:1},{text:"只要廉價航空",value:2},{text:"排除廉價航空",value:3}],placeholder:"請選擇",label:"廉價航空",breakline:!0,onChangeCallBack:function(e){return t.setSourceSystem({sourcesystem:e})},defaultValue:1})),w.a.createElement(P.a,{className:"checkBoxMagin",type:"checkbox",textContent:"排除過夜轉機航班",whenChange:function(e){return t.setnonprefertransnight({nonprefertransnight:e?"T":"F"})}})),moduleClassName:"openMoreOptions",isRightLeft:{destination:"right",name:"toolnext"}}),w.a.createElement(V.a,{prop:"string",className:"lg submitBtn",whenClick:t.sendData},"搜尋"))},nt=function(t){function e(t){var n;return u()(this,e),n=f()(this,g()(e).call(this,t)),S()(C()(C()(n)),"tripChange",function(t){n.setState({rtow:t})}),S()(C()(C()(n)),"addItem",function(){for(var t=n.state.multiItems,e=c()(t),a=Math.floor(500*Math.random()),l="",i=e[0].startInputValue,r=0;r<e.length;r++)e[r].startInputValue>=i&&(l=e[r].startInputValue);if(5<=e.length)return!1;e.push({id:a,activeStart:l.substr(0,7),startDate:l,selectedStartDate:l,startInputValue:l,onFocus:!1,dptSelectedData:[],dtnSelectedData:[],cleanBtn:!1}),n.setState({multiItems:e})}),S()(C()(C()(n)),"minusItem",function(t){var e=n.state.multiItems,a=c()(e).filter(function(e){return t!==e.id});n.setState({multiItems:a})}),S()(C()(C()(n)),"onFocusInput",function(t){var e=n.state.multiItems;e.forEach(function(e){t===e.id&&(e.onFocus=!0,""!==e.startInputValue&&(e.cleanBtn=!0))}),n.setState({multiItems:e})}),S()(C()(C()(n)),"closeCalendar",function(t){var e=n.state.multiItems;e.forEach(function(e){t===e.id&&(e.onFocus=!1)}),n.setState({multiItems:e})}),S()(C()(C()(n)),"multipleClickDate",function(t,e,a){var l=n.state.multiItems;l.forEach(function(n){e===n.id&&(n.selectedStartDate=t,n.startInputValue=t,n.onFocus=!1)});for(var i=a+1;i<l.length;i++)l[a].startInputValue.replace(/\-/g," ")>l[i].startInputValue.replace(/\-/g," ")?(l[i].startInputValue=l[a].startInputValue,l[i].selectedStartDate=l[a].startInputValue,l[i].startDate=l[a].startInputValue,l[i].activeStart=l[a].startInputValue.substr(0,7)):l[i].startDate=l[0].startInputValue;n.setState({multiItems:l})}),S()(C()(C()(n)),"multiClearValue",function(t){var e=n.state.multiItems;e.forEach(function(e){t===e.id&&(e.selectedStartDate="",e.startInputValue="")}),n.setState({multiItems:e})}),S()(C()(C()(n)),"multiBlur",function(t){var e=n.state.multiItems;e.forEach(function(e){t===e.id&&(e.cleanBtn=!1)}),n.setState({multiItems:e})}),S()(C()(C()(n)),"clickDate",function(t){var e=n.state.multiItems;e.forEach(function(e){t.depdate1.replace(/\-/g,"")>=e.startInputValue.replace(/\-/g,"")?(e.startDate=t.depdate1,e.selectedStartDate=t.depdate1,e.startInputValue=t.depdate1,e.activeStart=t.depdate1.substr(0,7)):(e.activeStart=t.depdate1.substr(0,7),e.startDate=t.depdate1)}),n.setState({depdate1:t.depdate1,focus1:t.focus1,multiItems:e})}),S()(C()(C()(n)),"setStateVal",function(t){n.setState(t)}),S()(C()(C()(n)),"dcClickDate",function(t){var e=n.state,a=e.dcActiveInput,l=e.depdate1,i="start"===a,r=i?t:l,o=i?"":t;n.setState({dcActiveInput:i?"end":null,depdate1:r,depdate2:o})}),S()(C()(C()(n)),"dcInputFocus",function(t,e){var a=n.state,l=a.depdate1,i=a.depdate2,r=a.clearBtn;"depdate1"===e&&(r.dcCleanBtn1=""!==l),"depdate2"===e&&(r.dcCleanBtn2=""!==i),n.setState({dcActiveInput:t,clearBtn:r})}),S()(C()(C()(n)),"singleInputFocus",function(t){var e=n.state,a=e.depdate1,l=e.clearBtn;""!==a&&(l.clean1=!0),n.setState({focus1:!0,clearBtn:l})}),S()(C()(C()(n)),"singleOnBlur",function(t){var e=n.state.clearBtn;e[t]=!1,n.setState({clearBtn:e})}),S()(C()(C()(n)),"placeChange",function(t,e){var a=[];"object"===r()(t)&&a.push(t),n.setState(S()({},e,a))}),S()(C()(C()(n)),"switch",function(){var t=n.state,e=t.dptSelectedData,a=t.dtnSelectedData,l=JSON.parse(JSON.stringify(e)),i=JSON.parse(JSON.stringify(a));n.setState({dptSelectedData:i,dtnSelectedData:l})}),S()(C()(C()(n)),"multiPlaceChange",function(t,e,a){var l=n.state.multiItems,i=[];"object"===r()(t)&&i.push(t),l.forEach(function(t){e===t.id&&(t[a]=i)}),n.setState({multiItems:l})}),S()(C()(C()(n)),"multiSwitch",function(t){var e=n.state.multiItems;e.forEach(function(e){if(t===e.id){var n=JSON.parse(JSON.stringify(e.dtnSelectedData)),a=JSON.parse(JSON.stringify(e.dptSelectedData));e.dptSelectedData=n,e.dtnSelectedData=a}}),n.setState({multiItems:e})}),S()(C()(C()(n)),"ValidData",function(t){var e=n.state,a=e.rtow,l=e.depdate1,i=e.depdate2,r=e.multiItems,o=e.dptSelectedData,c=e.dtnSelectedData,s=[],u=[];if(0===a&&(s=[],0===o.length&&s.push("出發地"),0===c.length&&s.push("目的地"),""===l&&s.push("去程日期")),1===a&&(s=[],0===o.length&&s.push("出發地"),0===c.length&&s.push("目的地"),""===l&&s.push("去程日期"),""===i&&s.push("回程日期")),3===a&&(s=[],""===l&&s.push("去程日期"),r.forEach(function(t){""===t.startInputValue&&s.push("去程日期"),0===t.dptSelectedData.length&&s.push("出發地"),0===t.dtnSelectedData.length&&s.push("目的地")}),0===s.length))for(var d=0;d<r.length;d++)u.push(r[d].startInputValue);var p=s.filter(function(t,e,n){return n.indexOf(t)===e});t(0===p.length,p,u)}),S()(C()(C()(n)),"submit",function(){var t=n.state,e=t.rtow,a=t.adt,l=t.chd,i=t.inf,r=t.clstype,o=t.depdate1,c=t.depdate2,s=t.haveseat,u=t.nonprefertrans,d=t.nonprefertransnight,p=t.notrans,h=t.sourcesystem,f=t.multiItems,m=t.dptSelectedData,g=t.dtnSelectedData;n.ValidData(function(t,n,_){if(t){var b="",v="";if(1===e&&(b+="&depdate2=".concat(c.replace(/\-/g,"/"))),3===e){if(0<_.length)for(var C=0;C<_.length;C++)b+="&depdate".concat(C+2,"=").concat(_[C].replace(/\-/g,"/"));for(var x=0;x<f.length;x++){var S=f[x].dptSelectedData[0],y=f[x].dtnSelectedData[0];v+="&depart".concat(x+2,"=").concat(S.airport,"&depcity").concat(x+2,"=").concat(S.city,"&depcountry").concat(x+2,"=").concat(S.country,"&arrive").concat(x+2,"=").concat(y.airport,"&arrcity").concat(x+2,"=").concat(y.city,"&arrcountry").concat(x+2,"=").concat(y.country)}}var w="rtow=".concat(e,"&clsType=").concat(r,"&adt=").concat(a,"&chd=").concat(l,"&inf=").concat(i,"&notrans=").concat(p,"&haveseat=").concat(s,"&nonprefertrans=").concat(u,"&nonprefertransnight=").concat(d,"&sourcesystem=").concat(h,"&depart1=").concat(m[0].airport,"&depcity1=").concat(m[0].city,"&depcountry1=").concat(m[0].country,"&arrive1=").concat(g[0].airport,"&arrcity1=").concat(g[0].city,"&arrcountry1=").concat(g[0].country,"&depdate1=").concat(o.replace(/\-/g,"/"));w+=v,w+=b,window.open("https://flight.liontravel.com/search?"+w)}else alert("請選擇"+n.join("、"))})}),n.state={rtow:0,depdate1:"",depdate2:"",clstype:1,notrans:"F",haveseat:"F",nonprefertrans:"",sourcesystem:"",nonprefertransnight:"F",adt:1,chd:0,inf:0,multiItems:[{id:1,onFocus:!1,activeStart:G()().format("YYYY-MM"),selectedStartDate:"",startDate:G()().format("YYYY-MM-DD"),startInputValue:"",dptSelectedData:[],dtnSelectedData:[],cleanBtn:!1}],dptSelectedData:[],dtnSelectedData:[],totalNum:1,clstypeText:"經濟艙",focus1:!1,dcActiveInput:null,clearBtn:{clean1:!1,dcCleanBtn1:!1,dcCleanBtn2:!1}},n.fetchPath="./json/TRS1NEWTRAVEL.js",n}return b()(e,t),p()(e,[{key:"render",value:function(){var t=this,e=this.state,n=e.rtow,a=e.depdate1,i=e.depdate2,r=e.focus1,o=e.dcActiveInput,c=e.totalNum,s=e.clstypeText,u=e.clstype,d=e.multiItems,p=e.clearBtn,h=e.dptSelectedData,f=e.dtnSelectedData;return w.a.createElement("div",{className:"flight_international_pc"},w.a.createElement(I,{rtow:n,tripChange:function(e){return t.tripChange(e)}}),w.a.createElement(et,{rtow:n,onClickOutside:function(){t.setState(function(t){return l()({},t,{focus1:!1})})},clickDate:this.clickDate,inputFocus:this.setStateVal,startInputValue:a,onFocus:r,clearValue:this.setStateVal,Clean1:p.clean1,singleInputFocus:this.singleInputFocus,singleOnBlur:this.singleOnBlur,dcStartInputValue:a,dcEndInputValue:i,dcClickDate:this.dcClickDate,dcInputFocus:this.dcInputFocus,dcActiveInput:o,dcCleanBtn1:p.dcCleanBtn1,dcCleanBtn2:p.dcCleanBtn2,totalPeople:c,cabinName:s,cabinNumber:u,selectCabin:this.setStateVal,setPeople:this.setStateVal,setTotalPeople:this.setStateVal,setNoTrans:this.setStateVal,setHaveSeat:this.setStateVal,setNonprefertrans:this.setStateVal,clearNonprefertrans:this.setStateVal,setSourceSystem:this.setStateVal,setnonprefertransnight:this.setStateVal,fetchPath:this.fetchPath,checkDate:this.checkDate,sendData:this.submit,placeChange:this.placeChange,dptSelectedData:h,dtnSelectedData:f,switch:this.switch,onFocusInput:this.onFocusInput,closeCalendar:this.closeCalendar,addItem:this.addItem,minusItem:this.minusItem,multiPlaceChange:this.multiPlaceChange,multiSwitch:this.multiSwitch,multiItems:d,multipleClickDate:this.multipleClickDate,multiClearValue:this.multiClearValue,multiBlur:this.multiBlur}))}}]),e}(y.Component);n.d(e,"default",function(){return nt})},311:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"e",function(){return r}),n.d(e,"d",function(){return o}),n.d(e,"c",function(){return c}),n.d(e,"a",function(){return s});var a=n(327),l=n.n(a);function i(t,e){fetch(t,{method:"GET"}).then(function(t){return t.text()}).then(function(t){var e=t.replace(/\r?\n|\r/g,"").replace(/(?:var|let|const)\s(\w+)\s=/g,'"$1":').replace(/;/g,",").replace(/,$/g,"").replace(/'/g,'"');return JSON.parse("{"+e+"}")}).then(function(t){e(t)})}function r(t){var e=t,n="",a=Object.keys(e).length,l=0;for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n+=a<=++l?i+"="+e[i]:i+"="+e[i]+"&");return n}function o(t){var e=t.split("-"),n=l()(e,2),a=n[0],i=n[1];return[a=Number(a),i=Number(i)]}function c(){return new Date((new Date).getFullYear(),(new Date).getMonth(),1,8).toISOString().slice(0,7)}var s={fetchJsToObj:i,findHighestZIndex:function(t){for(var e=document.getElementsByTagName(t),n=0,a=0;a<e.length;a++){var l=document.defaultView.getComputedStyle(e[a],null).getPropertyValue("z-index");n<l&&"auto"!==l&&(n=l)}return parseInt(n,10)},getDomPosition:function(t,e){return"top"===e?t.getBoundingClientRect()[e]+window.pageYOffset:t.getBoundingClientRect()[e]},toQueryString:r,getYearAndMonth:o,getNowMonth:c}},321:function(t,e,n){"use strict";var a=n(311),l=n(323),i=n(324),r=n.n(i),o=n(328),c=n.n(o),s=n(312),u=n.n(s),d=n(313),p=n.n(d),h=n(314),f=n.n(h),m=n(315),g=n.n(m),_=n(316),b=n.n(_),v=n(317),C=n.n(v),x=n(318),S=n.n(x),y=n(20),w=n.n(y),E=n(115),D=n.n(E),I=function(t){function e(t){var n;return u()(this,e),n=f()(this,g()(e).call(this,t)),S()(C()(C()(n)),"handle",function(t){if(n.isClickInSide)n.isClickInSide=!1;else if("touchend"===t.type&&(n.isTouch=!0),"click"!==t.type||!n.isTouch){var e=n.props.onClickOutside;!1===n.isUnMounted&&e(t)}}),S()(C()(C()(n)),"handleClick",function(){n.isClickInSide=!0}),n.isTouch=!1,n.isClickInSide=!1,n.isUnMounted=!1,n}return b()(e,t),p()(e,[{key:"componentDidMount",value:function(){document.addEventListener("touchend",this.handle,!1),document.addEventListener("click",this.handle,!1)}},{key:"componentWillUnmount",value:function(){this.isUnMounted=!0,document.removeEventListener("touchend",this.handle,!1),document.removeEventListener("click",this.handle,!1)}},{key:"render",value:function(){var t=this.props,e=t.children,n=(t.onClickOutside,c()(t,["children","onClickOutside"]));return w.a.createElement("div",r()({},n,{onClick:this.handleClick}),e)}}]),e}(y.Component);S()(I,"propTypes",{onClickOutside:D.a.func.isRequired}),n.d(e,"b",function(){return a.a}),n.d(e,"c",function(){return a.b}),n.d(e,"f",function(){return a.e}),n.d(e,"e",function(){return a.d}),n.d(e,"d",function(){return a.c}),n.d(e,"a",function(){return l.a})},323:function(t,e,n){"use strict";n.d(e,"a",function(){return I});var a=n(324),l=n.n(a),i=n(328),r=n.n(i),o=n(312),c=n.n(o),s=n(313),u=n.n(s),d=n(314),p=n.n(d),h=n(315),f=n.n(h),m=n(316),g=n.n(m),_=n(317),b=n.n(_),v=n(318),C=n.n(v),x=n(20),S=n.n(x),y=n(84),w=n.n(y),E=n(115),D=n.n(E),I=function(t){function e(t){var n;return c()(this,e),n=p()(this,f()(e).call(this,t)),C()(b()(b()(n)),"handle",function(t){if(!n.__domNode.contains(t.target)){var e=n.props.onClickOutside;"function"==typeof e&&e(t)}}),n.isTouch=!1,n.isClickInSide=!1,n.isUnMounted=!1,n.__domNode=null,n.__wrappedInstance=null,n}return g()(e,t),u()(e,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handle,!0)}},{key:"componentWillUnmount",value:function(){this.isUnMounted=!0,document.removeEventListener("click",this.handle,!0)}},{key:"render",value:function(){var t=this,e=this.props,n=e.children,a=(e.onClickOutside,r()(e,["children","onClickOutside"]));return S.a.createElement("div",l()({},a,{ref:function(e){t.__domNode=w.a.findDOMNode(e),t.__wrappedInstance=e}}),n)}}]),e}(x.Component);C()(I,"propTypes",{onClickOutside:D.a.func.isRequired})},357:function(t,e,n){(t.exports=n(319)(!1)).push([t.i,".SingleInputMenu .dtm_rcfr {\n  position: relative; }\n  .SingleInputMenu .dtm_rcfr-row {\n    display: flex; }\n  .SingleInputMenu .dtm_rcfr-wrap {\n    display: none;\n    position: absolute;\n    top: 100%;\n    left: -1px;\n    width: 690px;\n    padding: 16px 14px 0;\n    background-color: #fff;\n    z-index: 11;\n    border: 1px solid rgba(153, 153, 153, 0.7); }\n    .SingleInputMenu .dtm_rcfr-wrap.open {\n      display: block; }\n  .SingleInputMenu .dtm_rcfr-label {\n    margin: 0 0 12px;\n    font-size: 14px;\n    color: #24a07d; }\n  .SingleInputMenu .dtm_rcfr-close_btn {\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 16px;\n    cursor: pointer; }\n    .SingleInputMenu .dtm_rcfr-close_btn svg {\n      width: 16px;\n      height: 16px; }\n  .SingleInputMenu .dtm_rcfr-selected-wrap {\n    white-space: nowrap; }\n  .SingleInputMenu .dtm_rcfr-selected {\n    display: inline-flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 107px;\n    line-height: 1.3;\n    margin: 0 4px 0 0;\n    padding-left: 4px;\n    font-size: 16px;\n    font-weight: bold;\n    color: #0077b3;\n    background-color: #eaeaea;\n    cursor: pointer; }\n    .SingleInputMenu .dtm_rcfr-selected:last-of-type {\n      margin: 0; }\n    .SingleInputMenu .dtm_rcfr-selected span {\n      width: 80px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap; }\n    .SingleInputMenu .dtm_rcfr-selected i {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 20px;\n      height: 20px; }\n    .SingleInputMenu .dtm_rcfr-selected svg {\n      width: 6px;\n      height: 6px;\n      fill: #999; }\n\n.SingleInputMenu .act_racp {\n  left: 0;\n  min-width: 100%; }\n\n.SingleInputMenu .int_rctg .dtm_rcfr {\n  width: auto;\n  height: auto; }\n\n.SingleInputMenu .int_rcln {\n  height: auto; }\n  .SingleInputMenu .int_rcln_input {\n    border: none;\n    padding: 0;\n    font-weight: bold;\n    color: #0077b3; }\n\n.SingleInputMenu .int_rctg {\n  padding-right: 0; }\n  .SingleInputMenu .int_rctg .int_rcln_input {\n    flex: 0 0 auto; }\n\n.SingleInputMenu.flights .dtm_rcfr .sec_title {\n  display: none; }\n\n.SingleInputMenu.flights-m .dtm_rcfr {\n  position: relative;\n  width: auto; }\n  .SingleInputMenu.flights-m .dtm_rcfr-row {\n    display: flex;\n    margin: 0 15px; }\n    .SingleInputMenu.flights-m .dtm_rcfr-row .int_rcln_input {\n      border: none; }\n    .SingleInputMenu.flights-m .dtm_rcfr-row .bt_rcnb {\n      margin-left: 10px; }\n  .SingleInputMenu.flights-m .dtm_rcfr-input-wrap {\n    display: flex;\n    align-items: center;\n    width: 100%;\n    padding: 0 10px;\n    border: 2px solid #ff8b88; }\n  .SingleInputMenu.flights-m .dtm_rcfr-wrap {\n    display: none;\n    position: static;\n    width: 100%;\n    height: calc(100vh - 130px);\n    padding: 0;\n    overflow: auto;\n    border: 0;\n    background-color: #fff; }\n    .SingleInputMenu.flights-m .dtm_rcfr-wrap.open {\n      display: block; }\n  .SingleInputMenu.flights-m .dtm_rcfr-label {\n    margin: 8px 0 10px 25px;\n    font-size: 14px;\n    color: #24a07d; }\n  .SingleInputMenu.flights-m .dtm_rcfr-close_btn {\n    display: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 10px;\n    cursor: pointer; }\n    .SingleInputMenu.flights-m .dtm_rcfr-close_btn svg {\n      width: 16px;\n      height: 16px; }\n  .SingleInputMenu.flights-m .dtm_rcfr-selected-wrap {\n    white-space: nowrap; }\n  .SingleInputMenu.flights-m .dtm_rcfr-selected {\n    display: inline-flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 20vw;\n    line-height: 1;\n    margin: 0 4px 0 0;\n    padding-left: 4px;\n    font-size: 16px;\n    font-weight: bold;\n    color: #0077b3;\n    background-color: #eaeaea;\n    cursor: pointer;\n    min-width: calc(100%/3); }\n    .SingleInputMenu.flights-m .dtm_rcfr-selected:last-of-type {\n      margin: 0; }\n    .SingleInputMenu.flights-m .dtm_rcfr-selected span {\n      width: 80px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap; }\n    .SingleInputMenu.flights-m .dtm_rcfr-selected i {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 20px;\n      height: 20px; }\n    .SingleInputMenu.flights-m .dtm_rcfr-selected svg {\n      width: 6px;\n      height: 6px;\n      fill: #999; }\n  .SingleInputMenu.flights-m .dtm_rcfr .panel:last-child .sec_content > .item {\n    width: 33%; }\n  .SingleInputMenu.flights-m .dtm_rcfr .cr_rcln > span {\n    font-weight: bold;\n    font-size: 16px;\n    line-height: 16px;\n    vertical-align: text-bottom; }\n  .SingleInputMenu.flights-m .dtm_rcfr .tabs {\n    padding-top: 0px; }\n\n.SingleInputMenu.flights-m .act_racp {\n  box-shadow: none;\n  outline: none;\n  left: 0;\n  min-width: 100%;\n  height: calc(100vh - 130px);\n  max-height: 100%;\n  margin-top: 40px; }\n  .SingleInputMenu.flights-m .act_racp-future .m-place .close,\n  .SingleInputMenu.flights-m .act_racp-future .noMatchText .close {\n    display: none; }\n  .SingleInputMenu.flights-m .act_racp-future .noMatchText {\n    color: #999;\n    padding: 0; }\n  .SingleInputMenu.flights-m .act_racp .section {\n    max-width: 100%; }\n\n.SingleInputMenu.flights-m.dischange .act_racp {\n  margin: 10px; }\n",""])},366:function(t,e,n){(t.exports=n(319)(!1)).push([t.i,".flight_chinese .st_rcln .ic_rcln {\n  color: #999; }\n\n.flight_chinese .st_rcln .dropdown-place-holder {\n  font-weight: bold;\n  font-size: 16px;\n  color: #0077b3; }\n  .flight_chinese .st_rcln .dropdown-place-holder .dropdown-label {\n    font-weight: normal;\n    font-size: 14px;\n    color: #999; }\n  .flight_chinese .st_rcln .dropdown-place-holder input {\n    width: 100%;\n    color: #0077b3; }\n  .flight_chinese .st_rcln .dropdown-place-holder .cy_rcln {\n    color: black; }\n  .flight_chinese .st_rcln .dropdown-place-holder.selected {\n    color: #0077b3; }\n\n.flight_chinese .icon .ic_rcln {\n  font-size: 20px;\n  padding-left: 5px;\n  color: #999; }\n\n.flight_chinese .int_rcln.icon > i {\n  left: 0; }\n\n.flight_chinese .int_rcln_input {\n  color: #0077b3;\n  font-weight: bold; }\n  .flight_chinese .int_rcln_input::-webkit-input-placeholder {\n    color: #0077b3; }\n\n.flight_chinese .dpt:after {\n  content: '';\n  display: none; }\n\n.flight_chinese .bor-right .int_rcln_input {\n  border-right: 1px solid #e3e3e3; }\n\n.flight_chinese .peopleAndCabin .int_rcln_label {\n  font-size: 14px; }\n\n.flight_chinese .peopleAndCabin .int_rcln_input {\n  padding-top: 22px; }\n\n.flight_chinese .footer button {\n  width: 100%; }\n\n.flight_chinese .footer .footerInfo {\n  color: #1c9c9d;\n  margin: 10px 0; }\n  .flight_chinese .footer .footerInfo a {\n    text-decoration: none;\n    cursor: pointer; }\n\n@media (min-width: 980px) {\n  .flight_chinese .footer button {\n    width: 90px;\n    float: right;\n    margin-top: 48px; } }\n\n.flight_chinese .st_rnls_descendant_content {\n  padding-right: 30px; }\n  .flight_chinese .st_rnls_descendant_content .st_rcln {\n    width: auto; }\n    .flight_chinese .st_rnls_descendant_content .st_rcln .dropdown-place-holder {\n      color: #0077b3; }\n  .flight_chinese .st_rnls_descendant_content .peopleContent {\n    padding-top: 10px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center; }\n  .flight_chinese .st_rnls_descendant_content .st_rnls_descendant_content_close {\n    font-size: 16px; }\n\n.flight_chinese .cy_rcln .prev,\n.flight_chinese .cy_rcln .next {\n  z-index: 100; }\n\n.flight_chinese .cy_rcln .calendar_box {\n  z-index: 99; }\n\n.flight_chinese .pcCalendarCont {\n  position: relative; }\n  .flight_chinese .pcCalendarCont .cy_rcln {\n    position: absolute;\n    top: 26px;\n    left: 0;\n    z-index: 5; }\n\n.flight_chinese .peopleAndCabin {\n  position: relative; }\n  .flight_chinese .peopleAndCabin .st_rnls_descendant_content {\n    position: absolute;\n    top: 49px;\n    left: 0;\n    width: 100% !important;\n    z-index: 5; }\n",""])},367:function(t,e,n){(t.exports=n(319)(!1)).push([t.i,".flight_taiwan .st_rcln .ic_rcln {\n  color: #999; }\n\n.flight_taiwan .st_rcln .dropdown-place-holder {\n  font-weight: bold;\n  font-size: 16px;\n  color: #0077b3; }\n  .flight_taiwan .st_rcln .dropdown-place-holder .dropdown-label {\n    font-weight: normal;\n    font-size: 14px;\n    color: #999; }\n\n.flight_taiwan .icon .ic_rcln {\n  font-size: 20px;\n  padding-left: 5px;\n  color: #999; }\n\n.flight_taiwan .int_rcln.icon > i {\n  left: 0; }\n\n.flight_taiwan .int_rcln_label {\n  color: #999; }\n\n.flight_taiwan .int_rcln_input {\n  color: #0077b3;\n  font-weight: bold; }\n  .flight_taiwan .int_rcln_input::-webkit-input-placeholder {\n    color: #0077b3; }\n\n.flight_taiwan .calendar_compose .int_rcln.breakline.icon {\n  padding: 5px 0; }\n\n.flight_taiwan .calendar_compose .content {\n  padding-top: 35px; }\n  .flight_taiwan .calendar_compose .content .close_btn {\n    font-size: 24px;\n    padding: 0 8px;\n    right: 0;\n    top: 0; }\n\n.flight_taiwan .bor-right .int_rcln_input {\n  border-right: 1px solid #e3e3e3; }\n\n.flight_taiwan .aroundInput {\n  display: flex; }\n  .flight_taiwan .aroundInput .int_rcln.breakline.icon {\n    padding: 5px 0; }\n  .flight_taiwan .aroundInput .int_rcln .int_rcln_input {\n    padding-top: 25px; }\n  .flight_taiwan .aroundInput .int_rcln .int_rcln_label {\n    font-size: 14px; }\n  .flight_taiwan .aroundInput .int_rcln:first-child .int_rcln_input {\n    padding-left: 38px !important; }\n  .flight_taiwan .aroundInput .int_rcln:first-child .int_rcln_label {\n    left: 37px; }\n  .flight_taiwan .aroundInput .clearBtn {\n    display: none; }\n    @media (min-width: 980px) {\n      .flight_taiwan .aroundInput .clearBtn {\n        display: block; } }\n\n.flight_taiwan .footer {\n  display: flex;\n  justify-content: space-between; }\n  .flight_taiwan .footer .footerInfo {\n    color: #24a07d;\n    line-height: 1.43; }\n    .flight_taiwan .footer .footerInfo a {\n      color: #24a07d;\n      text-decoration: underline;\n      cursor: pointer; }\n  .flight_taiwan .footer button {\n    min-width: 90px; }\n\n.flight_taiwan .Rtow {\n  flex: 0 0 30%;\n  margin: 0;\n  padding: 0;\n  list-style-type: none;\n  border-bottom: 1px solid #b0b0b0;\n  background-color: transparent;\n  border-right: none;\n  font-size: 16px; }\n  .flight_taiwan .Rtow li {\n    cursor: pointer;\n    width: auto;\n    color: #888;\n    font-weight: 700;\n    display: inline-block;\n    border-bottom: 2px solid transparent;\n    margin: 0 10px -1px 0;\n    text-align: center;\n    padding: 7px 8px; }\n    .flight_taiwan .Rtow li.active {\n      color: #e10500;\n      border-color: #e10500;\n      background-color: transparent;\n      width: auto; }\n\n.flight_taiwan .pos-bottom {\n  bottom: 0; }\n",""])},417:function(t,e,n){var a=n(357);"string"==typeof a&&(a=[[t.i,a,""]]);var l=n(320)(a,{hmr:!0,transform:void 0,insertInto:void 0});a.locals&&(t.exports=a.locals),t.hot.accept(357,function(){var e=n(357);if("string"==typeof e&&(e=[[t.i,e,""]]),!function(t,e){var n,a=0;for(n in t){if(!e||t[n]!==e[n])return!1;a++}for(n in e)a--;return 0===a}(a.locals,e.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");l(e)}),t.hot.dispose(function(){l()})},418:function(t,e,n){(t.exports=n(319)(!1)).push([t.i,".flight_international_pc .Rtow {\n  flex: 0 0 30%;\n  margin: 0;\n  padding: 0;\n  list-style-type: none;\n  border-bottom: 1px solid #b0b0b0;\n  background-color: transparent;\n  border-right: none;\n  font-size: 16px; }\n  .flight_international_pc .Rtow li {\n    cursor: pointer;\n    width: auto;\n    color: #888;\n    font-weight: 700;\n    display: inline-block;\n    border-bottom: 2px solid transparent;\n    margin: 0 10px -1px 0;\n    text-align: center;\n    padding: 7px 8px;\n    font-size: 14px; }\n    .flight_international_pc .Rtow li.active {\n      color: #e10500;\n      border-color: #e10500;\n      background-color: transparent;\n      width: auto; }\n\n.flight_international_pc .panel .cr_rcln {\n  z-index: 1;\n  margin-bottom: 10px; }\n  .flight_international_pc .panel .cr_rcln:nth-of-type(2) {\n    margin-left: 20px; }\n\n.flight_international_pc .panel .toolif {\n  color: #24a07d;\n  margin-right: 3px; }\n\n.flight_international_pc .panel .txt-toolif {\n  color: #24a07d;\n  margin-bottom: 5px; }\n\n.flight_international_pc .openMoreOptions {\n  overflow: inherit; }\n\n.flight_international_pc .ZeroOneRtowStyle {\n  margin-bottom: 10px; }\n  .flight_international_pc .ZeroOneRtowStyle > * {\n    margin-top: 10px; }\n\n.flight_international_pc .ThreeRtowStyle {\n  display: flex;\n  height: 50px;\n  margin-top: 10px; }\n\n.flight_international_pc .int-col input {\n  border: none;\n  border-radius: 0;\n  outline: none;\n  background: transparent;\n  padding: 0;\n  height: 100%;\n  font-size: 16px;\n  width: 100%;\n  color: #0077b3; }\n\n.flight_international_pc .AppendContainer {\n  margin-top: 10px; }\n  .flight_international_pc .AppendContainer:after {\n    content: '';\n    display: block;\n    clear: both; }\n  .flight_international_pc .AppendContainer.show {\n    display: block; }\n  .flight_international_pc .AppendContainer.hide {\n    display: none; }\n  .flight_international_pc .AppendContainer .AppendItemStyle {\n    margin-bottom: 10px;\n    float: left;\n    display: flex;\n    align-items: center;\n    flex: 1; }\n    .flight_international_pc .AppendContainer .AppendItemStyle .minus-items {\n      margin: 0;\n      min-width: 32px;\n      height: 32px;\n      border-radius: 3px;\n      padding: 0;\n      background-color: #ff615d;\n      margin-right: 10px; }\n  .flight_international_pc .AppendContainer .mulitAdd {\n    min-width: 32px;\n    min-height: 32px;\n    border-radius: 3px;\n    float: left;\n    padding: 0;\n    background-color: #ff615d;\n    margin-top: 9px; }\n\n.flight_international_pc .ItemStyle {\n  display: flex;\n  width: 100%;\n  height: 50px; }\n  .flight_international_pc .ItemStyle > * {\n    margin-right: 10px; }\n\n.flight_international_pc .single-change {\n  border: none; }\n  .flight_international_pc .single-change > *:first-child {\n    border: 1px solid #ddd;\n    border-right: none; }\n  .flight_international_pc .single-change > *:last-child {\n    border: 1px solid #ddd;\n    border-left: none; }\n  .flight_international_pc .single-change .changeBtn {\n    margin: 0;\n    width: 23px;\n    height: 50px;\n    background-size: 13px;\n    border-top: 1px solid #ddd;\n    border-bottom: 1px solid #ddd; }\n\n.flight_international_pc .calendarStyle {\n  display: flex;\n  position: relative;\n  z-index: 1; }\n  .flight_international_pc .calendarStyle .close_btn {\n    cursor: pointer; }\n\n.flight_international_pc .st_rnls .int_rcln_input {\n  padding-top: 21px;\n  color: #0077b3; }\n\n.flight_international_pc .int_rctg .int-col {\n  padding: 0 10px; }\n  .flight_international_pc .int_rctg .int-col .int-label {\n    margin: 0; }\n\n.flight_international_pc .checkBoxMagin {\n  margin-left: 22px; }\n\n.flight_international_pc .openMoreOptions {\n  margin-top: 10px; }\n  .flight_international_pc .openMoreOptions .clp_rcdp_title_text {\n    font-size: 14px; }\n\n.flight_international_pc.peopleCabinStyle .dropdown-place-holder {\n  display: flex;\n  align-items: center;\n  font-size: 14px;\n  color: #444444; }\n\n.flight_international_pc.peopleCabinStyle .num-people {\n  margin-top: 10px;\n  display: flex;\n  justify-content: space-between; }\n\n.flight_international_pc .clp_rcdp_content {\n  background-color: #f1f1f1;\n  padding: 10px; }\n  .flight_international_pc .clp_rcdp_content .searchMoreTop {\n    display: flex; }\n    .flight_international_pc .clp_rcdp_content .searchMoreTop .dropdown-place-holder.breakline {\n      padding: 8px; }\n    .flight_international_pc .clp_rcdp_content .searchMoreTop > * {\n      flex: 1;\n      margin-right: 11px; }\n      .flight_international_pc .clp_rcdp_content .searchMoreTop > *:last-child {\n        margin-right: 0; }\n  .flight_international_pc .clp_rcdp_content .checkBoxMagin {\n    margin-top: 10px;\n    margin-left: 0; }\n\n.flight_international_pc .doubleCanlendarStyle {\n  display: flex; }\n  .flight_international_pc .doubleCanlendarStyle .int_rctg:first-child {\n    border-right: none; }\n  .flight_international_pc .doubleCanlendarStyle .int_rctg:last-child {\n    border-left: none; }\n    .flight_international_pc .doubleCanlendarStyle .int_rctg:last-child .int-col {\n      border-left: 1px solid #e3e3e3; }\n\n.flight_international_pc .submitBtn {\n  width: 90px;\n  height: 50px;\n  border-radius: 5px;\n  float: right; }\n\n.flight_international_pc .inputStyle {\n  position: relative; }\n  .flight_international_pc .inputStyle .clearBtn {\n    width: 14px;\n    height: 14px;\n    background-color: #999999;\n    border-radius: 50%;\n    position: absolute;\n    right: 10px;\n    top: 0;\n    bottom: 0;\n    margin: auto; }\n    .flight_international_pc .inputStyle .clearBtn:before {\n      content: '';\n      width: 60%;\n      height: 1px;\n      background: #fff;\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      margin: auto;\n      -webkit-transform: rotate(45deg);\n              transform: rotate(45deg); }\n    .flight_international_pc .inputStyle .clearBtn:after {\n      content: '';\n      width: 60%;\n      height: 1px;\n      background: #fff;\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      margin: auto;\n      -webkit-transform: rotate(-45deg);\n              transform: rotate(-45deg); }\n",""])},428:function(t,e,n){var a=n(366);"string"==typeof a&&(a=[[t.i,a,""]]);var l=n(320)(a,{hmr:!0,transform:void 0,insertInto:void 0});a.locals&&(t.exports=a.locals),t.hot.accept(366,function(){var e=n(366);if("string"==typeof e&&(e=[[t.i,e,""]]),!function(t,e){var n,a=0;for(n in t){if(!e||t[n]!==e[n])return!1;a++}for(n in e)a--;return 0===a}(a.locals,e.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");l(e)}),t.hot.dispose(function(){l()})},429:function(t,e,n){var a=n(367);"string"==typeof a&&(a=[[t.i,a,""]]);var l=n(320)(a,{hmr:!0,transform:void 0,insertInto:void 0});a.locals&&(t.exports=a.locals),t.hot.accept(367,function(){var e=n(367);if("string"==typeof e&&(e=[[t.i,e,""]]),!function(t,e){var n,a=0;for(n in t){if(!e||t[n]!==e[n])return!1;a++}for(n in e)a--;return 0===a}(a.locals,e.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");l(e)}),t.hot.dispose(function(){l()})},613:function(t,e,n){var a=n(418);"string"==typeof a&&(a=[[t.i,a,""]]);var l=n(320)(a,{hmr:!0,transform:void 0,insertInto:void 0});a.locals&&(t.exports=a.locals),t.hot.accept(418,function(){var e=n(418);if("string"==typeof e&&(e=[[t.i,e,""]]),!function(t,e){var n,a=0;for(n in t){if(!e||t[n]!==e[n])return!1;a++}for(n in e)a--;return 0===a}(a.locals,e.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");l(e)}),t.hot.dispose(function(){l()})},622:function(t,e,n){"use strict";n.r(e);var a=n(20),l=n.n(a),i=n(382),r=n(294),o=n(333),c=n.n(o),s=n(312),u=n.n(s),d=n(313),p=n.n(d),h=n(314),f=n.n(h),m=n(315),g=n.n(m),_=n(316),b=n.n(_),v=n(317),C=n.n(v),x=n(318),S=n.n(x),y=(n(387),n(428),n(332)),w=n(325),E=n(322),D=n(352),I=n(348),k=n(326),M=n(321),N=n(388),O=n(349),A=n(331),T=n.n(A),Y=function(t){return l.a.createElement(E.a,{request:!0,value:"共".concat(t.peopleNumber,"人，").concat([t.cabin]),label:"人數/艙等",icon:l.a.createElement(w.a,{name:"toolstaff"}),readOnly:!0})},P=[{text:"經濟艙",value:"0"},{text:"商務艙",value:"1"},{text:"頭等艙",value:"2"}],B=function(t){return l.a.createElement("div",{className:"footerInfo"},l.a.createElement(w.a,{name:"toolif",className:"p-r-xs"}),"若欲訂購來回程機票，請分開訂位。")},R=function(t){return l.a.createElement("p",null,"例如:需預訂上海 → 北京 → 上海來回機票，請上海 → 北京單程票預定一張訂票，北京 → 上海單程票另外預定一張訂單")},F=function(t){function e(){var t,n;u()(this,e);for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return n=f()(this,(t=g()(e)).call.apply(t,[this].concat(l))),S()(C()(C()(n)),"state",{selectedStartDate:"",startInputValue:T()().add(3,"day").format("YYYY-MM-DD"),onFocus:!1}),S()(C()(C()(n)),"clickDate",function(t){n.props.selectDate&&n.props.selectDate(t),n.setState(function(e){return{onFocus:!1,selectedStartDate:t,startInputValue:t}})}),S()(C()(C()(n)),"inputChange",function(t){var e=t.target.value;n.setState(function(t){return c()({},t,{startInputValue:e})})}),n}return b()(e,t),p()(e,[{key:"render",value:function(){var t=this,e=this.state,n=e.selectedStartDate,a=e.startInputValue,i=e.onFocus,r=this.props.doubleMonth,o=T()();return l.a.createElement(M.a,{className:"pcCalendarCont",onClickOutside:function(){t.setState(function(t){return c()({},t,{onFocus:!1})})}},l.a.createElement("input",{type:"text",placeholder:"選擇日期",value:a,onFocus:function(){t.setState(function(t){return c()({},t,{onFocus:!0})})},onChange:this.inputChange,readOnly:!0,style:i?{borderColor:"red"}:null}),i?l.a.createElement(I.a,{doubleMonth:r,activeStart:o.format("YYYY-MM"),activeEnd:o.add(1,"years").format("YYYY-MM"),startDate:o.add(3,"days").format("YYYY-MM-DD"),endDate:o.add(1,"years").subtract(4,"days").format("YYYY-MM-DD"),selectedStartDate:n,onDateClick:this.clickDate}):null)}}]),e}(a.Component);S()(F,"defaultProps",{doubleMonth:!1});var V=function(t){function e(t){var n;return u()(this,e),n=f()(this,g()(e).call(this,t)),S()(C()(C()(n)),"getOptionData",function(){M.b.fetchJsToObj("../json/GetArrayTkt5.json",n.getData)}),S()(C()(C()(n)),"getData",function(t){n.handleGetData(t.vCity)}),S()(C()(C()(n)),"handleGetData",function(t){var e=[];for(var a in t)if(t.hasOwnProperty(a)){var l={text:t[a],value:a};e.push(l)}n.setState({isLoaded:!0,options:e})}),S()(C()(C()(n)),"selectDate",function(t){var e=t.replace(/\-/g,"");n.setState({sFdate:e})}),S()(C()(C()(n)),"selectCabin",function(t){n.setState({sClass:t,cabinText:P[t].text})}),S()(C()(C()(n)),"onClickAdd",function(){var t=n.state,e=t.sAdt,a=t.max,l=e+1;a<=l&&(l=a),n.setState({sAdt:l})}),S()(C()(C()(n)),"onClickMinus",function(){var t=n.state,e=t.sAdt,a=t.min,l=e-1;l<=a&&(l=a),n.setState({sAdt:l})}),S()(C()(C()(n)),"handleSubmit",function(){var t=n.state,e=t.sFcity,a=t.sTcity,l=t.sFdate,i=t.sAdt,r=t.sClass,o=t.sTktkind,c=t.sChd,s=t.sTairp,u=t.sFairp;n.validate(function(t,n){if(t){var d="sFcity=".concat(e,"&sTcity=").concat(a,"&sFdate=").concat(l,"&sAdt=").concat(i,"&sClass=").concat(r,"&sTktkind=").concat(o,"&sChd=").concat(c,"&sTairp=").concat(s,"&sFairp=").concat(u);window.open("https://www.liontravel.com/webtk/webtkcn01.aspx?"+d)}else alert("請選擇"+n.join("、"))})}),S()(C()(C()(n)),"validate",function(t){var e=n.state,a=e.sFairp,l=e.sTairp,i=e.sFcity,r=e.sTcity,o=[];""!==a&&""!==i||o.push("出發機場"),""!==l&&""!==r||o.push("目的機場"),t(0===o.length,o)}),n.state={sFairp:"XZM",sTairp:"SHA",sFcity:"MFM",sTcity:"SHA",sFdate:"20181022",sAdt:1,sChd:0,sClass:0,sTktkind:"CN",max:10,min:1,cabinText:"經濟艙",options:[],isLoaded:!1},n}return b()(e,t),p()(e,[{key:"componentDidMount",value:function(){this.getOptionData()}},{key:"dptChange",value:function(t){var e=t.split("_"),n=e[1],a=e[2];this.setState({sFairp:n,sFcity:a})}},{key:"dtnChange",value:function(t){var e=t.split("_"),n=e[1],a=e[2];this.setState({sTairp:n,sTcity:a})}},{key:"render",value:function(){var t=this,e=this.state,n=e.isLoaded,a=e.options;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"flight_chinese"},n&&0<a.length?l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{ClassName:"m-b-sm",option:a,placeholder:"請選擇",label:"出發機場",icon:l.a.createElement(w.a,{name:"planeairplane"}),req:!0,breakline:!0,onChangeCallBack:function(e){t.dptChange(e)},defaultValue:"_PEK_PEK"}),l.a.createElement(y.a,{ClassName:"m-b-sm",option:a,placeholder:"請選擇",label:"目的機場",icon:l.a.createElement(w.a,{name:"toolmap"}),req:!0,breakline:!0,onChangeCallBack:function(e){t.dtnChange(e)},defaultValue:"_SHA_SHA"}),l.a.createElement("div",{className:"st_rcln m-b-sm dpt"},l.a.createElement("i",{className:"ic_rcln tooldate"}),l.a.createElement("div",{className:"dropdown-place-holder selected breakline withIcon"},l.a.createElement("span",{className:"dropdown-label req breakline"},"出發日期"),l.a.createElement(F,{selectDate:this.selectDate}))),l.a.createElement(N.a,{moduleClassName:"peopleAndCabin",CustomComponent:l.a.createElement(Y,{cabin:this.state.cabinText,peopleNumber:this.state.sAdt}),ContentComponent:l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{option:P,placeholder:"經濟艙",label:"艙等",req:!0,whenCloseCallBack:function(){},onChangeCallBack:function(e){return t.selectCabin(e)}}),l.a.createElement("div",{className:"peopleContent"},l.a.createElement("p",null,"人數"),l.a.createElement(D.a,{max:this.state.max,min:this.state.min,count:this.state.sAdt,btnClassMinus:"ic_rcln toolcancelb",btnClassAdd:"ic_rcln tooladdb",onClickAdd:this.onClickAdd,onClickMinus:this.onClickMinus}))),whenOpen:function(t){},whenClose:function(t){}}),l.a.createElement("div",{className:"footer"},l.a.createElement(O.a,{CustomComponent:l.a.createElement(B,null),ContentComponent:l.a.createElement(R,null),moduleClassName:"PpRcln2 m-r-xxl",events:["click","hover"],position:["bottom","horizon_center"]}),l.a.createElement(k.a,{radius:!0,prop:"string",className:"h-sm",lg:!0,whenClick:function(){t.handleSubmit()}},"搜尋"))):null))}}]),e}(a.Component);S()(V,"defaultProps",{doubleMonth:!1});var j=V,z=n(327),L=n.n(z),U=n(83),q=n.n(U),K=(n(429),[{text:"台北松山",value:"TSA"},{text:"台東",value:"TTT"},{text:"高雄",value:"KHH"},{text:"台中",value:"RMQ"},{text:"花蓮",value:"HUN"},{text:"馬公",value:"MZG"},{text:"金門",value:"KNH"}]),Q=[{text:"1位",value:"1"},{text:"2位",value:"2"},{text:"3位",value:"3"},{text:"4位",value:"4"}];var H=function(t){function e(t){var n;return u()(this,e),n=f()(this,g()(e).call(this,t)),S()(C()(C()(n)),"clearValue",function(t){return"start"===t?n.setState(function(t){return c()({},t,{startInputValue:"",selectedStartDate:""})},n.onChange):n.setState(function(t){return c()({},t,{selectedEndDate:"",endInputValue:""})},n.onChange)}),S()(C()(C()(n)),"closeCalendar",function(){n.setState(function(t){return c()({},t,{activeInput:null})})}),S()(C()(C()(n)),"checkDate",function(t){var e="start"===t,a=n.state,l=a.selectedStartDate,i=a.selectedEndDate,r=a.startInputValue,o=a.endInputValue,c=e?r:o,s=e?c===l:c===i;if(c.length&&!s){var u=c.match(/^(\d{4})[\-\/]?(\d{2})[\-\/]?(\d{2})$/);if(null===u)return alert("請輸入正確的日期格式(YYYYMMDD) EX: 20180101");var d=L()(u,4),p=(d[0],d[1]),h=d[2],f=d[3],m="".concat(p,"-").concat(h,"-").concat(f),g=T()(m),_=n.calcStartDate();return g.isValid()?g.isBefore(_)?alert("日期小於最小可選日期"):void n.clickDate(m):alert("無效的日期")}}),S()(C()(C()(n)),"inputChange",function(t){var e=t.target.value,a=n.state.activeInput,l="".concat(a,"InputValue");n.setState(function(t){return c()({},t,S()({},l,e))},n.onChange)}),S()(C()(C()(n)),"inputFocus",function(t){n.setState(function(e){return c()({},e,{activeInput:t})})}),S()(C()(C()(n)),"clickDate",function(t){var e,a,l,i=n.state,r=i.activeInput,o=i.selectedStartDate,c=i.endInputValue,s="start"===r,u=1===n.props.TRIP;l=u?(e=t,a=T()(t).isAfter(T()(c))?t:c,null):(e=s?t:o,a=s?T()(t).isAfter(T()(c))?t:c:t,s?"end":null),n.setState(function(t){return{activeInput:l,selectedStartDate:e,selectedEndDate:a,startInputValue:e,endInputValue:a}},n.onChange)}),n.state={selectedStartDate:T()().format("YYYY-MM-DD"),selectedEndDate:T()().format("YYYY-MM-DD"),startInputValue:T()().format("YYYY-MM-DD"),endInputValue:T()().format("YYYY-MM-DD"),activeInput:null},n}return b()(e,t),p()(e,[{key:"onChange",value:function(){this.props.onChange(this.state)}},{key:"calcStartDate",value:function(){var t=this.state,e=t.selectedStartDate,n=t.activeInput,a=T()();return"end"===n&&e.length?e:a.format("YYYY-MM-DD")}},{key:"render",value:function(){var t=this,e=this.state,n=e.selectedStartDate,a=e.selectedEndDate,i=e.startInputValue,r=e.endInputValue,o=e.activeInput,c=this.props.TRIP,s=this.calcStartDate();return l.a.createElement(M.a,{onClickOutside:this.closeCalendar},l.a.createElement("div",{className:"calendar_compose"},l.a.createElement("div",{className:"input_group aroundInput"},l.a.createElement(E.a,{placeholder:"YYYYMMDD",label:1===c?"出發日期":"去程日期",icon:l.a.createElement(w.a,{name:"tooldate"}),onFocus:function(){t.inputFocus("start")},onChange:this.inputChange,onBlur:function(){t.checkDate("start")},onClearValue:function(){t.clearValue("start")},value:i.replace(/\-/g,"/"),className:1===c?"":"bor-right"}),1===c?null:l.a.createElement(E.a,{placeholder:"YYYYMMDD",label:"回程日期",breakline:!0,onChange:this.inputChange,onFocus:function(){t.inputFocus("end")},onBlur:function(){t.checkDate("end")},onClearValue:function(){t.clearValue("end")},value:r.replace(/\-/g,"/")})),null===o?null:l.a.createElement("div",{className:"content"},l.a.createElement("button",{className:"close_btn",onClick:this.closeCalendar},"×"),l.a.createElement(I.a,{doubleMonth:!0,doubleChoose:1!==c,startDate:s,activeStart:T()().format("YYYY-MM"),activeEnd:T()().add(1,"years").format("YYYY-MM"),endDate:T()().add(1,"years").format("YYYY-MM-DD"),selectedStartDate:n,selectedEndDate:1===c?"":a,onDateClick:this.clickDate}))))}}]),e}(a.PureComponent);S()(H,"defaultProps",{onChange:function(){}});var J=function(t){function e(t){var n;return u()(this,e),n=f()(this,g()(e).call(this,t)),S()(C()(C()(n)),"handleServerItemsLoad",function(t){var e=Object.keys(t).map(function(e,n){return t[e]}),a=function(t){for(var e=[],n=0;n<t.length;n++)e[n]={},e[n].text=t[n]["<BOARD_POINT_NAME>"],e[n].value=t[n]["<BOARD_POINT_CODE>"];return e.filter(function(t,e,n){return 0<e?n[e-1].text.toString()!==n[e].text.toString():n[e].text})}(e);n.setState({isLoaded:!0,depList:a,itemList:e,BOARD_POINT:a[0].value,depPlaceholder:a[0].text}),n.changeOption(a[0].value)}),n.state={BOARD_POINT:"",OFF_POINT:"",TRIP:1,DEPARTURE_DATE:T()().format("YYYY-MM-DD"),RETURN_DATE:T()().format("YYYY-MM-DD"),PASSENGER_NUMBER:1,isLoaded:!1,itemList:[],depList:K,arrList:K,depPlaceholder:"松山",arrPlaceholder:"馬公"},n}return b()(e,t),p()(e,[{key:"UNSAFE_componentWillMount",value:function(){var t=this;fetch("../json/twflightdest.json").then(function(t){if(!t.ok)throw new Error(t.statusText);return t.json()}).then(function(e){t.handleServerItemsLoad(e)}).catch(function(t){})}},{key:"boardPointChange",value:function(t){var e=this.state.depList.filter(function(e,n,a){return a[n].value===t});this.setState({BOARD_POINT:t,depPlaceholder:e[0].text}),this.changeOption(t)}},{key:"offPointChange",value:function(t){var e=this.state.arrList.filter(function(e,n,a){return a[n].value===t});this.setState({OFF_POINT:t,arrPlaceholder:e[0].text})}},{key:"changeOption",value:function(t){var e=this.state.itemList;if(0!==e.length){for(var n=t,a=e.filter(function(t,e,a){return a[e]["<BOARD_POINT_CODE>"]===n}),l=[],i=0;i<a.length;i++)l[i]={},l[i].text=a[i]["<OFF_POINT_NAME>"],l[i].value=a[i]["<OFF_POINT_CODE>"];var r,o=this.state.OFF_POINT;if(""!==o)for(var c=0;c<l.length;c++)r=l[c].value===o?c:0;else r=0;this.setState({arrList:l,arrPlaceholder:l[r].text,OFF_POINT:l[r].value})}}},{key:"passengerChange",value:function(t){this.setState({PASSENGER_NUMBER:t})}},{key:"tripChange",value:function(t){this.setState({TRIP:t})}},{key:"clearVaule",value:function(t){this.setState({DEPARTURE_DATE:""})}},{key:"roundDate",value:function(t){this.setState({DEPARTURE_DATE:t.startInputValue,RETURN_DATE:t.endInputValue})}},{key:"handleSubmit",value:function(){!function(t){var e=t,n={};for(var a in e)1===e.TRIP?"RETURN_DATE"!==a&&(n[a]=e[a]):n[a]=e[a];!function(t){var e,n=t;for(var a in n){if(!n[a]){alert("請輸入完整資料"),e=!1;break}if("DEPARTURE_DATE"===a){var l=n[a].replace(/\//g,"-");n[a]=l}if("RETURN_DATE"===a){var i=n[a].replace(/\//g,"-");n[a]=i}e=!0}e&&function(t){var e=t,n="",a=Object.keys(e).length,l=0;for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n+=a<=++l?i+"="+e[i]:i+"="+e[i]+"&");window.open("https://twflight.liontravel.com/search?"+n)}(n)}(n)}({TRIP:this.state.TRIP,BOARD_POINT:this.state.BOARD_POINT,OFF_POINT:this.state.OFF_POINT,DEPARTURE_DATE:this.state.DEPARTURE_DATE,RETURN_DATE:this.state.RETURN_DATE,PASSENGER_NUMBER:this.state.PASSENGER_NUMBER})}},{key:"render",value:function(){var t=this,e=this.state,n=e.TRIP,a=e.depList,i=e.depPlaceholder,r=e.arrList,o=e.arrPlaceholder,c=e.PASSENGER_NUMBER;return l.a.createElement("div",{className:"flight_taiwan"},l.a.createElement("div",null,l.a.createElement("ul",{className:"Rtow"},l.a.createElement("li",{className:q()({active:1===n}),onClick:function(){t.tripChange(1)}},"單程"),l.a.createElement("li",{className:q()({active:2===n}),onClick:function(){t.tripChange(2)}},"來回"))),l.a.createElement("div",{className:"padder-v-sm"},l.a.createElement(y.a,{ClassName:"m-b-sm",option:a,placeholder:i,label:"出發地",icon:l.a.createElement(w.a,{name:"planeairplane"}),req:!0,breakline:!0,onChangeCallBack:function(e){t.boardPointChange(e)}}),l.a.createElement(y.a,{ClassName:"m-b-sm",option:r,placeholder:o,label:"目的地",icon:l.a.createElement(w.a,{name:"toolmap"}),req:!0,breakline:!0,onChangeCallBack:function(e){t.offPointChange(e)}}),l.a.createElement(H,{onChange:function(e){t.roundDate(e)},TRIP:n}),l.a.createElement(y.a,{ClassName:"m-b-sm",option:Q,placeholder:"".concat(c,"位"),label:"人數",icon:l.a.createElement(w.a,{name:"toolstaff"}),req:!0,breakline:!0,whenMouseDown:function(){},onChangeCallBack:function(e){t.passengerChange(e)}}),l.a.createElement("div",{className:"footer"},l.a.createElement("div",{className:"footerInfo"},l.a.createElement(w.a,{name:"toolif",className:"p-r-xs"}),"注意事項：目前僅華信航空提供線上即時訂購。",l.a.createElement("a",{href:"https://www.liontravel.com/info/twairline/uni.asp"},"參考其他航空")),l.a.createElement(k.a,{radius:!0,prop:"string",className:"h-sm m-l-md",lg:!0,whenClick:function(){t.handleSubmit()}},"搜尋"))))}}]),e}(a.Component);e.default=function(){return l.a.createElement(i.b,{activeIndex:0,customClass:"search_panel_two"},l.a.createElement(i.a,{label:"國際機票預訂"},l.a.createElement(r.default,null)),l.a.createElement(i.a,{label:"大陸境內機票"},l.a.createElement(j,null)),l.a.createElement(i.a,{label:"台灣境內機票"},l.a.createElement(J,null)))}}}]);