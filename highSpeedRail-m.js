(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{317:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"g",function(){return i}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return d}),n.d(t,"a",function(){return p});var a=n(336),o=n.n(a);function r(e,t){fetch(e,{method:"GET"}).then(function(e){return e.text()}).then(function(e){var t=e.replace(/\r?\n|\r/g,"").replace(/(?:var|let|const)\s(\w+)\s=/g,'"$1":').replace(/;/g,",").replace(/,$/g,"").replace(/'/g,'"');return JSON.parse("{"+t+"}")}).then(function(e){t(e)})}function i(e){var t=e,n="",a=Object.keys(t).length,o=0;for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n+=a<=++o?r+"="+t[r]:r+"="+t[r]+"&");return n}function c(e){var t=e.split("-"),n=o()(t,2),a=n[0],r=n[1];return[a=Number(a),r=Number(r)]}function l(){return new Date((new Date).getFullYear(),(new Date).getMonth(),1,8).toISOString().slice(0,7)}function s(e){try{JSON.parse(e)}catch(e){return!1}return!0}function d(e){var t=/^(\d{4})[\-\/]?(\d{2})[\-\/]?(\d{2})$/;if(!t.test(e))return!1;var n=e.match(t),a=parseInt(n[1],10),o=parseInt(n[2],10),r=parseInt(n[3],10),i=[31,28,31,30,31,30,31,31,30,31,30,31];return(a%400==0||a%100!=0&&a%4==0)&&(i[1]=29),r<=i[o-1]}var p={fetchJsToObj:r,findHighestZIndex:function(e){for(var t=document.getElementsByTagName(e),n=0,a=0;a<t.length;a++){var o=document.defaultView.getComputedStyle(t[a],null).getPropertyValue("z-index");n<o&&"auto"!==o&&(n=o)}return parseInt(n,10)},getDomPosition:function(e,t){return"top"===t?e.getBoundingClientRect()[t]+window.pageYOffset:e.getBoundingClientRect()[t]},toQueryString:i,getYearAndMonth:c,getNowMonth:l,addDate:function(e,t){var n=function(e){return e<10?"0"+e:String(e)},a=new Date(e).getTime(),o=new Date(a+864e5*t),r=n(o.getFullYear()),i=n(o.getMonth()+1),c=n(o.getDate());return[r+i+c,r,i,c]},isJsonString:s,isLeapYear:d}},326:function(e,t,n){"use strict";var a=n(317),o=n(330),r=n(325),i=n.n(r),c=n(333),l=n.n(c),s=n(318),d=n.n(s),p=n(319),u=n.n(p),h=n(320),_=n.n(h),m=n(321),f=n.n(m),g=n(322),v=n.n(g),b=n(323),y=n.n(b),D=n(324),x=n.n(D),w=n(16),k=n.n(w),S=n(117),C=n.n(S),E=function(e){function t(e){var n;return d()(this,t),n=_()(this,f()(t).call(this,e)),x()(y()(y()(n)),"handle",function(e){if(n.isClickInSide)n.isClickInSide=!1;else if("touchend"===e.type&&(n.isTouch=!0),"click"!==e.type||!n.isTouch){var t=n.props.onClickOutside;!1===n.isUnMounted&&t(e)}}),x()(y()(y()(n)),"handleClick",function(){n.isClickInSide=!0}),n.isTouch=!1,n.isClickInSide=!1,n.isUnMounted=!1,n}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){document.addEventListener("touchend",this.handle,!1),document.addEventListener("click",this.handle,!1)}},{key:"componentWillUnmount",value:function(){this.isUnMounted=!0,document.removeEventListener("touchend",this.handle,!1),document.removeEventListener("click",this.handle,!1)}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.onClickOutside,l()(e,["children","onClickOutside"]));return k.a.createElement("div",i()({},n,{onClick:this.handleClick}),t)}}]),t}(w.Component);x()(E,"propTypes",{onClickOutside:C.a.func.isRequired});var M=n(329);n.d(t,"b",function(){return a.a}),n.d(t,"c",function(){return a.b}),n.d(t,"h",function(){return a.g}),n.d(t,"e",function(){return a.d}),n.d(t,"d",function(){return a.c}),n.d(t,"f",function(){return a.e}),n.d(t,"g",function(){return a.f}),n.d(t,"a",function(){return o.a}),n.d(t,"i",function(){return M.a})},329:function(e,t,n){"use strict";var a=n(325),o=n.n(a);t.a=function(e,t){var n=e.panel,a=e.methods,r=e.data,i=n+"_queryKey",c=localStorage.getItem(i),l=JSON.parse(c);if(["travel","internationalFlight","chineseFlight","taiwanFlight","hotel","personalVacation","groupVacation","taiwanVacation","themeTravel","cruise","highSpeedRail","activity"].indexOf(n)<0)throw"'".concat(n,"' is not a panel name.");var s=function(){var e=o()({},l);if(Array.isArray(r)){r.forEach(function(t){return delete e[t]});var n=JSON.stringify(e);localStorage.setItem(i,n),"function"==typeof t&&t(e)}else localStorage.removeItem(i)};switch(a){case"get":!function(){if(c&&function(e){try{JSON.parse(e)}catch(e){return!1}return!0}(c)){var e=JSON.parse(c);"function"==typeof t&&t(e)}else s()}();break;case"post":!function(){var e=o()({},l,r),n=JSON.stringify(e);if(!n)throw"Data: '".concat(r,"' can't stringify.");localStorage.setItem(i,n),"function"==typeof t&&t(e)}();break;case"delete":s();break;default:throw"'".concat(a,"' is undefined. You can use 'get', 'post', 'delete'.")}}},330:function(e,t,n){"use strict";n.d(t,"a",function(){return E});var a=n(325),o=n.n(a),r=n(333),i=n.n(r),c=n(318),l=n.n(c),s=n(319),d=n.n(s),p=n(320),u=n.n(p),h=n(321),_=n.n(h),m=n(322),f=n.n(m),g=n(323),v=n.n(g),b=n(324),y=n.n(b),D=n(16),x=n.n(D),w=n(57),k=n.n(w),S=n(117),C=n.n(S),E=function(e){function t(e){var n;return l()(this,t),n=u()(this,_()(t).call(this,e)),y()(v()(v()(n)),"handle",function(e){if(!n.__domNode.contains(e.target)){var t=n.props.onClickOutside;"function"==typeof t&&t(e)}}),n.isTouch=!1,n.isClickInSide=!1,n.isUnMounted=!1,n.__domNode=null,n.__wrappedInstance=null,n}return f()(t,e),d()(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handle,!0)}},{key:"componentWillUnmount",value:function(){this.isUnMounted=!0,document.removeEventListener("click",this.handle,!0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=(t.onClickOutside,i()(t,["children","onClickOutside"]));return x.a.createElement("div",o()({},a,{ref:function(t){e.__domNode=k.a.findDOMNode(t),e.__wrappedInstance=t}}),n)}}]),t}(D.Component);y()(E,"propTypes",{onClickOutside:C.a.func.isRequired})},331:function(e,t,n){"use strict";n.d(t,"g",function(){return o}),n.d(t,"c",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"i",function(){return s}),n.d(t,"h",function(){return d}),n.d(t,"j",function(){return p}),n.d(t,"k",function(){return u}),n.d(t,"f",function(){return h}),n.d(t,"a",function(){return _}),n(344);var a,o=(a={travel:{place:"./json/TRS1NEWTRAVEL.js"},"flight.international":{place:"./json/flightsInternationalDestinationCsutomMenu.js",placeAutoComplete:"./json/getarraytkt6.js",filter:"./json/country.json"},"flight.chinese":{place:"./json/GetArrayTkt5.js"},"flight.taiwan":{place:"./json/twflightdest.json"},hotel:{destination:"./json/hotelMenu.json",destinationAutoComplete:"https://hotel.liontravel.com/search/keyword"},"vacation.personal":{departure:"./json/vacationDeparture.json",destination:"./json/vacationdata.json",destinationAutoComplete:"https://vacation.liontravel.com/ajax/getdestination",keyword:"https://vacation.liontravel.com/search/keyword"},"vacation.group":{place:"./json/TRS1NEWTRAVELFIT.js"},"vacation.taiwan":{destination:"./json/freeTaiwan.js",keyword:"./json/gethotelnamelist.json"},"vacation.taiwan.search":{departure:"./json/departurelocaltw.json",destinationS:"./json/destinationlocalTW_S.json",destination:"./json/destinationlocalTW.json",traffic:"./json/traffic.json"},themeTravel:{place:"./json/TRS1PSUBJECT.js"},activity:{ticketAbroad:"./json/abroad.json",ticketTaiwan:"./json/home.json",keyword:"https://hotel.liontravel.com/search/keyword"}}).travel,r=a["flight.international"],i=a["flight.chinese"],c=a["flight.taiwan"],l=a.hotel,s=a["vacation.personal"],d=a["vacation.group"],p=a["vacation.taiwan"],u=a["vacation.taiwan.search"],h=a.themeTravel,_=a.activity},335:function(e,t,n){(e.exports=n(327)(!1)).push([e.i,".input_group {\n  display: flex;\n  margin-bottom: 10px;\n  border: 1px solid #ddd;\n  cursor: default; }\n  .input_group label {\n    cursor: pointer; }\n  .input_group .int_rcln .int_rcln_input {\n    color: #0077b3;\n    font-weight: bold;\n    border: none;\n    background-color: transparent; }\n    .input_group .int_rcln .int_rcln_input:focus {\n      border-color: #ddd; }\n  .input_group .int_rcln:last-of-type {\n    height: 50px; }\n    .input_group .int_rcln:last-of-type .int_rcln_input {\n      padding-top: 26px; }\n  .input_group .cal_icon {\n    color: #999;\n    display: inline-flex;\n    align-items: center; }\n  .input_group > div {\n    flex: 1; }\n  .input_group .vacation_select_group {\n    padding: 6px 0; }\n    .input_group .vacation_select_group > label,\n    .input_group .vacation_select_group > select {\n      padding: 0 6px;\n      line-height: 1;\n      background-color: #fff; }\n    .input_group .vacation_select_group > label {\n      display: block;\n      color: #aaa;\n      margin: 0;\n      font-size: 16px; }\n      .input_group .vacation_select_group > label.request:after {\n        content: '*';\n        display: inline-block;\n        color: #e10500;\n        vertical-align: middle;\n        line-height: 1;\n        margin-top: 4px; }\n    .input_group .vacation_select_group > select {\n      border: none;\n      outline: none;\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      appearance: none;\n      width: 100%;\n      font-size: 16px;\n      color: #0077b3;\n      font-weight: bold; }\n",""])},337:function(e,t,n){(e.exports=n(327)(!1)).push([e.i,".calendar_compose {\n  position: relative; }\n  .calendar_compose .content {\n    padding: 30px 10px 10px;\n    border: solid 1px #ddd;\n    background-color: #fff;\n    position: absolute;\n    top: 100%;\n    left: 0;\n    z-index: 5; }\n    .calendar_compose .content .close_btn {\n      position: absolute;\n      width: 30px;\n      height: 30px;\n      right: 0;\n      top: 0;\n      z-index: 1;\n      background-color: transparent;\n      border: none;\n      font-weight: bold;\n      outline: none;\n      cursor: pointer; }\n      .calendar_compose .content .close_btn:before, .calendar_compose .content .close_btn:after {\n        content: '';\n        display: block;\n        width: 20px;\n        height: 3px;\n        background-color: #444444;\n        position: absolute;\n        top: 14px;\n        left: 5px; }\n      .calendar_compose .content .close_btn:before {\n        -webkit-transform: rotate(45deg);\n                transform: rotate(45deg); }\n      .calendar_compose .content .close_btn:after {\n        -webkit-transform: rotate(-45deg);\n                transform: rotate(-45deg); }\n    .calendar_compose .content .cy_rcln {\n      display: inline-flex;\n      position: relative;\n      height: auto;\n      background-color: transparent;\n      padding: 0; }\n    .calendar_compose .content .calendar_box {\n      border: solid 1px #e3e3e3; }\n      .calendar_compose .content .calendar_box:not(:last-child) {\n        margin-right: 10px; }\n    .calendar_compose .content .date {\n      min-width: 40px;\n      height: 40px; }\n    .calendar_compose .content .year_month .title {\n      margin-bottom: 10px;\n      color: #222; }\n    .calendar_compose .content .date_box {\n      width: 100%; }\n      .calendar_compose .content .date_box .txt {\n        margin-top: 0px; }\n    .calendar_compose .content .week {\n      height: auto; }\n      .calendar_compose .content .week > span {\n        font-size: 12px; }\n  .calendar_compose .active .today:after {\n    display: none; }\n",""])},343:function(e,t,n){var a=n(335);"string"==typeof a&&(a=[[e.i,a,""]]);var o=n(328)(a,{hmr:!0,transform:void 0,insertInto:void 0});a.locals&&(e.exports=a.locals),e.hot.accept(335,function(){var t=n(335);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,a=0;for(n in e){if(!t||e[n]!==t[n])return!1;a++}for(n in t)a--;return 0===a}(a.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");o(t)}),e.hot.dispose(function(){o()})},345:function(e,t,n){var a=n(337);"string"==typeof a&&(a=[[e.i,a,""]]);var o=n(328)(a,{hmr:!0,transform:void 0,insertInto:void 0});a.locals&&(e.exports=a.locals),e.hot.accept(337,function(){var t=n(337);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,a=0;for(n in e){if(!t||e[n]!==t[n])return!1;a++}for(n in t)a--;return 0===a}(a.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");o(t)}),e.hot.dispose(function(){o()})},349:function(e,t,n){"use strict";var a=n(325),o=n.n(a),r=n(333),i=n.n(r),c=n(336),l=n.n(c),s=n(340),d=n.n(s),p=n(318),u=n.n(p),h=n(319),_=n.n(h),m=n(320),f=n.n(m),g=n(321),v=n.n(g),b=n(322),y=n.n(b),D=n(323),x=n.n(D),w=n(324),k=n.n(w),S=n(16),C=n.n(S),E=n(339),M=n.n(E),Y=n(355),N=n(332),T=n(334),I=n(326),j=(n(345),n(343),function(e){function t(e){var n;return u()(this,t),n=f()(this,v()(t).call(this,e)),k()(x()(x()(n)),"setDefaultDate",function(){n.setState({selectedStartDate:n.props.defaultStartDate||"",selectedEndDate:n.props.defaultEndDate||"",startInputValue:n.props.defaultStartDate||"",endInputValue:n.props.defaultEndDate||""})}),k()(x()(x()(n)),"clearValue",function(e){return"start"===e?n.setState(function(e){return d()({},e,{startInputValue:"",selectedStartDate:""})},n.onChange):n.setState(function(e){return d()({},e,{selectedEndDate:"",endInputValue:""})},n.onChange)}),k()(x()(x()(n)),"closeCalendar",function(){n.setState(function(e){return d()({},e,{activeInput:null})})}),k()(x()(x()(n)),"customIsAfterOtherEnd",function(){var e=n.props.panelName,t=n.state.selectedStartDate;switch(e){case"hotel":return alert("單次訂購一次最多14晚"),void n.clickDate(M()(t).add(14,"day").format("YYYY-MM-DD"));case"vacationPersonal":return alert("無效的日期"),void n.clickDate(M()(t).add(30,"day").format("YYYY-MM-DD"));case"":default:return alert("無效的日期"),void n.clickDate("")}}),k()(x()(x()(n)),"checkDate",function(e){var t="start"===e,a=n.state,o=a.selectedStartDate,r=a.selectedEndDate,i=a.startInputValue,c=a.endInputValue,s=n.props,d=s.setOtherEnd,p=s.setStartDate,u=t?i:c,h=/^(\d{4})[\-\/]?(\d{2})[\-\/]?(\d{2})$/;if(!(t?u===o:u===r)){4===u.length&&(h=/^()(\d{2})(\d{2})/),3===u.length&&(h=/^()(\d{1})(\d{2})/);var _=u.match(h),m=function(){var e=o?M()(o).add(1,"day"):M()().add(p||0,"day"),a=t||o?0:1;n.clickDate(e.add(a,"day").format("YYYY-MM-DD"))};if(null===_)return alert("請輸入正確的日期格式(YYYYMMDD) EX: 2018/01/01"),void m();1===_[2].length&&(_[2]="0"+_[2]);var f,g=l()(_,4),v=(g[0],g[1]),b=g[2],y=g[3],D="".concat(v||M()().year(),"-").concat(b,"-").concat(y),x=M()(D),w=n.calcStartDate();return(f=new Date(D))instanceof Date&&!isNaN(f)&&Object(I.g)(D)?x.isBefore(w)?(alert("日期必須大於今日"),void m()):void(function(e){if(t)return!1;var n=M()(o).add(d,"day");return M()(e).isAfter(n)}(D)?n.customIsAfterOtherEnd():n.clickDate(D)):(alert("無效的日期"),void m())}}),k()(x()(x()(n)),"inputChange",function(e){var t=e.target.value,a=n.state.activeInput,o="".concat(a,"InputValue");"hotel"===n.props.panelName&&(o="".concat("start"===a?"start":"end","InputValue")),n.setState(function(e){return d()({},e,k()({},o,t))},n.onChange)}),k()(x()(x()(n)),"inputKeyDown",function(e,t){13===e.keyCode&&(n.cIntRcln.inputDOM.blur(),n.cIntRcln2.inputDOM.blur(),n.setState({activeInput:null}))}),k()(x()(x()(n)),"inputFocus",function(e){var t=n.state,a=t.selectedStartDate,o=t.startInputValue,r=e;"hotel"===n.props.panelName&&"end"===e&&""===a&&""===o&&(r=null),n.setState(function(e){return d()({},e,{activeInput:r})})}),k()(x()(x()(n)),"startDateValueRule",function(e){var t=n.state,a=t.activeInput,o=t.selectedStartDate,r="start"===a;switch(n.props.panelName){case"vacationPersonal":return r?e:o||(M()(e).add(-30,"day")<M()()?M()().format("YYYY-MM-DD"):M()(e).add(-30,"day").format("YYYY-MM-DD"));case"":default:return r?e:o}}),k()(x()(x()(n)),"clickDate",function(e){var t=n.state,a=t.activeInput,o=t.activeEnd,r=n.props,i=r.setOtherEnd,c=r.setActiveEnd,l="start"===a,s=n.startDateValueRule(e),d=l?"":e,p=Number(M()(s).add(i,"day").format("YYYYMM")),u=Number(o.split("-").join("")),h=o;l&&u<p&&(h=M()().add(c+1,"months").format("YYYY-MM")),n.setState(function(e){return{activeInput:l?"end":null,selectedStartDate:s,selectedEndDate:d,startInputValue:s,endInputValue:d,activeEnd:h}},n.onChange)}),n.state={selectedStartDate:"",selectedEndDate:"",startInputValue:"",endInputValue:"",activeInput:null,endDate:"",activeEnd:M()().add(n.props.setActiveEnd,"months").format("YYYY-MM")},n}return y()(t,e),_()(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setDefaultDate()},0)}},{key:"onChange",value:function(){this.props.onChange(this.state)}},{key:"calcStartDate",value:function(){var e=this.state,t=e.selectedStartDate,n=e.activeInput,a=this.props.setStartDate,o=M()();return"end"===n?"number"==typeof a?t.length?t:o.add(a,"day").format("YYYY-MM-DD"):t.length?t:o.format("YYYY-MM-DD"):"number"==typeof a?o.add(a,"day").format("YYYY-MM-DD"):o.format("YYYY-MM-DD")}},{key:"diffDate",value:function(){var e=this.state,t=e.startInputValue,n=e.endInputValue;if(!t.length||!n.length||t.length!==n.length)return"";var a=new Date(t.replace(/\-/g,"/")).getTime();return(new Date(n.replace(/\-/g,"/")).getTime()-a)/864e5}},{key:"setEndDay",value:function(){var e=this.props,t=e.setEndDate,n=e.setOtherEnd,a=this.state,o=a.selectedStartDate,r=a.activeInput;return n&&""!==o&&"start"!==r?M()(o).add(n,"days").format("YYYY-MM-DD"):M()().add(t,"months").format("YYYY-MM-DD")}},{key:"render",value:function(){var e=this,t=this.state,n=t.selectedStartDate,a=t.selectedEndDate,r=t.startInputValue,c=t.endInputValue,l=t.activeInput,s=t.activeEnd,d=this.props,p=d.totleNights,u=d.titleTxt,h=d.startTxt,_=d.endTxt,m=(d.setActiveEnd,d.setOtherEnd,i()(d,["totleNights","titleTxt","startTxt","endTxt","setActiveEnd","setOtherEnd"])),f=this.calcStartDate(),g=this.setEndDay();return C.a.createElement(I.a,{onClickOutside:this.closeCalendar},C.a.createElement("div",{className:"calendar_compose"},C.a.createElement("div",{className:"input_group"},C.a.createElement(N.a,{ref:function(t){e.cIntRcln=t},request:!0,placeholder:"YYYY/MM/DD",label:u,icon:C.a.createElement(T.a,{name:"tooldate",onClick:function(){return e.cIntRcln.inputDOM.focus()}}),onFocus:function(){e.inputFocus("start")},onChange:this.inputChange,onKeyDown:function(t){return e.inputKeyDown(t,"start")},onBlur:function(){e.checkDate("start")},onClearValue:function(){e.clearValue("start")},value:r.replace(/\-/g,"/")}),C.a.createElement("span",{className:"cal_icon"},"~"),C.a.createElement(N.a,{ref:function(t){e.cIntRcln2=t},request:!0,placeholder:"YYYY/MM/DD",onChange:this.inputChange,onKeyDown:function(t){return e.inputKeyDown(t,"end")},onFocus:function(){e.inputFocus("end")},onBlur:function(){e.checkDate("end")},onClearValue:function(){e.clearValue("end")},value:c.replace(/\-/g,"/")}),0<this.diffDate()&&p?C.a.createElement("span",{className:"nights"},"，共".concat(this.diffDate(),"晚")):null),null===l?null:C.a.createElement("div",{className:"content"},C.a.createElement("button",{className:"close_btn",onClick:this.closeCalendar}),C.a.createElement(Y.a,o()({doubleMonth:!0,doubleChoose:!0,startTxt:h,endTxt:_,startDate:f,activeStart:M()().format("YYYY-MM"),endDate:g,activeEnd:s,selectedStartDate:n,selectedEndDate:a,onDateClick:this.clickDate},m)))))}}]),t}(S.PureComponent));k()(j,"defaultProps",{onChange:function(){},setEndDate:12,setActiveEnd:120,titleTxt:"出發區間",panelName:""}),t.a=j},381:function(e,t,n){(e.exports=n(327)(!1)).push([e.i,"input::-webkit-input-placeholder {\n  color: #999 !important; }\n\ninput:-ms-input-placeholder {\n  color: #999 !important; }\n\ninput::-ms-input-placeholder {\n  color: #999 !important; }\n\ninput::placeholder {\n  color: #999 !important; }\n\n.d-f {\n  display: flex; }\n\n.act_rajx_pos-t {\n  top: 80px !important; }\n\n.fwb-b .dropdown-place-holder {\n  border: solid 1px #bbb; }\n  .fwb-b .dropdown-place-holder.selected {\n    color: #0077b3 !important; }\n\n.high_speed_rail_pc .dtm_rcfr, .high_speed_rail_m .dtm_rcfr {\n  width: 100%; }\n  .high_speed_rail_pc .dtm_rcfr .tabs, .high_speed_rail_m .dtm_rcfr .tabs {\n    background-color: #f1f1f1; }\n    .high_speed_rail_pc .dtm_rcfr .tabs li, .high_speed_rail_m .dtm_rcfr .tabs li {\n      width: 50% !important; }\n\n.confirmBtn_span_d-no .confirm_btn span {\n  display: none !important; }\n\n.high_speed_rail_pc .dtm_rcfr .sec_all, .high_speed_rail_m .dtm_rcfr .sec_all {\n  text-decoration: none !important;\n  cursor: default; }\n\n.high_speed_rail_pc .int_rctg, .high_speed_rail_m .int_rctg {\n  border: solid 1px #bbb; }\n  .high_speed_rail_pc .int_rctg .int_rcln_input, .high_speed_rail_m .int_rctg .int_rcln_input {\n    font-weight: normal;\n    padding-right: 20px; }\n  .high_speed_rail_pc .int_rctg .clearBtn, .high_speed_rail_m .int_rctg .clearBtn {\n    top: 0;\n    bottom: 0;\n    margin: auto; }\n\n.high_speed_rail_pc .calendar_compose .input_group, .high_speed_rail_m .calendar_compose .input_group {\n  border: none; }\n\n.high_speed_rail_pc .calendar_compose .clearBtn, .high_speed_rail_m .calendar_compose .clearBtn {\n  margin-top: 5px; }\n\n.high_speed_rail_pc .calendar_compose .request, .high_speed_rail_m .calendar_compose .request {\n  border: solid 1px #bbb;\n  border-left: none; }\n  .high_speed_rail_pc .calendar_compose .request .int_rcln_input, .high_speed_rail_m .calendar_compose .request .int_rcln_input {\n    font-weight: normal; }\n\n.high_speed_rail_pc .calendar_compose .icon, .high_speed_rail_m .calendar_compose .icon {\n  border: solid 1px #bbb;\n  border-right: none; }\n\n.high_speed_rail_pc .calendar_compose .cal_icon, .high_speed_rail_m .calendar_compose .cal_icon {\n  border-top: solid 1px #bbb;\n  border-bottom: solid 1px #bbb; }\n\n.high_speed_rail_pc .cr_rcln .indicator, .high_speed_rail_m .cr_rcln .indicator {\n  border: solid 1px #bbb; }\n\n.high_speed_rail_pc .int-tags-single {\n  overflow: unset; }\n\n.high_speed_rail_pc .st_rcln {\n  cursor: pointer; }\n  .high_speed_rail_pc .st_rcln .ic_rcln {\n    display: block;\n    color: #999;\n    margin: 10px 5px 0;\n    font-size: 20px;\n    padding: unset;\n    line-height: unset; }\n  .high_speed_rail_pc .st_rcln .dropdown-place-holder {\n    padding-left: 30px; }\n    .high_speed_rail_pc .st_rcln .dropdown-place-holder span {\n      color: #222; }\n\n.high_speed_rail_pc .SingleInputMenu .icon {\n  width: unset; }\n\n.high_speed_rail_pc .SingleInputMenu .int-col {\n  padding: unset; }\n  .high_speed_rail_pc .SingleInputMenu .int-col .int-label {\n    color: #222; }\n\n.high_speed_rail_pc .SingleInputMenu * {\n  cursor: pointer; }\n\n.high_speed_rail_pc .SingleInputMenu .int_rcln_input {\n  font-weight: normal;\n  background-color: transparent; }\n\n.high_speed_rail_pc .SingleInputMenu .clearBtn {\n  right: 4px;\n  bottom: -2px; }\n\n.high_speed_rail_pc .calendar_compose .ic_rcln {\n  font-size: 18px;\n  color: #999; }\n\n.high_speed_rail_pc .calendar_compose .int_rcln_label {\n  color: #222;\n  font-size: 14px;\n  left: 30px !important; }\n\n.high_speed_rail_pc .calendar_compose .int_rcln_input {\n  padding-left: 30px !important; }\n\n.high_speed_rail_pc .calendar_compose .int_rcln.breakline {\n  cursor: pointer; }\n\n.high_speed_rail_pc .pc_keyWord {\n  position: relative; }\n  .high_speed_rail_pc .pc_keyWord .int-label {\n    color: #222; }\n  .high_speed_rail_pc .pc_keyWord * {\n    cursor: pointer; }\n  .high_speed_rail_pc .pc_keyWord .int_rcln > .int_rcln_input {\n    border: none;\n    font-weight: bold; }\n  .high_speed_rail_pc .pc_keyWord .int_rcln .int_rcln_input:not(input):empty::before {\n    color: #999; }\n  .high_speed_rail_pc .pc_keyWord .int_rcln {\n    top: 0;\n    height: unset; }\n    .high_speed_rail_pc .pc_keyWord .int_rcln.blue input {\n      outline: none;\n      color: #0077b3;\n      font-weight: normal; }\n    .high_speed_rail_pc .pc_keyWord .int_rcln .int_rcln_input {\n      padding: 8px 5px 0; }\n    .high_speed_rail_pc .pc_keyWord .int_rcln input {\n      width: 100%;\n      border: 0px solid #ddd; }\n  .high_speed_rail_pc .pc_keyWord .clearBtn {\n    right: 0;\n    top: 0;\n    bottom: 0;\n    margin: auto; }\n  .high_speed_rail_pc .pc_keyWord .act_rajx {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    max-height: 500px;\n    padding: 0;\n    box-shadow: none;\n    z-index: 10;\n    background-color: #fff;\n    border: 1px solid #ddd;\n    z-index: 11; }\n    .high_speed_rail_pc .pc_keyWord .act_rajx .section {\n      max-height: 422px;\n      overflow-y: scroll; }\n      .high_speed_rail_pc .pc_keyWord .act_rajx .section::-webkit-scrollbar {\n        width: 10px; }\n      .high_speed_rail_pc .pc_keyWord .act_rajx .section::-webkit-scrollbar-track {\n        background-color: #fff; }\n      .high_speed_rail_pc .pc_keyWord .act_rajx .section::-webkit-scrollbar-thumb {\n        background: #d8d8d8;\n        border: 2px solid #fff; }\n      .high_speed_rail_pc .pc_keyWord .act_rajx .section .title {\n        padding-bottom: 0;\n        border-top: none;\n        font-size: 16px;\n        font-weight: bold;\n        color: #222; }\n        .high_speed_rail_pc .pc_keyWord .act_rajx .section .title i {\n          display: none; }\n    .high_speed_rail_pc .pc_keyWord .act_rajx .foot {\n      margin: 0; }\n    .high_speed_rail_pc .pc_keyWord .act_rajx .item {\n      line-height: 30px;\n      margin: 0 0 0 10px;\n      padding: 4px 10px;\n      font-size: 14px;\n      border-bottom: 1px solid #E3E3E3; }\n    .high_speed_rail_pc .pc_keyWord .act_rajx .m-place, .high_speed_rail_pc .pc_keyWord .act_rajx .noMatchText {\n      font-size: 14px;\n      line-height: 1;\n      padding: 10px;\n      color: #24a07d; }\n    .high_speed_rail_pc .pc_keyWord .act_rajx .close {\n      display: none; }\n\n.high_speed_rail_pc .act_wrap {\n  position: relative; }\n  .high_speed_rail_pc .act_wrap .closeBtn {\n    display: block;\n    width: 30px;\n    height: 30px;\n    position: absolute;\n    top: 2px;\n    right: 2px;\n    z-index: 15;\n    color: transparent;\n    cursor: pointer; }\n    .high_speed_rail_pc .act_wrap .closeBtn:before, .high_speed_rail_pc .act_wrap .closeBtn:after {\n      content: '';\n      display: block;\n      width: 20px;\n      height: 3px;\n      background-color: #444444;\n      position: absolute;\n      top: 14px;\n      left: 5px; }\n    .high_speed_rail_pc .act_wrap .closeBtn:before {\n      -webkit-transform: rotate(45deg);\n              transform: rotate(45deg); }\n    .high_speed_rail_pc .act_wrap .closeBtn:after {\n      -webkit-transform: rotate(-45deg);\n              transform: rotate(-45deg); }\n\n.high_speed_rail_pc .btn-wrap {\n  position: absolute;\n  right: 10px;\n  bottom: 10px; }\n\n.nvbRslb_destination {\n  position: fixed;\n  height: 100%;\n  margin: 0 !important; }\n  .nvbRslb_destination .SingleInputMenu .int-label {\n    display: none; }\n  .nvbRslb_destination .SingleInputMenu .int_rctg {\n    cursor: pointer; }\n  .nvbRslb_destination .SingleInputMenu .int-tags-single .clearBtn {\n    top: 0;\n    bottom: 0;\n    margin: auto; }\n  .nvbRslb_destination .bt_rcnb {\n    margin-right: 16px;\n    min-width: 50px; }\n  .nvbRslb_destination .int_rctg {\n    border: solid 2px #ff8b88;\n    height: 40px; }\n    .nvbRslb_destination .int_rctg .int-col {\n      padding: 4px 4px 4px 10px; }\n  .nvbRslb_destination .nvb_rslb_title .nvb_rslb_goBack {\n    top: 0; }\n  .nvbRslb_destination .dtm_rcfr-wrap {\n    padding: 0px;\n    border: none;\n    top: 40px; }\n    .nvbRslb_destination .dtm_rcfr-wrap .dtm_rcfr-label {\n      margin: 11px 0px 11px 10px; }\n    .nvbRslb_destination .dtm_rcfr-wrap .dtm_rcfr {\n      width: 100vw; }\n      .nvbRslb_destination .dtm_rcfr-wrap .dtm_rcfr .tabs {\n        display: none; }\n      .nvbRslb_destination .dtm_rcfr-wrap .dtm_rcfr .panel {\n        padding-top: 0;\n        border-top: 3px solid #e3e3e3; }\n  .nvbRslb_destination .act_racp {\n    position: fixed;\n    top: 90px;\n    border: none;\n    padding: 0 23px;\n    border: none;\n    outline: none;\n    box-shadow: none;\n    min-width: 99%; }\n    .nvbRslb_destination .act_racp .close {\n      display: none; }\n\n.high_speed_rail_m .st_rcln .ic_rcln {\n  display: block;\n  color: #999;\n  padding: 0 8px;\n  font-size: 18px; }\n\n.high_speed_rail_m .st_rcln .dropdown-place-holder {\n  padding-left: 30px; }\n  .high_speed_rail_m .st_rcln .dropdown-place-holder .dropdown-label {\n    color: #222; }\n\n.high_speed_rail_m .int_rctg {\n  margin-bottom: 10px; }\n\n.high_speed_rail_m.SingleInputMenu {\n  width: 100%;\n  height: 100%;\n  padding-top: 125px; }\n  .high_speed_rail_m.SingleInputMenu > .int_rctg {\n    height: 100%;\n    border: none; }\n  .high_speed_rail_m.SingleInputMenu .int-col {\n    padding: 0; }\n  .high_speed_rail_m.SingleInputMenu .int-tags-single .clearBtn {\n    right: 0;\n    bottom: 0; }\n  .high_speed_rail_m.SingleInputMenu .dtm_rcfr-titleWrap {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 125px;\n    padding: 0 15px;\n    background-color: #fff; }\n  .high_speed_rail_m.SingleInputMenu .dtm_rcfr-title {\n    font-size: 20px;\n    color: #222;\n    font-weight: bold;\n    padding: 10px 0; }\n  .high_speed_rail_m.SingleInputMenu .dtm_rcfr-row {\n    display: flex; }\n  .high_speed_rail_m.SingleInputMenu .int_rcln > .int_rcln_input {\n    border: 2px solid #ff8b88; }\n  .high_speed_rail_m.SingleInputMenu .bt_rcnb {\n    width: 50px;\n    margin: 0; }\n  .high_speed_rail_m.SingleInputMenu .dtm_rcfr-label {\n    color: #24a07d;\n    margin-top: 5px !important; }\n  .high_speed_rail_m.SingleInputMenu .dtm_rcfr-content {\n    position: relative;\n    height: 100%;\n    overflow-y: scroll; }\n  .high_speed_rail_m.SingleInputMenu .act_racp {\n    left: 0;\n    right: 0;\n    bottom: 0; }\n  .high_speed_rail_m.SingleInputMenu .clearBtnWrap {\n    bottom: 1px; }\n  .high_speed_rail_m.SingleInputMenu .clearBtn {\n    right: 10px !important; }\n\n.high_speed_rail_m .Destination .ic_rcln {\n  font-size: 18px;\n  margin: 0px 8px;\n  color: #999;\n  left: unset; }\n\n.high_speed_rail_m .Destination .int_rcln_label {\n  font-size: 14px;\n  left: 30px !important;\n  color: #222; }\n\n.high_speed_rail_m .Destination .int_rcln_input {\n  border: solid 1px #bbb;\n  position: relative;\n  padding-left: 30px !important;\n  color: #0077b3 !important;\n  background-color: transparent;\n  font-weight: normal; }\n\n.high_speed_rail_m .calendar_compose .ic_rcln {\n  font-size: 18px;\n  color: #999; }\n\n.high_speed_rail_m .calendar_compose .int_rcln > .int_rcln_input {\n  position: relative;\n  padding-left: 30px !important;\n  border: solid 1px #bbb;\n  border-left: none;\n  font-weight: normal; }\n  .high_speed_rail_m .calendar_compose .int_rcln > .int_rcln_input:not(input):empty::before {\n    color: #777; }\n\n.high_speed_rail_m .calendar_compose .icon > .int_rcln_input {\n  position: relative;\n  padding-left: 30px !important;\n  border: none; }\n\n.high_speed_rail_m .calendar_compose .int_rcln_label {\n  font-size: 14px;\n  left: 30px !important;\n  color: #222; }\n\n.high_speed_rail_m .keywordComponent .int_rcln_label {\n  font-size: 14px;\n  color: #222; }\n\n.high_speed_rail_m .keywordComponent .int_rcln_input {\n  border: solid 1px #bbb;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  font-weight: normal;\n  color: #0077b3;\n  background: transparent; }\n\n.high_speed_rail_m .bt_rcnb {\n  width: 100%;\n  margin-top: 30px; }\n\n.m_keyWord {\n  margin: 0 16px;\n  display: flex; }\n  .m_keyWord > div:first-of-type {\n    width: 100%; }\n  .m_keyWord label {\n    display: none; }\n  .m_keyWord input {\n    border: 1px solid #ddd;\n    padding: 12px 10px;\n    font-weight: normal;\n    color: #0077b3; }\n  .m_keyWord .int_rcln input {\n    width: 100%;\n    border: 2px solid #ff8b88; }\n  .m_keyWord .bt_rcnb {\n    margin-left: 10px;\n    min-width: 50px; }\n  .m_keyWord + .act_rajx {\n    position: static;\n    border: none;\n    color: #24a07d;\n    font-size: 14px;\n    background: transparent;\n    box-shadow: none; }\n    .m_keyWord + .act_rajx .m-place, .m_keyWord + .act_rajx .noMatchText {\n      color: #24a07d; }\n      .m_keyWord + .act_rajx .m-place button, .m_keyWord + .act_rajx .noMatchText button {\n        display: none; }\n    .m_keyWord + .act_rajx .m-place .close, .m_keyWord + .act_rajx .noMatchText .close {\n      display: none; }\n\n.m_keywordComponent .nvb_rslb_title {\n  font-size: 20px;\n  color: #222;\n  font-weight: bold;\n  padding: 10px 0; }\n\n.pc_keyWord {\n  height: 100%; }\n  .pc_keyWord .int-label {\n    position: absolute;\n    top: 2px;\n    left: 5px; }\n  .pc_keyWord .int_rcln {\n    position: absolute;\n    top: 8px;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    height: unset; }\n    .pc_keyWord .int_rcln input {\n      width: 100%;\n      padding: 20px 0 0 5px;\n      border: 0px solid #ddd;\n      background-color: transparent; }\n  .pc_keyWord .act_rajx {\n    left: 15px; }\n  .pc_keyWord .clearBtn {\n    left: 0; }\n",""])},451:function(e,t,n){"use strict";var a=n(16),o=n.n(a),r=n(332);t.a=function(e){var t=e.containerClass,n=e.labelClass,a=(e.inputClass,e.keyWord),i=(e.parentStcity,e.clearWord),c=e.isFocus,l=e.placeholderText,s=e.onChange,d=void 0===s?function(){}:s;return window.chrome&&window.chrome.webstore,o.a.createElement("div",{className:t},o.a.createElement("label",{className:n},"目的地"),o.a.createElement(r.a,{placeholder:l,value:a||"",onFocus:function(){return c&&c(!0)},onBlur:function(){return c&&c(!1)},onChange:function(e){e.target instanceof HTMLInputElement&&d(e.target.value),i(e.target.value)},onClearValue:function(){return i("")}}))}},452:function(e,t,n){var a=n(381);"string"==typeof a&&(a=[[e.i,a,""]]);var o=n(328)(a,{hmr:!0,transform:void 0,insertInto:void 0});a.locals&&(e.exports=a.locals),e.hot.accept(381,function(){var t=n(381);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,a=0;for(n in e){if(!t||e[n]!==t[n])return!1;a++}for(n in t)a--;return 0===a}(a.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");o(t)}),e.hot.dispose(function(){o()})},660:function(e,t,n){"use strict";n.r(t);var a=n(340),o=n.n(a),r=n(318),i=n.n(r),c=n(319),l=n.n(c),s=n(320),d=n.n(s),p=n(321),u=n.n(p),h=n(322),_=n.n(h),m=n(323),f=n.n(m),g=n(324),v=n.n(g),b=n(325),y=n.n(b),D=n(16),x=n.n(D),w=n(331),k=(n(346),n(341)),S=n(334),C=n(332),E=n(338),M=n(356),Y=n(348),N=n(351),T=n(326),I=n(117),j=n.n(I),W=n(347),O=n(352),R=[{catalogueName:"城市",catafilter:function(e){return e}}],A=function(e){return e.forEach(function(e){e.txt="".concat(e.text)}),e},H=JSON.parse('{ "vLine": { "_9": "台灣" } }'),F=function(e){function t(e){var n;return i()(this,t),n=d()(this,u()(t).call(this,e)),v()(f()(f()(n)),"getData",function(e){var t=sessionStorage.getItem(e);if(t&&Object(T.f)(t)){var a=JSON.parse(t);n.setState({destinationDtm:y()(a,H)}),n._getDataCallBack(a)}else Object(T.c)(e,function(t){var a=JSON.stringify(t);n.setState({destinationDtm:y()(t,H)}),n._getDataCallBack(t),sessionStorage.setItem(e,a)})}),v()(f()(f()(n)),"_getDataCallBack",function(e){var t=[],a=Object.keys(e.vArea._9);a.map(function(n,o){var r=Object.keys(e.vTcity[a[o]]);r.map(function(n,i){var c=r[i],l=e.vTcity[a[o]][r[i]],s={vArea:a[o],vLineText:e.vArea._9["".concat(a[o])],vLinewebarea:"_",vLinetravel:c,vLinetravelText:l,text:"".concat(l,"-").concat(e.vArea._9["".concat(a[o])]),vTcity:"".concat(c),value:"_9-".concat(a[o],"-").concat(c)};t.push(s)})}),n.setState({destinationAct:t})}),v()(f()(f()(n)),"emitPushData",function(e){var t=n.props.selectedData,a=0<t.length?t[0].text+"-"+t[0].vLinetravelText:"",o=e?e.text+"-"+e.vLinetravelText:"",r=a===o?"":o;e?(n.props.onChange&&n.props.onChange(e),n.setState({keyword:r,showDtm:!0})):(n.setState({keyword:"",showDtm:!0}),n.props.onChange&&n.props.onChange(""))}),v()(f()(f()(n)),"handleCloseMenu",function(){var e=n.props.selectedData,t=n.state.keyword;if(!n.isMouseDown){if(0<e.length){var a=e?e[0].text:"";t.length!==a.length&&n.setState({keyword:a,showDtm:!0,showAct:!1})}n.setState({showDtm:!0,showAct:!1})}}),v()(f()(f()(n)),"handleMouseDown",function(){n.isMouseDown=!0}),v()(f()(f()(n)),"handleMouseUp",function(){n.isMouseDown=!1}),v()(f()(f()(n)),"handleEmitRemoveData",function(e,t){n.emitPushData([]),n.setState({showAct:!1,showDtm:!0})}),v()(f()(f()(n)),"handleLabelWrapClick",function(){n.searchInput.current.inputDOM.focus()}),v()(f()(f()(n)),"handleChange",function(e){e.target.value?n.setState({keyword:e.target.value,showAct:!0,showDtm:!1}):(n.setState({keyword:"",showAct:!1,showDtm:!0}),n.props.onChange&&n.props.onChange(""))}),n.searchInput=x.a.createRef(),n.state={keyword:n.props.selectedData.length?n.props.selectedData[0].text:"",showDtm:!0,destinationDtm:{},showAct:!1,destinationAct:{}},n}return _()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.getData(this.props.fetchPath)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.selectedData.length?e.selectedData[0].text:"";this.setState({keyword:t})}},{key:"render",value:function(){var e=this,t=this.props,n=t.placeholder,a=t.minimumStringQueryLength,o=t.minimumStringQuery,r=t.noMatchText,i=(t.label,t.subLabel),c=(t.fetchPath,t.isRequired,t.size,t.iconName,t.selectedData),l=this.state,s=l.keyword,d=l.showAct,p=l.destinationAct,u=l.showDtm,h=l.destinationDtm,_=c.map(function(e){return e.value});return x.a.createElement("div",{className:"SingleInputMenu high_speed_rail_m"},x.a.createElement("header",{className:"dtm_rcfr-titleWrap"},x.a.createElement("div",{className:"txt-center dtm_rcfr-title"},"目的地"),x.a.createElement("div",{className:"dtm_rcfr-row"},x.a.createElement(C.a,{className:"int_rcln int-tags-single",ref:this.searchInput,placeholder:n,value:s,onChange:function(t){return e.handleChange(t)},onClearValue:function(t){return e.handleEmitRemoveData(t,c)}}),x.a.createElement(E.a,{prop:"string",className:"m-l-sm",md:!0,radius:!0,whenClick:this.props.getSelect},"確定")),x.a.createElement("p",{className:"dtm_rcfr-label"},i)),x.a.createElement("div",{className:"dtm_rcfr-content"},Object.keys(p).length&&!c.length&&x.a.createElement(O.a,{InputIsFocus:d,url:p,minimumStringQueryLength:a,minimumStringQuery:o,searchKeyWord:s,noMatchText:r,ClassName:!d&&"d-no",footer:!1,theme:"future",closeActcallback:function(t){void 0!==t?(e.setState({showAct:!1,keyword:""}),e.emitPushData(t)):e.handleCloseMenu()},changeKey:A,catalogue:R}),x.a.createElement("div",{className:"dtm_rcfr-wrap ".concat(u?"open":null)},Object.keys(h).length&&x.a.createElement(W.a,{levelKey:["vLine","vArea","vTcity"],onClickItem:this.emitPushData,dataResouce:h,selectedData:_,transformFetchData:function(e){if("string"!=typeof e)return e;var t=(e='"vLine":{"_9":"台灣"},'+e).replace(/\r?\n|\r/g,"").replace(/(?:var|let|const)\s(\w+)\s=/g,'"$1":').replace(/;/g,",").replace(/,$/g,"").replace(/'/g,'"');return JSON.parse("{"+t+"}")}}))))}}]),t}(D.Component);v()(F,"defaultProps",{max:3,minimumStringQueryLength:2}),v()(F,"propTypes",{fetchPath:j.a.string.isRequired,selectedData:j.a.array.isRequired,max:j.a.number,placeholder:j.a.string,minimumStringQueryLength:j.a.number.isRequired,minimumStringQuery:j.a.string,noMatchText:j.a.string,label:j.a.string,onChange:j.a.func});var B=F,V=n(451),L=n(339),P=n.n(L),z=(n(349),n(452),{display:"inline-block",marginBottom:"10px",width:"100%",verticalAlign:"top"}),K={marginBottom:"10px"},J=function(e){function t(e){var n;return i()(this,t),n=d()(this,u()(t).call(this,e)),v()(f()(f()(n)),"updateSelectedData",function(){n.setState({selectedData:n.props.selectedData})}),v()(f()(f()(n)),"switch",function(){var e=JSON.parse(JSON.stringify(n.state.dptSelectedData)),t=JSON.parse(JSON.stringify(n.state.dtnSelectedData));n.setState({dptSelectedData:t,dtnSelectedData:e})}),v()(f()(f()(n)),"dptHandleChange",function(e){var t=n.state.dptSelectedData,a=[];t.some(function(t){return e.value===t.value})?a=t.filter(function(t){return e.value!==t.value}):e.value&&a.push(e),n.setState({dptSelectedData:a})}),v()(f()(f()(n)),"dtnHandleChange",function(e){var t=n.state.dtnSelectedData,a=[];t.some(function(t){return e.value===t.value})?a=t.filter(function(t){return e.value!==t.value}):e.value&&a.push(e),n.setState({dtnSelectedData:a})}),v()(f()(f()(n)),"handleChange",function(e){var t=[];e.value&&t.push(e),n.setState({selectedData:t})}),v()(f()(f()(n)),"setValue",function(e){n.setState({obj:e})}),v()(f()(f()(n)),"getSelect",function(){if(0<n.state.selectedData.length){var e=n.state.selectedData[0].vTcity.replace("_",""),t=n.state.selectedData[0].text;n.props.getdatavTcity(e,t,n.state.selectedData)}else n.props.getdatavTcity("","",n.state.selectedData)}),n.state={selectedData:n.props.selectedData?n.props.selectedData:[],dptSelectedData:[],dtnSelectedData:[]},n.fetchPath=w.j.destination,n}return _()(t,e),l()(t,[{key:"componentDidUpdate",value:function(e,t){e.selectedData!==this.props.selectedData&&this.updateSelectedData()}},{key:"closeNvbRslb",value:function(){this.props.closeNvbRslb()}},{key:"render",value:function(){var e=this,t=this.state.selectedData;return x.a.createElement("div",{style:y()({},y()({},K,z)),className:"nvbRslb_destination"},x.a.createElement("span",{className:"nvb_rslb_goBack",onClick:function(){e.closeNvbRslb()}},x.a.createElement(S.a,{name:"toolbefore"})),x.a.createElement(B,{className:"SingleInputMenu",size:"",fetchPath:this.fetchPath,selectedData:t,placeholder:"請選擇/可輸入目的地",getSelect:this.getSelect,minimumStringQueryLength:2,minimumStringQuery:"請輸入至少兩個文字",noMatchText:"很抱歉，找不到符合的項目",subLabel:"找不到選項？請輸入關鍵字查詢",onChange:this.handleChange}))}}]),t}(D.Component),q=function(e){function t(e){var n;return i()(this,t),n=d()(this,u()(t).call(this,e)),v()(f()(f()(n)),"updateSearchKeyWord",function(){n.setState({searchKeyWord:n.props.sHotelName,selectText:n.props.sHotelName}),n._inputOnChangeHandler(n.props.sHotelName)}),v()(f()(f()(n)),"clearShowData",function(){n.setState({showData:[]})}),n.state={data:[],searchKeyWord:n.props.sHotelName?n.props.sHotelName:"",selectText:n.props.sHotelName?n.props.sHotelName:"",isFocus:!1,show:!0,selectedData:[]},n.fetchData=n.fetchData.bind(f()(f()(n))),n.AbortController=null,n}return _()(t,e),l()(t,[{key:"componentDidUpdate",value:function(e,t){e.sHotelName!==this.props.sHotelName&&this.updateSearchKeyWord(),e.parentStcity!==this.props.parentStcity&&this.clearShowData()}},{key:"_inputOnChangeHandler",value:function(e){if(this.props.parentStcity){var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.fetchData(e)},500)}}},{key:"fetchData",value:function(e){var t=this;if(!(e.length<2)){this.AbortController&&this.AbortController.abort(),this.AbortController=new AbortController;var n=this.AbortController.signal,a=w.j.keyword;this.props.parentStcity&&fetch("".concat(a,"?citycode=").concat(this.props.parentStcity),{method:"GET",mode:"no-cors",signal:n,headers:new Headers({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"})}).then(function(e){return e.json()}).then(function(n){return t.processData(n,e)}).catch(function(e){})}}},{key:"filterData",value:function(e,t){var n=[];if(e.length){var a=t.toUpperCase();n=e.filter(function(e){return-1!==e.txt.indexOf(a)})}return n}},{key:"clearWord",value:function(e){this.setState({searchKeyWord:e,selectText:e})}},{key:"isFocus",value:function(e){this.setState({isFocus:e,show:!0})}},{key:"processData",value:function(e,t){var n=this,a=new Promise(function(t,n){e.Data.forEach(function(e){e.level2="飯店",e.level3=e.HotelCode,e.txt=e.HotelName}),t(e)});return a.then(function(e){var a=n.filterData(e.Data,t);n.setState({data:e.Data,showData:a,searchKeyWord:t})}),a}},{key:"closeNvbRslb",value:function(){this.props.closeNvbRslb()}},{key:"getSelect",value:function(){this.props.getdataKeyword(this.state.selectText)}},{key:"render",value:function(){var e=this;return x.a.createElement("div",null,x.a.createElement("div",{className:"nvb_rslb_title"},x.a.createElement("span",{className:"nvb_rslb_goBack",onClick:function(){e.closeNvbRslb()}},x.a.createElement(S.a,{name:"toolbefore"})),x.a.createElement("div",{className:"txt-center"},"關鍵字")),x.a.createElement("div",{className:"m_keyWord"},x.a.createElement(V.a,{placeholderText:"請輸入飯店名稱",keyWord:this.state.selectText,clearWord:function(t){return e.clearWord(t)},onChange:function(t){return e._inputOnChangeHandler(t)},isFocus:function(t){return e.isFocus(t)}}),x.a.createElement(E.a,{prop:"string",md:!0,radius:!0,whenClick:function(){e.getSelect()}},"確定")),x.a.createElement(N.a,{containerClass:!this.state.show&&"d-no",data:this.state.showData,matchWord:this.state.searchKeyWord,closeBtnOnClick:function(){return e.setState({show:!1})},getItemClickValue:function(t){return e.setState({selectText:t.txt})},isFocus:this.state.isFocus,showText:this.state.showText,noMatchText:this.props.parentStcity?"很抱歉，找不到符合的項目":"請先選擇目的地",minimumStringQuery:this.props.parentStcity?"請至少輸入兩個字":"請先選擇目的地",minimumStringQueryLength:2,footer:!0,rules:[{title:"飯店"}]}))}}]),t}(D.Component),U=function(e){function t(){var e,n;i()(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return n=d()(this,(e=u()(t)).call.apply(e,[this].concat(o))),v()(f()(f()(n)),"state",{visible:!1,sTcity:"",allData:n.props.selectedData?n.props.selectedData:[]}),v()(f()(f()(n)),"updateSelectedData",function(){n.setState({allData:n.props.selectedData})}),v()(f()(f()(n)),"openPage",function(e,t,a){a.blur(),n.setState({visible:!0})}),v()(f()(f()(n)),"getdatavTcity",function(e,t,a){n.setState({sTcity:e,visible:!1,allData:a}),n.props.getdatavTcity(e,t,a)}),n}return _()(t,e),l()(t,[{key:"componentDidUpdate",value:function(e,t){e.selectedData!==this.props.selectedData&&this.updateSelectedData()}},{key:"render",value:function(){var e=this;return x.a.createElement("div",{className:"Destination m-b-sm"},x.a.createElement(C.a,{request:!0,label:"目的地",placeholder:"請輸入/選擇目的地",breakline:!0,icon:x.a.createElement(S.a,{name:"toolmap"}),value:0<this.state.allData.length?this.state.allData[0].text:"",onClick:this.openPage}),x.a.createElement(Y.a,{visible:this.state.visible,ContentComponent:this.state.visible&&x.a.createElement(J,{getdatavTcity:function(t,n,a){return e.getdatavTcity(t,n,a)},closeNvbRslb:function(t){e.setState({visible:!1})},selectedData:this.state.allData}),direction:"right",width:"100%"}))}}]),t}(D.Component),Q=function(e){function t(){var e,n;i()(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return n=d()(this,(e=u()(t)).call.apply(e,[this].concat(o))),v()(f()(f()(n)),"state",{visible:!1,sHotelName:n.props.sHotelName?n.props.sHotelName:""}),v()(f()(f()(n)),"updateSHotelName",function(){n.setState({sHotelName:n.props.sHotelName})}),v()(f()(f()(n)),"openPage",function(){n.setState({visible:!0})}),n}return _()(t,e),l()(t,[{key:"componentDidUpdate",value:function(e,t){e.sHotelName!==this.props.sHotelName&&this.updateSHotelName()}},{key:"getdataKeyword",value:function(e){this.setState({visible:!1,sHotelName:e}),this.props.getdataKeyword(e)}},{key:"render",value:function(){var e=this;return x.a.createElement("div",{className:"keywordComponent m-b-sm"},x.a.createElement(C.a,{label:"關鍵字",placeholder:"請輸入飯店名稱",breakline:!0,value:this.state.sHotelName,onClick:this.openPage,onClearValue:function(t){e.setState({value:""})}}),x.a.createElement(Y.a,{visible:this.state.visible,className:"m_keywordComponent",ContentComponent:x.a.createElement(q,{closeNvbRslb:function(t){e.setState({visible:!1})},getdataKeyword:function(t){e.getdataKeyword(t)},getSelect:function(t){e.getSelect(t)},parentStcity:this.props.parentStcity,sHotelName:this.state.sHotelName}),direction:"right",width:"100%"}))}}]),t}(D.Component),$=function(e){function t(e){var n;return i()(this,t),n=d()(this,u()(t).call(this,e)),v()(f()(f()(n)),"validataLocalstorageData",function(e){var t=e.PostTime+6048e5,a=e.sFcity,o=e.sTcity,r=e.sDatef,i=e.sDatet,c=e.Tools,l=e.selectText,s=e.selectedData,d=e.sHotelName;if(t<(new Date).getTime())Object(T.i)({panel:"highSpeedRail",methods:"delete"});else{var p=P()(r).isBefore(P()())?P()().format("YYYY-MM-DD"):r,u=P()(i).isBefore(P()())?P()().add(30,"days").format("YYYY-MM-DD"):i;n.setState({sFcity:a,sTcity:o,sDatef:p,sDatet:u,Tools:c,selectedData:s,sHotelName:l||d})}}),v()(f()(f()(n)),"handleClose",function(){n.setState({activeInput:null})}),v()(f()(f()(n)),"handleConfirm",function(){var e=n.calendar.state,t=e.selectedStartDate,a=e.selectedEndDate;n.setState(function(e){return{selectedStartDate:t,selectedEndDate:a,activeInput:null}})}),v()(f()(f()(n)),"selectSFcity",function(e){e&&n.setState({sFcity:e})}),n.state={data:[],searchKeyWord:"",selectedStartDate:P()().add(5,"days").format("YYYY-MM-DD"),selectedEndDate:P()().add(30,"days").format("YYYY-MM-DD"),activeInput:null,sFcountry:"TW",sFcity:"",sTcountry:"TW",sTcity:"",selectedData:[],sFreekind:"",sFreekind1:"",sDatef:P()().add(5,"days").format("YYYY-MM-DD"),sDatet:P()().add(30,"days").format("YYYY-MM-DD"),sHotelName:"",Tools:[1]},n.option=[{text:"不限",value:"_"},{text:"台北",value:"_TPE"},{text:"板橋",value:"_PAN"},{text:"桃園",value:"_TAO"},{text:"新竹",value:"_HCU"},{text:"苗栗",value:"_MLI"},{text:"台中",value:"_TCH"},{text:"彰化",value:"_CHA"},{text:"南投",value:"_NTO"},{text:"雲林",value:"_YLI"},{text:"嘉義",value:"_CYI"},{text:"台南",value:"_TNN"},{text:"高雄",value:"_KHH"},{text:"屏東",value:"_PIN"},{text:"花蓮",value:"_HLN"},{text:"台東",value:"_TTT"}],n.calendar=null,n}return _()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this;Object(T.i)({panel:"highSpeedRail",methods:"get"},function(t){e.validataLocalstorageData(t)})}},{key:"showCalendar",value:function(e){this.setState(function(t){return o()({},t,{activeInput:e})})}},{key:"getdataKeyword",value:function(e){this.setState({sHotelName:e})}},{key:"getdatavTcity",value:function(e,t,n){this.setState({sTcity:e,selectedData:n})}},{key:"handleAllSubmit",value:function(){var e=this.state,t=e.sFcity,n=e.sTcity,a=e.selectedStartDate,o=e.selectedEndDate,r=e.Tools,i=e.selectedData,c=e.sHotelName;Object(T.i)({panel:"highSpeedRail",methods:"post",data:{sFcity:t,sTcity:n,selectedStartDate:a,selectedEndDate:o,Tools:r,selectedData:i,sHotelName:c}}),window.open("https://www.liontravel.com/webft/webftse01.aspx?sFcountry=TW&sTcountry=TW&sFreekind1=&sFcity=".concat(t,"&sTcity=").concat(n,"&sDatef=").concat(a.replace(/-/g,""),"&sDatet=").concat(o.replace(/-/g,""),"&sTools=").concat(r,"&sHotelName=").concat(c),this.props.hrefTarget)}},{key:"render",value:function(){var e=this,t=this.state,n=t.selectedStartDate,a=t.selectedEndDate,o=t.activeInput,r=0===o||1===o;return x.a.createElement("div",{className:"high_speed_rail_m"},x.a.createElement(k.a,{ClassName:"fwb-b m-b-sm",option:this.option,placeholder:"目的地",label:"出發地",icon:x.a.createElement(S.a,{name:"toolmap"}),defaultValue:this.state.sFcity?this.state.sFcity:"_",breakline:!0,req:!0,onChangeCallBack:function(t){return e.setState({sFcity:t})}}),x.a.createElement(U,{getdatavTcity:function(t,n,a){e.getdatavTcity(t,n,a)},selectedData:this.state.selectedData}),x.a.createElement("div",{className:"calendar_compose"},x.a.createElement("div",{className:"input_group"},x.a.createElement(C.a,{request:!0,readOnly:!0,placeholder:"YYYY/MM/DD",label:"出發區間",icon:x.a.createElement(S.a,{name:"tooldate"}),onClick:function(){e.showCalendar(0)},value:P()(n).format("YYYY/MM/DD")}),x.a.createElement("span",{className:"cal_icon"},"~"),x.a.createElement(C.a,{readOnly:!0,placeholder:"YYYY/MM/DD",onClick:function(){e.showCalendar(1)},value:P()(a).format("YYYY/MM/DD")})),x.a.createElement(Y.a,{visible:r,direction:"right",className:"confirmBtn_span_d-no"},x.a.createElement("span",{className:"nvb_rslb_goBack",onClick:this.handleClose},x.a.createElement(S.a,{name:"toolbefore"})),r&&x.a.createElement(M.a,{ClassName:"mm",doubleChoose:!0,selectedStartDate:n,selectedEndDate:a,endMonth:P()().add(12,"months").format("YYYY-MM"),startDate:P()().format("YYYY-MM-DD"),activeInput:o,startLabelTitle:"最早出發日",endLabelTitle:"最晚出發日",startTxt:"最早",endTxt:"最晚",ref:function(t){e.calendar=t},onClickConfirm:this.handleConfirm,customDiffTxt:function(e){return"共"+(e+1)+"天"}}))),x.a.createElement(Q,{getdataKeyword:function(t){e.getdataKeyword(t)},parentStcity:this.state.sTcity,sHotelName:this.state.sHotelName}),x.a.createElement("div",{className:"txt-right"},x.a.createElement(E.a,{prop:"string",lg:!0,radius:!0,whenClick:function(){return e.handleAllSubmit()}},"搜尋")))}}]),t}(D.Component);n.d(t,"default",function(){return $})}}]);