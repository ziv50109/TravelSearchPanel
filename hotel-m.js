(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{301:function(t,e,n){"use strict";n.r(e);var a=n(325),o=n.n(a),i=n(341),r=n.n(i),c=n(318),l=n.n(c),s=n(319),u=n.n(s),h=n(320),d=n.n(h),m=n(321),p=n.n(m),f=n(322),g=n.n(f),v=n(323),_=n.n(v),C=n(324),x=n.n(C),b=n(16),k=n.n(b),M=n(84),y=n.n(M),w=n(326),R=n(333),D=n(476),E=n.n(D),S=n(331),N=n(334),A=n(348),O=n(347),T=n(337),I=n(357),j=n(340),Y=n(477);function P(t){for(var e=t.length,n="共".concat(e,"間，"),a=0,o=0,i=0;i<t.length;i++)a+=t[i].AdultQty,o+=t[i].ChildAges.length;return(n+="".concat(a,"位大人、").concat(o,"位小孩")).replace(/\、$/g,"人")}var J=[{text:"共1間",value:1},{text:"共2間",value:2},{text:"共3間",value:3},{text:"共4間",value:4},{text:"共5間",value:5},{text:"共6間",value:6},{text:"共7間",value:7}],Q=function(t){var e=t.onchange,n=t.defaultValue;return k.a.createElement("label",{className:"children_age_select"},k.a.createElement("select",{onChange:e,defaultValue:n},k.a.createElement("option",{value:"0"},"0歲"),k.a.createElement("option",{value:"1"},"1歲"),k.a.createElement("option",{value:"2"},"2歲"),k.a.createElement("option",{value:"3"},"3歲"),k.a.createElement("option",{value:"4"},"4歲"),k.a.createElement("option",{value:"5"},"5歲"),k.a.createElement("option",{value:"6"},"6歲"),k.a.createElement("option",{value:"7"},"7歲"),k.a.createElement("option",{value:"8"},"8歲"),k.a.createElement("option",{value:"9"},"9歲"),k.a.createElement("option",{value:"10"},"10歲"),k.a.createElement("option",{value:"11"},"11歲"),k.a.createElement("option",{value:"12"},"12歲")))},L=function(t){var e=t.ageArray,n=t.onChange,a=t.roomCount,o=t.target;return k.a.createElement("div",{className:"children_ages_section"},k.a.createElement("span",{className:"row_title"},"小孩年齡"),k.a.createElement("div",{className:"age_select_section"},e.map(function(t,e){return k.a.createElement(Q,{key:e,onchange:function(t){n(a,o,e,t.target.value)},defaultValue:t})})))},V=function(t){var e=t.roomCount,n=t.AdultQty,a=t.ChildAges,o=t.maxAdult,i=t.maxChild,r=t.onClickAdd,c=t.onClickMinus,l=t.onInputChange,s=t.onInputBlur,u=t.onChangeChildAge,h=a.length;return k.a.createElement("section",{className:"room_list_section"},k.a.createElement("h4",{className:"room_count_title"},"第".concat(e+1,"間")),k.a.createElement("div",{className:"room_list_row"},k.a.createElement("span",{className:"row_title"},"成人"),k.a.createElement(I.a,{max:20,min:1,readOnly:!1,count:n,btnClassMinus:"ic_rcln toolcancelb",btnClassAdd:"ic_rcln tooladdb",onClickAdd:function(){n<o&&r(e,"AdultQty")},onClickMinus:function(){c(e,"AdultQty")},onInputChange:function(t){l(t,e,"AdultQty")},onInputBlur:function(t){s(t,e,"AdultQty")}})),k.a.createElement("div",{className:"room_list_row childStCont"},k.a.createElement("div",{className:"st_child"},k.a.createElement("span",{className:"row_title"},"小孩"),k.a.createElement(I.a,{max:3,min:0,readOnly:!1,count:h,btnClassMinus:"ic_rcln toolcancelb",btnClassAdd:"ic_rcln tooladdb",onClickAdd:function(){h<i&&r(e,"ChildAges")},onClickMinus:function(){c(e,"ChildAges")},onInputChange:function(t){l(t,e,"ChildAges")}}))),k.a.createElement("div",{className:"st_childAge"},0<h?k.a.createElement(L,{ageArray:a,onChange:u,roomCount:e,target:"ChildAges"}):null))},B=function(t){function e(){var t,n;l()(this,e);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=d()(this,(t=p()(e)).call.apply(t,[this].concat(o))),x()(_()(_()(n)),"state",{Rooms:[{AdultQty:2,ChildAges:[],ChildQty:0}],maxAdult:20,maxChild:3,minAdult:1,inputText:"共1間，2位大人、0位小孩"}),x()(_()(_()(n)),"updatePanelRooms",function(){var t=n.props.Rooms,e=t.length,a=t.map(function(t){return t.AdultQty||0}).reduce(function(t,e){return t+e}),o=t.map(function(t){return t.ChildQty||0}).reduce(function(t,e){return t+e}),i="共".concat(e,"間，").concat(a,"位大人、").concat(o,"位小孩");n.setState({Rooms:t,inputText:i})}),x()(_()(_()(n)),"changeRoomCount",function(t){var e=n.state.Rooms,a=Number(t),o=JSON.parse(JSON.stringify(e)),i={AdultQty:2,ChildAges:[],ChildQty:0};if(a!==e.length){var c=JSON.parse(JSON.stringify(o));if(o.length<a)for(var l=0;l<a-o.length;l++)c.push(i);else for(var s=0;s<o.length-a;s++)c.pop();var u=P(c);n.setState(function(t){return r()({},t,{inputText:u,Rooms:c})})}}),x()(_()(_()(n)),"onClickAdd",function(t,e){n.setState(function(n){var a=JSON.parse(JSON.stringify(n.Rooms)),o=a[t][e];Object(Y.isArray)(o)?(o.push(12),a[t].ChildQty=o.length):o+=1,a[t][e]=o;var i=P(a);return r()({},n,{Rooms:a,inputText:i})})}),x()(_()(_()(n)),"onClickMinus",function(t,e){var a=n.state.minAdult,o=JSON.parse(JSON.stringify(n.state.Rooms)),i=o[t][e];if("AdultQty"===e){if(i===a)return;o[t][e]=i-1}else{if(0===i.length)return;i.pop(),o[t].ChildQty=i.length}var c=P(o);n.setState(function(t){return r()({},t,{Rooms:o,inputText:c})})}),x()(_()(_()(n)),"handleChange",function(t,e,a){var o=t.target.value,i=JSON.parse(JSON.stringify(n.state.Rooms)),r=Number(o);if(!isNaN(r)){var c=n.state,l=c.maxAdult,s=c.maxChild,u=c.minAdult,h=0;if("AdultQty"===a)l<r?(i[e][a]=l,alert("最大人數為20人")):i[e][a]=r<u?0:r;else{i[e][a]=[];var d=i[e][a];h=s<r?s:r;for(var m=0;m<h;m++)d.push(12);i[e][a]=d,i[e].ChildQty=d.length}var p=P(i);n.setState(function(t){return{Rooms:i,inputText:p}})}}),x()(_()(_()(n)),"handleBlur",function(t,e,a){var o=n.state.minAdult,i=JSON.parse(JSON.stringify(n.state.Rooms));if(t.target.value/1==0){i[e][a]=o;var r=P(i);n.setState({Rooms:i,inputText:r})}}),x()(_()(_()(n)),"onChangeChildAge",function(t,e,a,o){var i=JSON.parse(JSON.stringify(n.state.Rooms));i[t][e][a]=o,n.setState(function(t){return r()({},t,{Rooms:i})})}),n}return g()(e,t),u()(e,[{key:"componentDidMount",value:function(){this.props.changeSum(this.state)}},{key:"componentDidUpdate",value:function(t,e){t.Rooms!==this.props.Rooms&&this.updatePanelRooms(),e!==this.state&&this.props.changeSum(this.state)}},{key:"render",value:function(){var t=this,e=this.state,n=e.Rooms,a=e.maxAdult,o=e.maxChild;return k.a.createElement("div",{className:"nvb_content"},k.a.createElement("div",{className:"page_content"},k.a.createElement(j.a,{option:J,placeholder:"請選擇",label:"間數:",defaultValue:n.length,onChangeCallBack:this.changeRoomCount,ClassName:"m-b-sm"}),n.map(function(e,n){return k.a.createElement(V,{key:n,roomCount:n,AdultQty:e.AdultQty,ChildAges:e.ChildAges,maxAdult:a,maxChild:o,onClickAdd:t.onClickAdd,onClickMinus:t.onClickMinus,onInputChange:t.handleChange,onInputBlur:t.handleBlur,onChangeChildAge:t.onChangeChildAge})})))}}]),e}(b.PureComponent),K=n(355),F=n(431),z=n(329),U=n(350),W=n(361),q=n(345),H=n(339),Z=n.n(H),$=function(t){var e=t.onClick;return k.a.createElement("span",{className:"nvb_rslb_goBack",onClick:e},k.a.createElement(N.a,{name:"toolbefore"}))},G=function(t){function e(t){var n;return l()(this,e),n=d()(this,p()(e).call(this,t)),x()(_()(_()(n)),"closeNvbPage",function(){n.setState({activeInput:null})}),x()(_()(_()(n)),"transformActFetchData",function(t){for(var e=t.Destinations,n=[],a=0;a<e.length;a++){var o={txt:e[a].Name,level2:e[a].KindName,level3:e[a].Code,Kind:e[a].Kind};n.push(o)}return n}),x()(_()(_()(n)),"transformDtmData",function(t){var e=10,a=t.vCountry.split("_")[1],o=t.vCity.split("_");switch(a){case"PCT":e=10;break;case"PCTZ":e=18;break;case"PCTP":e=80}"PCT"===a&&"TW"===o[0]&&3===o.length&&(e=85),"PCTZ"===a&&"string"==typeof o[0]&&"TW"===o[0]&&(e=84),n.setState(function(t){return{Kind:e}})}),x()(_()(_()(n)),"onClickDestnDtmItem",function(t){n.transformDtmData(t);var e=t.vCity;n.setState(function(n){return{selectedData:[t],inputText:t.text,Txt:t.text,hasValue:!1,Code:e}})}),x()(_()(_()(n)),"openDestnMenu",function(){var t=n.state,e=t.hasValue,a=t.actShowData;n.state.inputText?(e?n.setState({showAct:!0,showDtm:!1}):n.setState({showAct:!1,showDtm:!0}),0<a.length&&n.setState({showAct:!0,showDtm:!1})):n.setState({showAct:!1,showDtm:!0})}),x()(_()(_()(n)),"closeDestnMenu",function(){var t=n.state,e=t.actShowData,a=t.inputText,o=t.showAct;if(0<e.length){if(0===e.filter(function(t){return t.txt===a}).length){var i=e[0];n.setState({inputText:i.txt,Kind:i.Kind,Code:i.level3,Txt:i.txt})}}else o&&n.setState({inputText:"",showAct:!1,showDtm:!0,hasValue:!1});n.setState({hasValue:!1,activeInput:null})}),x()(_()(_()(n)),"handleDestnKeyDown",function(t){8===t.keyCode&&n.setState(function(t){return{hasValue:!0}})}),x()(_()(_()(n)),"onClickDestnAct",function(t,e){var a=t.txt;"choosed"===e?n.setState(function(e){return{Txt:a,inputText:a,dtmSelected:[],selectedData:[t],hasValue:!1}}):n.setState(function(t){return{Txt:a}})}),x()(_()(_()(n)),"clearDestnValue",function(){n.setState({selectedData:[],inputText:"",showAct:!1,showDtm:!0,actShowData:[],Code:"",Kind:"",Txt:""})}),x()(_()(_()(n)),"onDestnInputChange",function(t){var e=t.target.value,a=t.target.value,o=n.state.rajxHead,i=0<e.length;n.setState(function(t){return{inputText:e,Txt:a,selectedData:[],dtmSelected:[],showAct:i,showDtm:!i}}),clearTimeout(n.timer),n.timer=setTimeout(function(){var t=o+"?keyWord="+encodeURI(e);n.fetchDestnActData(t,e)},500)}),x()(_()(_()(n)),"fetchDestnActData",function(t){fetch(t).then(function(t){return t.json()}).then(function(t){var e=n.transformActFetchData(t);n.setState(function(t){return{actShowData:e}})})}),x()(_()(_()(n)),"handleConfirmRoom",function(){n.setState({activeInput:null})}),x()(_()(_()(n)),"handleConfirmBookingDate",function(){var t=n.calendar.state,e=t.selectedStartDate,a=t.selectedEndDate;n.diffDate(e,a),n.setState(function(t){return r()({},t,{CheckIn:e,CheckOut:a,activeInput:null})})}),x()(_()(_()(n)),"roomPeopleSum",function(t){var e=t.inputText,a=t.Rooms;n.setState({roomListInput:e,Rooms:a})}),x()(_()(_()(n)),"handleAllotment",function(t){var e=JSON.parse(JSON.stringify(n.state.Filter));e.Allotment=t?"1":"0",n.setState({Filter:e})}),x()(_()(_()(n)),"handlePost",function(){var t=n.state,e=t.CheckIn,a=t.CheckOut,o=t.Rooms,i=(new Date).setHours(0,0,0,0);Object(z.a)({panel:"hotel",methods:"post",data:{CheckIn:e,CheckOut:a,Rooms:o,PostTime:i}})}),x()(_()(_()(n)),"validataLocalstorageData",function(t){if(t)return n.setState({CheckIn:t.CheckIn,CheckOut:t.CheckOut}),n.diffDate(t.CheckIn,t.CheckOut),t.PostTime+6048e5<new Date(Z()().format("YYYY-MM-DD")).getTime()?(Object(z.a)({panel:"hotel",methods:"delete"}),{CheckIn:"",CheckOut:""}):{CheckIn:new Date(t.CheckIn).getTime()>new Date(Z()().format("YYYY-MM-DD")).getTime()?t.CheckIn:Z()().add(1,"day").format("YYYY-MM-DD"),CheckOut:new Date(t.CheckOut).getTime()>new Date(Z()().format("YYYY-MM-DD")).getTime()?t.CheckOut:Z()().add(2,"day").format("YYYY-MM-DD"),Rooms:t.Rooms}}),n.state={Destination:{},Code:"",Kind:"",Txt:"",Rooms:[],CheckIn:"",CheckOut:"",endMonth:Z()().add(12,"months").format("YYYY-MM"),Filter:{Allotment:"0"},activeInput:null,selectedData:[],roomListInput:"",totleNights:0,inputText:"",showDtm:!0,showAct:!1,hasValue:!1,actAllData:null,actShowData:[],rajxDataUrl:"",rajxHead:R.e.destinationAutoComplete,dtmDataSrc:R.e.destination,dtmData:{},actRules:[{title:"城市",icon:k.a.createElement(N.a,{name:"toolmapf",key:1})},{title:"區域",icon:k.a.createElement(N.a,{name:"traffictrafficcruiseshipf",key:2})},{title:"行政區",icon:k.a.createElement(N.a,{name:"hotelbusinesscen",key:3})},{title:"商圈",icon:k.a.createElement(N.a,{name:"productpricef",key:4})},{title:"地標",icon:k.a.createElement(N.a,{name:"hotelwify",key:5})},{title:"飯店",icon:k.a.createElement(N.a,{name:"hotelforeignBookingf",key:6})}]},n}return g()(e,t),u()(e,[{key:"componentDidMount",value:function(){var t=this,e=this.state.dtmDataSrc,n=sessionStorage.getItem(e);if(n&&Object(w.g)(n)){var a=JSON.parse(n);this.setState({dtmData:a})}else fetch(e).then(function(t){return t.json()}).then(function(n){var a=JSON.stringify(n);t.setState({dtmData:n}),sessionStorage.setItem(e,a)});Object(z.a)({panel:"hotel",methods:"get"},function(e){var n=t.validataLocalstorageData(e);t.setState(r()({},n))})}},{key:"showNvbPage",value:function(t){this.setState(function(e){return r()({},e,{activeInput:t})})}},{key:"showCalendar",value:function(t){this.setState(function(e){return r()({},e,{activeInput:t})})}},{key:"diffDate",value:function(t,e){if(!t.length||!e.length)return"";var n=new Date(t).getTime(),a=(new Date(e).getTime()-n)/864e5;this.setState({totleNights:a})}},{key:"render",value:function(){var t=this,e=this.state,n=e.CheckIn,a=e.CheckOut,i=e.endMonth,r=e.Rooms,c=e.activeInput,l=e.roomListInput,s=e.totleNights,u=e.selectedData,h=e.inputText,d=e.showAct,m=e.showDtm,p=e.dtmData,f=e.actRules,g=e.actShowData,v=y.a.bind(E.a)("hotelsRectM"),_=0===c||1===c,C="destinationlist"===c,x="roomlist"===c,b=u.map(function(t){return t.value}),M=y()("wrap_container",{"d-no":!m}),w=y()("act_wrap_container",{"d-no":!d});return k.a.createElement("div",{className:v},k.a.createElement("div",{className:"".concat(v,"_hotelCont")},k.a.createElement("div",{className:"destination"},k.a.createElement(S.a,{placeholder:"目的地、地標、區域、飯店名稱",label:"目的地",readOnly:!0,request:!0,breakline:!0,icon:k.a.createElement(N.a,{name:"toolmap"}),value:h,onClick:function(){t.showNvbPage("destinationlist")}})),k.a.createElement("div",{className:"booking"},k.a.createElement(U.a,{isRequired:!0,label:"住房期間",iconName:"tooldate",onClick:function(){return t.showCalendar(0)},subComponent:k.a.createElement("div",{className:"input_group"},k.a.createElement(S.a,{readOnly:!0,placeholder:"YYYY/MM/DD",value:n.replace(/\-/g,"/")}),k.a.createElement("span",{className:"cal_icon"},"~"),k.a.createElement(S.a,{readOnly:!0,placeholder:"YYYY/MM/DD",value:a.replace(/\-/g,"/")}),0<s?k.a.createElement("span",{className:"nights"},"，共".concat(s,"晚")):null)})),k.a.createElement("div",{className:"roomSetting"},k.a.createElement(S.a,{placeholder:"共1間，2位大人、0位小孩",value:l,label:"間數/人數",breakline:!0,readOnly:!0,request:!0,icon:k.a.createElement(N.a,{name:"toolmember"}),className:"m-b-sm",onClick:function(){t.showNvbPage("roomlist")}})),k.a.createElement("div",{className:"chkbox-group"},k.a.createElement(O.a,{type:"checkbox",whenChange:this.handleAllotment,textContent:"顯示可立即確認訂房"})),k.a.createElement("div",{className:"searchBtn"},k.a.createElement("a",{className:"bookingToday",href:"http://globalhotel.liontravel.com/?_ga=2.18510781.561999660.1540257880-885419176.1540257880",target:"_blank"},k.a.createElement(N.a,{name:"toolchoosen"}),"我要訂購今日住宿"),k.a.createElement(T.a,{className:"search_button",radius:!0,lg:!0,whenClick:function(){Object(F.a)(o()(t.state,{hrefTarget:t.props.hrefTarget})),t.handlePost()}},"搜尋")),k.a.createElement(q.a,{className:"hotelsRectM-destination",visible:C,direction:"right"},k.a.createElement($,{onClick:this.closeDestnMenu}),k.a.createElement("div",{className:"nvb_content"},k.a.createElement("header",null,k.a.createElement("h3",{className:"txt-center m-b-sm fz-lg"},"目的地"),k.a.createElement("div",{className:"search_input"},k.a.createElement(S.a,{placeholder:"目的地、地標、區域、飯店名稱",value:this.state.Txt,onChange:this.onDestnInputChange,onClearValue:this.clearDestnValue,onKeyDown:this.handleDestnKeyDown,onClick:this.openDestnMenu}),k.a.createElement(T.a,{radius:!0,whenClick:this.closeDestnMenu},"確定")),k.a.createElement("p",{className:"dtm_rcfr-label"},"找不到選項？請輸入關鍵字查詢")),k.a.createElement("div",{className:"destinationOpation m-t-n-sm"},k.a.createElement("div",{className:M},Object.keys(p).length&&k.a.createElement(A.a,{levelKey:["inTaiwan","vLine","vCountry","vCity"],onClickItem:this.onClickDestnDtmItem,dataResouce:p,replaceRegular:/[a-zA-Z\(\)\s]/g,selectedData:b})),k.a.createElement("div",{className:w},k.a.createElement(K.a,{titleClass:d?"":"d-no",isFocus:d,data:g,matchWord:h,getItemClickValue:this.onClickDestnAct,minimumStringQuery:"請至少輸入兩個字",noMatchText:"很抱歉，找不到符合的項目",minimumStringQueryLength:2,footer:!1,rules:f}))))),k.a.createElement(q.a,{visible:_,direction:"right",className:"hotelsRectM-calendar"},k.a.createElement($,{onClick:this.closeNvbPage}),_&&k.a.createElement(W.a,{doubleChoose:!0,selectedStartDate:n,selectedEndDate:a,activeInput:c,endDate:Z()().add(12,"months").format("YYYY-MM-DD"),endMonth:i,startDate:Z()().add(1,"days").format("YYYY-MM-DD"),startLabelTitle:"入住日期",endLabelTitle:"退房日期",startTxt:"入住",endTxt:"退房",panelName:"hotel",ref:function(e){t.calendar=e},onDateClickCallBack:function(e,n){return a=n,o=Z()(a).add(14,"days").month(),r=Z()(i).month(),c=Z()().add(12,"months").format("YYYY-MM"),r<o&&(c=Z()(a).add(14,"days").format("YYYY-MM")),void t.setState({endMonth:c});var a,o,r,c},onClickConfirm:this.handleConfirmBookingDate,customDiffTxt:function(t){return"共"+t+"晚"}})),k.a.createElement(q.a,{className:"hotelsRectM-roomPage",visible:x,direction:"right"},k.a.createElement($,{onClick:this.closeNvbPage}),k.a.createElement("div",{className:"nvb_content"},k.a.createElement("header",{className:"hotelsRectM-header"},k.a.createElement("h3",{className:"txt-center m-b-md"},"間數/人數"),k.a.createElement("div",{className:"search_input"},k.a.createElement(S.a,{placeholder:"共1間，2位大人、0位小孩",value:l,readOnly:!0}),k.a.createElement(T.a,{radius:!0,whenClick:this.handleConfirmRoom},"確定"))),k.a.createElement("div",{className:"hotelsRectM-roomList"},k.a.createElement(B,{Rooms:r,changeSum:this.roomPeopleSum}),k.a.createElement("p",{className:"psTxt"},"※單次訂購提供相同房型，相同房型不同入住人數依選購的專案售價。"))))))}}]),e}(b.Component);n.d(e,"default",function(){return G})},317:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"g",function(){return r}),n.d(e,"e",function(){return c}),n.d(e,"d",function(){return l}),n.d(e,"a",function(){return s}),n.d(e,"f",function(){return u}),n.d(e,"b",function(){return h});var a=n(335),o=n.n(a);function i(t,e){fetch(t,{method:"GET"}).then(function(t){return t.text()}).then(function(t){var e=t.replace(/\r?\n|\r/g,"").replace(/(?:var|let|const)\s(\w+)\s=/g,'"$1":').replace(/;/g,",").replace(/,$/g,"").replace(/'/g,'"');return JSON.parse("{"+e+"}")}).then(function(t){e(t)})}function r(t){var e=t,n="",a=Object.keys(e).length,o=0;for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n+=a<=++o?i+"="+e[i]:i+"="+e[i]+"&");return n}function c(t){var e=t.split("-"),n=o()(e,2),a=n[0],i=n[1];return[a=Number(a),i=Number(i)]}function l(){return new Date((new Date).getFullYear(),(new Date).getMonth(),1,8).toISOString().slice(0,7)}function s(t,e){var n=function(t){return t<10?"0"+t:String(t)},a=new Date(t).getTime(),o=new Date(a+864e5*e),i=n(o.getFullYear()),r=n(o.getMonth()+1),c=n(o.getDate());return[i+r+c,i,r,c]}function u(t){try{JSON.parse(t)}catch(t){return!1}return!0}var h={fetchJsToObj:i,findHighestZIndex:function(t){for(var e=document.getElementsByTagName(t),n=0,a=0;a<e.length;a++){var o=document.defaultView.getComputedStyle(e[a],null).getPropertyValue("z-index");n<o&&"auto"!==o&&(n=o)}return parseInt(n,10)},getDomPosition:function(t,e){return"top"===e?t.getBoundingClientRect()[e]+window.pageYOffset:t.getBoundingClientRect()[e]},toQueryString:r,getYearAndMonth:c,getNowMonth:l,addDate:s,isJsonString:u}},326:function(t,e,n){"use strict";var a=n(317),o=n(330),i=n(325),r=n.n(i),c=n(332),l=n.n(c),s=n(318),u=n.n(s),h=n(319),d=n.n(h),m=n(320),p=n.n(m),f=n(321),g=n.n(f),v=n(322),_=n.n(v),C=n(323),x=n.n(C),b=n(324),k=n.n(b),M=n(16),y=n.n(M),w=n(117),R=n.n(w),D=function(t){function e(t){var n;return u()(this,e),n=p()(this,g()(e).call(this,t)),k()(x()(x()(n)),"handle",function(t){if(n.isClickInSide)n.isClickInSide=!1;else if("touchend"===t.type&&(n.isTouch=!0),"click"!==t.type||!n.isTouch){var e=n.props.onClickOutside;!1===n.isUnMounted&&e(t)}}),k()(x()(x()(n)),"handleClick",function(){n.isClickInSide=!0}),n.isTouch=!1,n.isClickInSide=!1,n.isUnMounted=!1,n}return _()(e,t),d()(e,[{key:"componentDidMount",value:function(){document.addEventListener("touchend",this.handle,!1),document.addEventListener("click",this.handle,!1)}},{key:"componentWillUnmount",value:function(){this.isUnMounted=!0,document.removeEventListener("touchend",this.handle,!1),document.removeEventListener("click",this.handle,!1)}},{key:"render",value:function(){var t=this.props,e=t.children,n=(t.onClickOutside,l()(t,["children","onClickOutside"]));return y.a.createElement("div",r()({},n,{onClick:this.handleClick}),e)}}]),e}(M.Component);k()(D,"propTypes",{onClickOutside:R.a.func.isRequired});var E=n(329);n.d(e,"c",function(){return a.b}),n.d(e,"d",function(){return a.c}),n.d(e,"h",function(){return a.g}),n.d(e,"f",function(){return a.e}),n.d(e,"e",function(){return a.d}),n.d(e,"b",function(){return a.a}),n.d(e,"g",function(){return a.f}),n.d(e,"a",function(){return o.a}),n.d(e,"i",function(){return E.a})},329:function(t,e,n){"use strict";var a=n(325),o=n.n(a);e.a=function(t,e){var n=t.panel,a=t.methods,i=t.data,r=n+"_queryKey",c=localStorage.getItem(r),l=JSON.parse(c);if(["travel","internationalFlight","chineseFlight","taiwanFlight","hotel","personalVacation","groupVacation","taiwanVacation","themeTravel","activity"].indexOf(n)<0)throw"'".concat(n,"' is not a panel name.");var s=function(){var t=o()({},l);if(Array.isArray(i)){i.forEach(function(e){return delete t[e]});var n=JSON.stringify(t);localStorage.setItem(r,n),"function"==typeof e&&e(t)}else localStorage.removeItem(r)};switch(a){case"get":!function(){if(c&&function(t){try{JSON.parse(t)}catch(t){return!1}return!0}(c)){var t=JSON.parse(c);"function"==typeof e&&e(t)}else s()}();break;case"post":!function(){var t=o()({},l,i),n=JSON.stringify(t);if(!n)throw"Data: '".concat(i,"' can't stringify.");localStorage.setItem(r,n),"function"==typeof e&&e(t)}();break;case"delete":s();break;default:throw"'".concat(a,"' is undefined. You can use 'get', 'post', 'delete'.")}}},330:function(t,e,n){"use strict";n.d(e,"a",function(){return D});var a=n(325),o=n.n(a),i=n(332),r=n.n(i),c=n(318),l=n.n(c),s=n(319),u=n.n(s),h=n(320),d=n.n(h),m=n(321),p=n.n(m),f=n(322),g=n.n(f),v=n(323),_=n.n(v),C=n(324),x=n.n(C),b=n(16),k=n.n(b),M=n(57),y=n.n(M),w=n(117),R=n.n(w),D=function(t){function e(t){var n;return l()(this,e),n=d()(this,p()(e).call(this,t)),x()(_()(_()(n)),"handle",function(t){if(!n.__domNode.contains(t.target)){var e=n.props.onClickOutside;"function"==typeof e&&e(t)}}),n.isTouch=!1,n.isClickInSide=!1,n.isUnMounted=!1,n.__domNode=null,n.__wrappedInstance=null,n}return g()(e,t),u()(e,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handle,!0)}},{key:"componentWillUnmount",value:function(){this.isUnMounted=!0,document.removeEventListener("click",this.handle,!0)}},{key:"render",value:function(){var t=this,e=this.props,n=e.children,a=(e.onClickOutside,r()(e,["children","onClickOutside"]));return k.a.createElement("div",o()({},a,{ref:function(e){t.__domNode=y.a.findDOMNode(e),t.__wrappedInstance=e}}),n)}}]),e}(b.Component);x()(D,"propTypes",{onClickOutside:R.a.func.isRequired})},333:function(t,e,n){"use strict";n.d(e,"g",function(){return o}),n.d(e,"c",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"d",function(){return c}),n.d(e,"e",function(){return l}),n.d(e,"i",function(){return s}),n.d(e,"h",function(){return u}),n.d(e,"j",function(){return h}),n.d(e,"f",function(){return d}),n.d(e,"a",function(){return m}),n(342);var a,o=(a={travel:{place:"./json/TRS1NEWTRAVEL.js"},"flight.international":{place:"./json/flightsInternationalDestinationCsutomMenu.js",placeAutoComplete:"./json/getarraytkt6.js",filter:"./json/country.json"},"flight.chinese":{place:"./json/GetArrayTkt5.js"},"flight.taiwan":{place:"./json/twflightdest.json"},hotel:{destination:"./json/hotelMenu.json",destinationAutoComplete:"https://hotel.liontravel.com/search/keyword"},"vacation.personal":{departure:"./json/vacationDeparture.json",destination:"./json/vacationdata.json",destinationAutoComplete:"https://vacation.liontravel.com/ajax/getdestination",keyword:"https://vacation.liontravel.com/search/keyword"},"vacation.group":{place:"./json/TRS1NEWTRAVELFIT.js"},"vacation.taiwan":{destination:"./json/freeTaiwan.js",keyword:"./json/gethotelnamelist.json"},themeTravel:{place:"./json/TRS1PSUBJECT.js"},activity:{ticketAbroad:"./json/abroad.json",ticketTaiwan:"./json/home.json",keyword:"https://hotel.liontravel.com/search/keyword"}}).travel,i=a["flight.international"],r=a["flight.chinese"],c=a["flight.taiwan"],l=a.hotel,s=a["vacation.personal"],u=a["vacation.group"],h=a["vacation.taiwan"],d=a.themeTravel,m=a.activity},429:function(t,e,n){(t.exports=n(327)(!1)).push([t.i,"/**\r\n * Import core mixins, variables, or others\r\n */\n/**\r\n  * Define your classname\r\n  */\n.hotelsRectM > .hotelsRectM_hotelCont .destination {\n  position: relative;\n  margin-bottom: 10px; }\n\n.hotelsRectM > .hotelsRectM_hotelCont .int_rcln {\n  line-height: 16px;\n  height: auto; }\n  .hotelsRectM > .hotelsRectM_hotelCont .int_rcln.icon > .int_rcln_input {\n    position: relative;\n    background-color: transparent;\n    color: #0077b3;\n    font-weight: normal; }\n  .hotelsRectM > .hotelsRectM_hotelCont .int_rcln_label {\n    color: #222; }\n  .hotelsRectM > .hotelsRectM_hotelCont .int_rcln_input {\n    border: 1px solid #bbb; }\n  .hotelsRectM > .hotelsRectM_hotelCont .int_rcln_input:not(input):empty::before {\n    color: #999999;\n    font-weight: normal; }\n\n.hotelsRectM > .hotelsRectM_hotelCont .nights {\n  display: inline-flex;\n  align-items: center;\n  color: #0077b3;\n  font-weight: normal;\n  font-size: 16px;\n  line-height: 16px; }\n\n.hotelsRectM > .hotelsRectM_hotelCont .booking {\n  position: relative;\n  margin: 0 0 10px 0; }\n  .hotelsRectM > .hotelsRectM_hotelCont .booking .int_rctg {\n    border: 1px solid #bbb; }\n    .hotelsRectM > .hotelsRectM_hotelCont .booking .int_rctg .int-col .int-label {\n      color: #222; }\n  .hotelsRectM > .hotelsRectM_hotelCont .booking .input_group .cal_icon {\n    width: 16px;\n    height: 16px;\n    border: 0;\n    font-size: 16px;\n    line-height: 16px; }\n  .hotelsRectM > .hotelsRectM_hotelCont .booking .input_group .int_rcln {\n    height: auto; }\n  .hotelsRectM > .hotelsRectM_hotelCont .booking .input_group .int_rcln_input {\n    width: 100%;\n    padding: 0;\n    border: none;\n    color: #0077b3;\n    font-weight: normal; }\n  .hotelsRectM > .hotelsRectM_hotelCont .booking .input_group .int_rcln > .int_rcln_input:not(:empty) {\n    width: 95px; }\n\n.hotelsRectM > .hotelsRectM_hotelCont .searchBtn {\n  margin: 30px auto 0;\n  text-align: center; }\n  .hotelsRectM > .hotelsRectM_hotelCont .searchBtn .bookingToday {\n    display: inline-block;\n    margin-bottom: 20px;\n    color: #0077b3;\n    text-decoration: none;\n    font-size: 14px; }\n  .hotelsRectM > .hotelsRectM_hotelCont .searchBtn .search_button {\n    width: 100%; }\n\n.hotelsRectM > .hotelsRectM_hotelCont .chkbox-group .cr_rcln .indicator {\n  border: solid 1px #bbb; }\n\n.hotelsRectM-calendar .cy_rcln > .confirm_btn span {\n  display: inline-block; }\n\n.hotelsRectM-calendar .nvb_rslb > .nvb_content > header {\n  padding-top: 10px;\n  top: 0;\n  right: 0;\n  left: 0; }\n\n.hotelsRectM-header .int_rcln > .int_rcln_input {\n  color: #0077b3;\n  font-weight: normal; }\n\n.hotelsRectM-roomPage .room_list_section {\n  margin-bottom: 10px; }\n  .hotelsRectM-roomPage .room_list_section .row_title {\n    text-align: left;\n    min-width: 3em;\n    margin-right: 15px; }\n  .hotelsRectM-roomPage .room_list_section .room_count_title {\n    margin: 0px;\n    line-height: 30px;\n    margin-right: 15px; }\n  .hotelsRectM-roomPage .room_list_section .room_list_row {\n    position: relative;\n    display: inline-block;\n    vertical-align: top;\n    margin-bottom: 10px; }\n    .hotelsRectM-roomPage .room_list_section .room_list_row .int_rcln .clearBtn {\n      display: none; }\n  .hotelsRectM-roomPage .room_list_section .childStCont {\n    margin-left: 30px; }\n    .hotelsRectM-roomPage .room_list_section .childStCont .children_age_select select {\n      width: 87px; }\n  .hotelsRectM-roomPage .room_list_section .st_childAge {\n    display: block; }\n    .hotelsRectM-roomPage .room_list_section .st_childAge .children_ages_section .age_select_section {\n      display: flex;\n      height: 30px;\n      align-items: stretch; }\n      .hotelsRectM-roomPage .room_list_section .st_childAge .children_ages_section .age_select_section .children_age_select {\n        flex: 0 0 70px;\n        margin-right: 5px;\n        position: relative; }\n        .hotelsRectM-roomPage .room_list_section .st_childAge .children_ages_section .age_select_section .children_age_select select {\n          background-color: #fff;\n          -webkit-appearance: none;\n          -moz-appearance: none;\n          appearance: none;\n          width: 100%;\n          height: 100%;\n          padding: 0 5px;\n          border-radius: 0;\n          border: 1px solid #ccc;\n          font-size: 16px; }\n        .hotelsRectM-roomPage .room_list_section .st_childAge .children_ages_section .age_select_section .children_age_select::after {\n          content: '';\n          position: absolute;\n          top: 43%;\n          right: 10px;\n          width: 0;\n          height: 0;\n          border-style: solid;\n          border-width: 6px 5px 0 5px;\n          border-color: #000544 transparent transparent transparent;\n          pointer-events: none; }\n  .hotelsRectM-roomPage .room_list_section .children_ages_section {\n    align-items: baseline;\n    display: inline-flex; }\n    .hotelsRectM-roomPage .room_list_section .children_ages_section .row_title {\n      margin-right: 15px; }\n\n.hotelsRectM-roomPage .hotelsRectM-roomList {\n  padding: 10px;\n  height: 100%;\n  background-color: #fff; }\n  .hotelsRectM-roomPage .hotelsRectM-roomList .psTxt {\n    padding: 10px;\n    color: #24a07d; }\n  .hotelsRectM-roomPage .hotelsRectM-roomList .dropdown-place-holder {\n    align-items: center; }\n    .hotelsRectM-roomPage .hotelsRectM-roomList .dropdown-place-holder > .dropdown-label {\n      line-height: 14px !important; }\n\n.hotelsRectM-destination .nvb_content {\n  padding-top: 125px !important;\n  background-color: #fff; }\n  .hotelsRectM-destination .nvb_content header .dtm_rcfr-label {\n    color: #24a07d;\n    margin-top: 5px !important; }\n  .hotelsRectM-destination .nvb_content .search_input .int_rcln_input {\n    color: #0077b3;\n    font-size: 16px;\n    font-weight: normal; }\n\n.hotelsRectM-destination .destinationOpation {\n  background-color: #fff;\n  height: 100%;\n  overflow-y: auto;\n  touch-action: manipulation; }\n  .hotelsRectM-destination .destinationOpation .wrap_container {\n    width: 100%;\n    padding-top: 10px; }\n    .hotelsRectM-destination .destinationOpation .wrap_container .dtm_rcfr {\n      height: calc(100vh - 130px);\n      overflow-y: auto; }\n      .hotelsRectM-destination .destinationOpation .wrap_container .dtm_rcfr > .ntb_rcln > .ctns > .panel > .ntb_rcln > .ctns .sec_all {\n        text-decoration: none;\n        cursor: default; }\n      .hotelsRectM-destination .destinationOpation .wrap_container .dtm_rcfr .item {\n        line-height: 25px; }\n    .hotelsRectM-destination .destinationOpation .wrap_container .dtm_rcfr-label {\n      padding-left: 25px;\n      height: 14px;\n      border: 0;\n      font-size: 14px;\n      line-height: 14px; }\n      .hotelsRectM-destination .destinationOpation .wrap_container .dtm_rcfr-label + .dtm_rcfr {\n        margin-top: 10px; }\n  .hotelsRectM-destination .destinationOpation .act_wrap_container {\n    width: 100%; }\n    .hotelsRectM-destination .destinationOpation .act_wrap_container .act_rajx {\n      max-height: none;\n      width: 100%;\n      top: 125px;\n      box-shadow: none;\n      border: none;\n      border-top: 2px solid #e3e3e3; }\n      .hotelsRectM-destination .destinationOpation .act_wrap_container .act_rajx .section .title {\n        border-top: none;\n        color: #222;\n        font-weight: bold;\n        font-size: 16px; }\n        .hotelsRectM-destination .destinationOpation .act_wrap_container .act_rajx .section .title i {\n          display: none; }\n      .hotelsRectM-destination .destinationOpation .act_wrap_container .act_rajx .item {\n        padding: 10px;\n        line-height: 30px; }\n      .hotelsRectM-destination .destinationOpation .act_wrap_container .act_rajx .noMatchText {\n        color: #24a07d;\n        font-size: 14px;\n        padding: 10px 20px 0 5px; }\n        .hotelsRectM-destination .destinationOpation .act_wrap_container .act_rajx .noMatchText .close {\n          display: none; }\n      .hotelsRectM-destination .destinationOpation .act_wrap_container .act_rajx .m-place {\n        color: #24a07d;\n        font-size: 14px;\n        padding: 10px 20px 0 5px; }\n        .hotelsRectM-destination .destinationOpation .act_wrap_container .act_rajx .m-place .close {\n          display: none; }\n\n.hotelsRectM-destination .ntb_rcln.search_panel_two > .tabs {\n  padding: 15px 10px;\n  margin-bottom: 0;\n  background-color: #f1f1f1; }\n  .hotelsRectM-destination .ntb_rcln.search_panel_two > .tabs li {\n    width: 50%; }\n    .hotelsRectM-destination .ntb_rcln.search_panel_two > .tabs li:last-child {\n      margin-right: 0; }\n\n.hotelsRectM-destination .int_rcln input {\n  padding: 10px; }\n",""])},431:function(t,e,n){"use strict";function a(t){var e=t,n="",a=Object.keys(e).length,o=0;for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n+=a<=++o?'"'+i+'":"'+e[i]+'"':'"'+i+'":"'+e[i]+'",');return n}e.a=function(t){var e=t.Destination,n=t.Code,o=t.Kind,i=t.Txt,r=t.Rooms,c=t.Filter,l=t.CheckIn,s=t.CheckOut,u=t.hrefTarget;if(e.Code=n,e.Kind=o,e.Txt=i,!l.length)return alert("請選擇住房期間、請輸入必填欄位喔！");if(l===s)return alert("住房期間起迄不可是同一天");if(!s.length)return alert("請輸入必填欄位喔！");if(!e.length&&!i.length)return alert("目的地或關鍵字擇一必填");var h=a({CheckIn:l.replace(/\-/g,"/"),CheckOut:s.replace(/\-/g,"/")})+",",d='"Rooms":['+r.map(function(t){return""+'{"AdultQty":"'.concat(t.AdultQty,'","ChildQty":"').concat(t.ChildQty,'","ChildAges":[').concat(t.ChildAges.map(function(t){return'"'.concat(t,'"')}),"]}")})+"],",m='"Filter":{'+a(c)+"},",p='"Destination":{'+a(e)+"}",f=encodeURIComponent("{"+h+d+m+p+"}");window.open("".concat("https://hotel.liontravel.com/","search?searchParam=").concat(f),u)}},476:function(t,e,n){var a=n(429);"string"==typeof a&&(a=[[t.i,a,""]]);var o=n(328)(a,{hmr:!0,transform:void 0,insertInto:void 0});a.locals&&(t.exports=a.locals),t.hot.accept(429,function(){var e=n(429);if("string"==typeof e&&(e=[[t.i,e,""]]),!function(t,e){var n,a=0;for(n in t){if(!e||t[n]!==e[n])return!1;a++}for(n in e)a--;return 0===a}(a.locals,e.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");o(e)}),t.hot.dispose(function(){o()})}}]);