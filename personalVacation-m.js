(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{291:function(e,n,t){"use strict";t.r(n);var a=t(324),o=t.n(a),r=t(327),i=t.n(r),c=t(312),l=t.n(c),s=t(313),u=t.n(s),d=t(314),p=t.n(d),m=t(315),h=t.n(m),f=t(316),_=t.n(f),v=t(317),g=t.n(v),b=t(318),C=t.n(b),x=t(20),k=t.n(x),y=t(331),w=t.n(y),E=t(322),N=t(325),D=t(332),S=t(338),T=t(343),A=t(326),L=t(347),I=t(346),O=t(358),M=function(e){function n(){var e,t;l()(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return t=p()(this,(e=h()(n)).call.apply(e,[this].concat(o))),C()(g()(g()(t)),"state",{roomList:[{adult:2,childrenWithBed:[],childrenNoBed:[]}],maxPeople:8,maxChild:3,childForSingleAdult:2,minAdult:1,inputText:"共1間，2人"}),C()(g()(g()(t)),"changeRoomCount",function(e){var n=t.state.roomList,a=Number(e),o={adult:1,childrenWithBed:[],childrenNoBed:[]};if(a!==n.length){for(var r=[],i=0;i<a;i++)r.push(o);var c=Object(O.c)(r);t.setState(function(e){return{inputText:c,roomList:r}})}}),C()(g()(g()(t)),"onClickAdd",function(e,n){var a=t.state,o=a.maxPeople,r=a.maxChild,c=a.childForSingleAdult,l=t.calcPeopleInfo(),s=i()(l,4),u=s[0],d=s[1],p=s[2],m=s[3];if(!(o<u+1)){if("childrenWithBed"===n||"childrenNoBed"===n){var h=p+m+1;if(1===d&&c<h)return;if(r<h)return}t.setState(function(t){var a=JSON.parse(JSON.stringify(t.roomList)),o=a[e][n];return"adult"!==n?o.push(0):a[e][n]=o+1,{roomList:a,inputText:Object(O.c)(a)}})}}),C()(g()(g()(t)),"onClickMinus",function(e,n){var a=t.state.minAdult,o=JSON.parse(JSON.stringify(t.state.roomList)),r=o[e][n];if("adult"===n){if(r===a)return;o[e][n]=r-1,o=o.map(function(e){return{adult:e.adult,childrenWithBed:[],childrenNoBed:[]}})}else{if(0===r.length)return;r.pop()}var i=Object(O.c)(o);t.setState(function(e){return{roomList:o,inputText:i}})}),C()(g()(g()(t)),"onChangeChildAge",function(e,n,a,o){var r=t.state.roomList,i=Number(o);r[e][n][a]=i,t.setState(function(e){return{roomList:r}})}),t}return _()(n,e),u()(n,[{key:"calcPeopleInfo",value:function(){for(var e=this.state.roomList,n=0,t=0,a=0,o=0,r=0;r<e.length;r++){var i=e[r].adult,c=e[r].childrenWithBed.length,l=e[r].childrenNoBed.length;t+=i,a+=c,o+=l,n=n+i+c+l}return[n,t,a,o]}},{key:"render",value:function(){var e=this,n=this.state,t=n.roomList,a=n.inputText,o=this.props.onClickConfirm;return k.a.createElement("div",{className:"nvb_content"},k.a.createElement("header",null,k.a.createElement("h3",{className:"txt-center page_title"},"間數/人數"),k.a.createElement("div",{className:"search_input"},k.a.createElement(E.a,{placeholder:"共N間，N人",readOnly:!0,value:a,color:"blue"}),k.a.createElement(A.a,{radius:!0,whenClick:function(){o(e.state)}},"確定"))),k.a.createElement("div",{className:"page_content wrapper-sm"},k.a.createElement(D.a,{option:I.e,placeholder:"請選擇",label:"間數:",defaultValue:t.length,onChangeCallBack:this.changeRoomCount,ClassName:"m-b-sm"}),t.map(function(n,t){return k.a.createElement(O.b,{key:t,roomCount:t,adult:n.adult,childrenWithBed:n.childrenWithBed,childrenNoBed:n.childrenNoBed,onClickAdd:e.onClickAdd,onClickMinus:e.onClickMinus,onChangeChildAge:e.onChangeChildAge})}),k.a.createElement(O.a,null)))}}]),n}(x.PureComponent),B=t(334),j=t(345),P={},W=function(e){function n(e){var t;return l()(this,n),t=p()(this,h()(n).call(this)),C()(g()(g()(t)),"onClickDtm",function(e){var n=e.text;t.setState(function(t){return{inputText:n,selectedData:[e],dtmSelected:[e.value]}})}),C()(g()(g()(t)),"onClickDestnAct",function(e,n){var a=e.txt;"choosed"===n?t.setState(function(n){return{Txt:a,inputText:a,dtmSelected:[],selectedData:[e],hasValue:!1}}):t.setState(function(n){return{Txt:a,dtmSelected:[e.value]}})}),C()(g()(g()(t)),"onInputChange",function(e){var n=e.target.value,a=0<n.length?t.filterActData(n):[];t.setState(function(e){return{inputText:n,selectedData:[],dtmSelected:[],actShowData:a,showAct:!0,showDtm:!1}})}),C()(g()(g()(t)),"onClearInputValue",function(){t.setState(function(e){return{inputText:"",selectedData:[],dtmSelected:[],showAct:!1,showDtm:!0}})}),t.state={inputText:"",selectedData:[],dtmLevelKey:["Line","Country","City"],dtmSelected:[],showAct:!1,showDtm:!0,actAllData:P["./json/vacationdata.json"]?P["./json/vacationdata.json"]:null,actShowData:[],dataResouce:"./json/vacationdata.json",actRules:[{title:"only"}],dtmOrderMaps:{Line:["6","5","7","3","1","2","4"]}},t}return _()(n,e),u()(n,[{key:"componentDidMount",value:function(){var e=this,n=this.state,t=n.dataResouce;null===n.actAllData&&fetch(t).then(function(e){return e.json()}).then(function(n){var a=Object(I.f)(n);P[t]=a,e.setState(function(e){return{actAllData:a}})})}},{key:"filterActData",value:function(e){var n=this.state.actAllData,t=e.toUpperCase();return n.filter(function(e){return-1!==e.txt.indexOf(t)})}},{key:"render",value:function(){var e=this,n=this.state,t=n.inputText,a=n.dtmLevelKey,o=n.dtmSelected,r=n.showAct,i=n.showDtm,c=n.dataResouce,l=n.actShowData,s=n.actRules,u=n.dtmOrderMaps,d=this.props,p=d.onClickConfirm,m=d.className;return k.a.createElement("div",{className:"nvb_content dtmPage ".concat(m)},k.a.createElement("header",null,k.a.createElement("h3",{className:"txt-center page_title"},"目的地"),k.a.createElement("div",{className:"search_input"},k.a.createElement(E.a,{placeholder:"請選擇",value:t,color:"blue",onChange:this.onInputChange,onClearValue:this.onClearInputValue}),k.a.createElement(A.a,{radius:!0,whenClick:function(){p(e.state)}},"確定")),k.a.createElement("p",{className:"txt_green m-t-xs m-b-n"},"找不到選項？請輸入關鍵字查詢")),k.a.createElement("div",{className:"page_content"},i&&k.a.createElement(B.a,{levelKey:a,onClickItem:this.onClickDtm,dataResouce:c,transformFetchData:I.g,replaceRegular:/\([\w\s\)]+/g,selectedData:o,orderMaps:u}),k.a.createElement(j.a,{containerClass:r?"":"d-no",isFocus:r,titleClass:"d-no",data:l,matchWord:t,getItemClickValue:this.onClickDestnAct,noMatchText:"很抱歉，找不到符合的項目",minimumStringQueryLength:1,footer:!1,rules:s})))}}]),n}(x.PureComponent),z=t(423),R=function(e){function n(){var e,t;l()(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return t=p()(this,(e=h()(n)).call.apply(e,[this].concat(o))),C()(g()(g()(t)),"state",{inputText:"",actRules:[{title:"only"}],searchTimeGap:500,fetchData:[],isSearch:!1,selectedData:{fthotel:""}}),C()(g()(g()(t)),"taskQueue",null),C()(g()(g()(t)),"onClearInputValue",function(){t.setState(function(e){return{inputText:"",selectedData:{fthotel:""},fetchData:[]}})}),C()(g()(g()(t)),"onInputChange",function(e){var n=e.target.value,a=t.state.searchTimeGap;"function"==typeof t.taskQueue&&t.taskQueue.cancel();var o=Object(z.throttle)(t.callKeyWordAPI,a,{leading:!1});t.taskQueue=o,t.setState(function(e){return{inputText:n,isSearch:!0,selectedData:{fthotel:""}}},o)}),C()(g()(g()(t)),"onClickAct",function(e){var n=e.txt;t.setState(function(t){return{inputText:n,selectedData:e}})}),t}return _()(n,e),u()(n,[{key:"callKeyWordAPI",value:function(){var e=this,n=this.props.Destination,t=this.state.inputText,a=n.split("_"),o=1<a.length?[a[0],a[1]].join("_"):"";fetch("https://uvacation.liontravel.com/search/keyword",{method:"POST",body:"Destination=".concat(o,"&sKeyWord=").concat(t),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(e){return e.json()}).then(function(n){var t=n.map(function(e){return e.level2="only",e.txt=e.label,e.level3=e.value,delete e.label,delete e.value,e});e.setState(function(e){return{fetchData:t,isSearch:!1}})}).catch(function(e){})}},{key:"render",value:function(){var e=this,n=this.state,t=n.inputText,a=n.actRules,o=n.fetchData,r=n.isSearch,i=this.props.onClickConfirm;return k.a.createElement("div",{className:"nvb_content"},k.a.createElement("header",null,k.a.createElement("h3",{className:"txt-center page_title"},"關鍵字"),k.a.createElement("div",{className:"search_input"},k.a.createElement(E.a,{placeholder:"請選擇",value:t,color:"blue",onChange:this.onInputChange,onClearValue:this.onClearInputValue}),k.a.createElement(A.a,{radius:!0,whenClick:function(){i(e.state)}},"確定"))),k.a.createElement("div",{className:"page_content"},r?k.a.createElement("p",{className:"searching"},"資料搜尋中..."):k.a.createElement(j.a,{titleClass:"d-no",data:o,matchWord:t,getItemClickValue:this.onClickAct,noMatchText:"很抱歉，找不到符合的項目",minimumStringQuery:"請至少輸入兩個字",minimumStringQueryLength:2,footer:!1,rules:a})))}}]),n}(x.PureComponent),Y=t(384),V=t(385),F=(t(386),t(337),function(e){var n=e.onClick;return k.a.createElement("span",{className:"nvb_rslb_goBack",onClick:n},k.a.createElement(N.a,{name:"toolbefore"}))}),K=function(e){function n(e){var t;return l()(this,n),t=p()(this,h()(n).call(this,e)),C()(g()(g()(t)),"handleClose",function(){t.setState(function(e){return{activeInput:null}})}),C()(g()(g()(t)),"calendarConfirm",function(){var e=t.calendar.state,n=e.selectedStartDate,a=e.selectedEndDate;t.setState(function(e){return{FromDate:n,ToDate:a,activeInput:null}})}),C()(g()(g()(t)),"roomPageConfirm",function(e){var n=e.inputText,a=e.roomList,o=Object(O.d)(a),r=i()(o,2),c=r[0],l=r[1];t.setState(function(e){return{roomListInput:n,roomlist:c.join(","),roomage:l.join(","),activeInput:null}})}),C()(g()(g()(t)),"destinationPageConfirm",function(e){var n=e.inputText,a=e.selectedData;if(!a.length)return alert("請點選一筆目的地");var o=a[0],r=o.City,i=o.Country,c=o.Line;t.setState(function(e){return{activeInput:null,destinationInput:n,Destination:"".concat(i,"_").concat(r,"_").concat(c)}})}),C()(g()(g()(t)),"keyWordPageConfirm",function(e){var n=e.inputText,a=e.selectedData.fthotel;t.setState(function(e){return{fthotel:a,Keywords:n,activeInput:null}})}),C()(g()(g()(t)),"onSelectChange",function(e,n){t.setState(function(t){return C()({},e,n)})}),t.state={Departure:"",Destination:"",roomlist:"2-0-0",roomage:"-",Days:"",Airline:"",clskd:0,noTrans:0,Keywords:"",FromDate:"",ToDate:"",activeInput:null,roomListInput:"共1間，2人",destinationInput:"",departureData:{},fthotel:""},t.calendar=null,t}return _()(n,e),u()(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/json/vacationDeparture.json").then(function(e){return e.json()}).then(function(n){e.setState(function(){return{departureData:n}})})}},{key:"showNvbPage",value:function(e){this.setState(function(n){return{activeInput:e}})}},{key:"render",value:function(){var e=this,n=this.state,t=n.FromDate,a=n.ToDate,r=n.activeInput,i=n.roomListInput,c=n.destinationInput,l=n.clskd,s=n.Airline,u=n.Days,d=n.noTrans,p=n.departureData,m=n.Destination,h=n.Keywords,f=0===r||1===r,_="roomlist"===r,v="destination"===r,g="keyword"===r,b=f||_||v||g;return k.a.createElement("div",{className:"vacation_personal_mobile"},k.a.createElement("div",{className:"input_group"},k.a.createElement(Y.a,{data:p,onChange:function(n){var t=n.target.value;e.setState(function(e){return{Departure:t}})}}),k.a.createElement("span",{className:"cal_icon"},"→"),k.a.createElement(E.a,{placeholder:"目的地",label:"目的地",breakline:!0,request:!0,readOnly:!0,onClick:function(){e.showNvbPage("destination")},value:c})),k.a.createElement("div",{className:"input_group"},k.a.createElement(E.a,{placeholder:"YYYY/MM/DD",label:"出發區間",icon:k.a.createElement(N.a,{name:"tooldate"}),breakline:!0,readOnly:!0,request:!0,onClick:function(){e.showNvbPage(0)},value:t.replace(/\-/g,"/")}),k.a.createElement("span",{className:"cal_icon"},"~"),k.a.createElement(E.a,{placeholder:"YYYY/MM/DD",breakline:!0,readOnly:!0,onClick:function(){e.showNvbPage(1)},value:a.replace(/\-/g,"/")})),k.a.createElement(E.a,{placeholder:"共N間，N人",label:"間數/人數",breakline:!0,readOnly:!0,icon:k.a.createElement(N.a,{name:"toolmember"}),className:"m-b-sm",onClick:function(){e.showNvbPage("roomlist")},value:i}),k.a.createElement(E.a,{placeholder:"請輸入產品名稱、飯店名稱或關鍵字",label:"關鍵字",breakline:!0,readOnly:!0,className:"m-b-sm",value:h,onClick:function(){e.showNvbPage("keyword")}}),k.a.createElement(D.a,{option:I.b,placeholder:"請選擇",label:"航空公司",breakline:!0,onChangeCallBack:function(n){e.onSelectChange("Airline",n)},ClassName:"m-b-sm",defaultValue:s}),k.a.createElement(D.a,{option:I.c,placeholder:"請選擇",label:"艙等",breakline:!0,onChangeCallBack:function(n){e.onSelectChange("clskd",n)},defaultValue:l,ClassName:"m-b-sm"}),k.a.createElement(D.a,{option:I.d,placeholder:"請選擇",label:"旅遊天數",breakline:!0,onChangeCallBack:function(n){e.onSelectChange("Days",n)},ClassName:"m-b-sm",defaultValue:u}),k.a.createElement(S.a,{type:"checkbox",textContent:"直飛(含中停)",defaultChecked:1===d,whenChange:function(n){e.setState(function(e){return{noTrans:n?1:0}})}}),k.a.createElement(A.a,{className:"search_button",radius:!0,md:!0,whenClick:function(){Object(V.a)(o()(e.state,{hrefTarget:e.props.hrefTarget}))}},"搜尋"),k.a.createElement(T.a,{visible:b,direction:"right"},k.a.createElement(F,{onClick:this.handleClose}),f&&k.a.createElement(L.a,{doubleChoose:!0,selectedStartDate:t,selectedEndDate:a,activeInput:r,endMonth:w()().add(12,"months").format("YYYY-MM"),startLabelTitle:"入住日期",endLabelTitle:"退房日期",ref:function(n){e.calendar=n},onClickConfirm:this.calendarConfirm,customDiffTxt:function(e){return"共"+(e+1)+"天"}}),_&&k.a.createElement(M,{onClickConfirm:this.roomPageConfirm}),k.a.createElement(W,{className:v?"":"d-no",inputText:c,onClickConfirm:this.destinationPageConfirm}),g&&k.a.createElement(R,{Destination:m,onClickConfirm:this.keyWordPageConfirm})))}}]),n}(x.Component);t.d(n,"default",function(){return K})},311:function(e,n,t){"use strict";t.d(n,"b",function(){return r}),t.d(n,"e",function(){return i}),t.d(n,"d",function(){return c}),t.d(n,"c",function(){return l}),t.d(n,"a",function(){return s});var a=t(327),o=t.n(a);function r(e,n){fetch(e,{method:"GET"}).then(function(e){return e.text()}).then(function(e){var n=e.replace(/\r?\n|\r/g,"").replace(/(?:var|let|const)\s(\w+)\s=/g,'"$1":').replace(/;/g,",").replace(/,$/g,"").replace(/'/g,'"');return JSON.parse("{"+n+"}")}).then(function(e){n(e)})}function i(e){var n=e,t="",a=Object.keys(n).length,o=0;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t+=a<=++o?r+"="+n[r]:r+"="+n[r]+"&");return t}function c(e){var n=e.split("-"),t=o()(n,2),a=t[0],r=t[1];return[a=Number(a),r=Number(r)]}function l(){return new Date((new Date).getFullYear(),(new Date).getMonth(),1,8).toISOString().slice(0,7)}var s={fetchJsToObj:r,findHighestZIndex:function(e){for(var n=document.getElementsByTagName(e),t=0,a=0;a<n.length;a++){var o=document.defaultView.getComputedStyle(n[a],null).getPropertyValue("z-index");t<o&&"auto"!==o&&(t=o)}return parseInt(t,10)},getDomPosition:function(e,n){return"top"===n?e.getBoundingClientRect()[n]+window.pageYOffset:e.getBoundingClientRect()[n]},toQueryString:i,getYearAndMonth:c,getNowMonth:l}},321:function(e,n,t){"use strict";var a=t(311),o=t(323),r=t(324),i=t.n(r),c=t(328),l=t.n(c),s=t(312),u=t.n(s),d=t(313),p=t.n(d),m=t(314),h=t.n(m),f=t(315),_=t.n(f),v=t(316),g=t.n(v),b=t(317),C=t.n(b),x=t(318),k=t.n(x),y=t(20),w=t.n(y),E=t(115),N=t.n(E),D=function(e){function n(e){var t;return u()(this,n),t=h()(this,_()(n).call(this,e)),k()(C()(C()(t)),"handle",function(e){if(t.isClickInSide)t.isClickInSide=!1;else if("touchend"===e.type&&(t.isTouch=!0),"click"!==e.type||!t.isTouch){var n=t.props.onClickOutside;!1===t.isUnMounted&&n(e)}}),k()(C()(C()(t)),"handleClick",function(){t.isClickInSide=!0}),t.isTouch=!1,t.isClickInSide=!1,t.isUnMounted=!1,t}return g()(n,e),p()(n,[{key:"componentDidMount",value:function(){document.addEventListener("touchend",this.handle,!1),document.addEventListener("click",this.handle,!1)}},{key:"componentWillUnmount",value:function(){this.isUnMounted=!0,document.removeEventListener("touchend",this.handle,!1),document.removeEventListener("click",this.handle,!1)}},{key:"render",value:function(){var e=this.props,n=e.children,t=(e.onClickOutside,l()(e,["children","onClickOutside"]));return w.a.createElement("div",i()({},t,{onClick:this.handleClick}),n)}}]),n}(y.Component);k()(D,"propTypes",{onClickOutside:N.a.func.isRequired}),t.d(n,"b",function(){return a.a}),t.d(n,"c",function(){return a.b}),t.d(n,"f",function(){return a.e}),t.d(n,"e",function(){return a.d}),t.d(n,"d",function(){return a.c}),t.d(n,"a",function(){return o.a})},323:function(e,n,t){"use strict";t.d(n,"a",function(){return D});var a=t(324),o=t.n(a),r=t(328),i=t.n(r),c=t(312),l=t.n(c),s=t(313),u=t.n(s),d=t(314),p=t.n(d),m=t(315),h=t.n(m),f=t(316),_=t.n(f),v=t(317),g=t.n(v),b=t(318),C=t.n(b),x=t(20),k=t.n(x),y=t(84),w=t.n(y),E=t(115),N=t.n(E),D=function(e){function n(e){var t;return l()(this,n),t=p()(this,h()(n).call(this,e)),C()(g()(g()(t)),"handle",function(e){if(!t.__domNode.contains(e.target)){var n=t.props.onClickOutside;"function"==typeof n&&n(e)}}),t.isTouch=!1,t.isClickInSide=!1,t.isUnMounted=!1,t.__domNode=null,t.__wrappedInstance=null,t}return _()(n,e),u()(n,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handle,!0)}},{key:"componentWillUnmount",value:function(){this.isUnMounted=!0,document.removeEventListener("click",this.handle,!0)}},{key:"render",value:function(){var e=this,n=this.props,t=n.children,a=(n.onClickOutside,i()(n,["children","onClickOutside"]));return k.a.createElement("div",o()({},a,{ref:function(n){e.__domNode=w.a.findDOMNode(n),e.__wrappedInstance=n}}),t)}}]),n}(x.Component);C()(D,"propTypes",{onClickOutside:N.a.func.isRequired})},329:function(e,n,t){(e.exports=t(319)(!1)).push([e.i,".input_group {\n  display: flex;\n  margin-bottom: 10px;\n  border: 1px solid #ddd; }\n  .input_group .int_rcln .int_rcln_input {\n    color: #0077b3;\n    font-weight: bold;\n    border: none; }\n    .input_group .int_rcln .int_rcln_input:focus {\n      border-color: #ddd; }\n  .input_group .int_rcln:last-of-type {\n    height: 50px; }\n    .input_group .int_rcln:last-of-type .int_rcln_input {\n      padding-top: 26px; }\n  .input_group .cal_icon {\n    color: #999;\n    display: inline-flex;\n    align-items: center; }\n  .input_group > div {\n    flex: 1; }\n  .input_group .vacation_select_group {\n    padding: 6px 0; }\n    .input_group .vacation_select_group > label,\n    .input_group .vacation_select_group > select {\n      padding: 0 6px;\n      line-height: 1; }\n    .input_group .vacation_select_group > label {\n      display: block;\n      color: #aaa;\n      font-size: 16px; }\n      .input_group .vacation_select_group > label.request:after {\n        content: '*';\n        display: inline-block;\n        color: #e10500;\n        vertical-align: middle;\n        line-height: 1;\n        margin-top: 4px; }\n    .input_group .vacation_select_group > select {\n      border: none;\n      outline: none;\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      appearance: none;\n      width: 100%;\n      font-size: 16px;\n      color: #0077b3;\n      font-weight: bold; }\n",""])},337:function(e,n,t){var a=t(329);"string"==typeof a&&(a=[[e.i,a,""]]);var o=t(320)(a,{hmr:!0,transform:void 0,insertInto:void 0});a.locals&&(e.exports=a.locals),e.hot.accept(329,function(){var n=t(329);if("string"==typeof n&&(n=[[e.i,n,""]]),!function(e,n){var t,a=0;for(t in e){if(!n||e[t]!==n[t])return!1;a++}for(t in n)a--;return 0===a}(a.locals,n.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");o(n)}),e.hot.dispose(function(){o()})},346:function(e,n,t){"use strict";t.d(n,"g",function(){return i}),t.d(n,"f",function(){return c}),t.d(n,"b",function(){return l}),t.d(n,"c",function(){return s}),t.d(n,"d",function(){return u}),t.d(n,"e",function(){return d}),t.d(n,"a",function(){return r});var a=t(20),o=t.n(a),r=function(e){var n=e.onClick;return o.a.createElement("button",{className:"close_btn",onClick:n},"X")};function i(e){var n={Line:{},Country:{},City:{}},t=e.Line,a=e.City,o=e.Country;return t.forEach(function(e){var t=e.Line,a=e.LineName;n.Line[t]=a,n.Country[t]={}}),o.forEach(function(e){var t=e.Line;e.CountryList.forEach(function(e){var a=e.Country,o=e.CountryName;n.Country[t][a]=o,n.City[a]={}})}),a.forEach(function(e){var t=e.Country;e.CityList.forEach(function(e){var a=e.City,o=e.CityName,r=e.CityEName,i="".concat(o,"(").concat(r,")").concat(a);n.City[t][a]=i})}),n}function c(e){for(var n=e.Line,t=e.City,a=e.Country,o=[],r=0;r<n.length;r++)for(var i=n[r],c=a[r].CountryList,l=function(e){for(var n=c[e],a=n.Country,r=n.CountryName,l=t.filter(function(e){return e.Country===a})[0].CityList,s=0;s<l.length;s++){var u=l[s],d=u.City,p=u.CityName,m=u.CityEName,h={Line:i.Line,Country:a,City:d,level3:"".concat(a,"-").concat(d),level2:"only",txt:"".concat(p,"(").concat(m,")").concat(d,"-").concat(r)};o.push(h)}},s=0;s<c.length;s++)l(s);return o}var l=[{text:"不限",value:""},{text:"BR - 長榮航空",value:"BR"},{text:"MU - 中國東方航空",value:"MU"},{text:"DL - 達美航空",value:"DL"},{text:"HX - 香港航空",value:"HX"},{text:"CX - 國泰航空",value:"CX"},{text:"KA - 港龍航空",value:"KA"},{text:"NH - 全日空航空",value:"NH"},{text:"OZ - 韓亞航空",value:"OZ"},{text:"CI - 中華航空",value:"CI"},{text:"NX - 澳門航空",value:"NX"},{text:"JL - 日本航空",value:"JL"}],s=[{text:"不限",value:3},{text:"經濟艙",value:0},{text:"商務艙",value:1},{text:"頭等艙",value:2}],u=[{text:"不限",value:""},{text:"2天",value:2},{text:"3天",value:3},{text:"4天",value:4},{text:"5天",value:5},{text:"6天",value:6},{text:"7天",value:7},{text:"8天以上",value:8}],d=[{text:"共1間",value:1},{text:"共2間",value:2},{text:"共3間",value:3},{text:"共4間",value:4},{text:"共5間",value:5},{text:"共6間",value:6},{text:"共7間",value:7}]},358:function(e,n,t){"use strict";t.d(n,"a",function(){return l}),t.d(n,"b",function(){return d}),t.d(n,"c",function(){return i}),t.d(n,"d",function(){return c});var a=t(20),o=t.n(a),r=t(352);function i(e){for(var n=e.length,t="共".concat(n,"間，"),a=0;a<e.length;a++){var o=e[a].adult,r=e[a].childrenWithBed.length,i=e[a].childrenNoBed.length;t+="".concat(o+r+i,"、")}return t.replace(/\、$/g,"人")}function c(e){var n=[],t=[];return e.forEach(function(e,a){var o=e.adult,r=e.childrenNoBed,i=e.childrenWithBed,c=i.length,l=r.length,s="".concat(o,"-").concat(c,"-").concat(l),u=[];0<c?u.push(i.join(";")):u.push(""),0<l?u.push(r.join(";")):u.push(""),t.push(u.join("-")),n.push(s)}),[n,t]}var l=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{className:"txt_green m-b-none"},"一筆訂單總人數若超過8位，請分兩張單位訂購。"),o.a.createElement("p",{className:"txt_green m-b-none"},"一位大人最多只能帶2名小孩或1名小孩+1名嬰兒"),o.a.createElement("p",{className:"txt_green m-b-none"},"（小孩定義：年滿2歲(含)以上未滿12歲。嬰兒定義：未滿2歲。)"))},s=function(e){var n=e.onchange;return o.a.createElement("label",{className:"children_age_select"},o.a.createElement("select",{onChange:n},o.a.createElement("option",{value:"0"},"0歲"),o.a.createElement("option",{value:"1"},"1歲"),o.a.createElement("option",{value:"2"},"2歲"),o.a.createElement("option",{value:"3"},"3歲"),o.a.createElement("option",{value:"4"},"4歲"),o.a.createElement("option",{value:"5"},"5歲"),o.a.createElement("option",{value:"6"},"6歲"),o.a.createElement("option",{value:"7"},"7歲"),o.a.createElement("option",{value:"8"},"8歲"),o.a.createElement("option",{value:"9"},"9歲"),o.a.createElement("option",{value:"10"},"10歲"),o.a.createElement("option",{value:"11"},"11歲"),o.a.createElement("option",{value:"12"},"12歲")))},u=function(e){var n=e.ageArray,t=e.onChange,a=e.roomCount,r=e.target;return o.a.createElement("div",{className:"children_ages_section"},o.a.createElement("span",{className:"row_title"},"小孩年齡"),o.a.createElement("div",{className:"age_select_section"},n.map(function(e,n){return o.a.createElement(s,{key:n,onchange:function(e){t(a,r,n,e.target.value)},defaultValue:e})})))},d=function(e){var n=e.roomCount,t=e.adult,a=e.childrenWithBed,i=e.childrenNoBed,c=e.onClickAdd,l=e.onClickMinus,s=e.onChangeChildAge,d=a.length,p=i.length;return o.a.createElement("section",{className:"room_list_section"},o.a.createElement("h4",{className:"room_count_title"},"第".concat(n+1,"間")),o.a.createElement("div",{className:"room_list_row"},o.a.createElement("span",{className:"row_title"},"成人"),o.a.createElement(r.a,{max:8,min:1,count:t,btnClassMinus:"ic_rcln toolcancelb",btnClassAdd:"ic_rcln tooladdb",onClickAdd:function(){c(n,"adult")},onClickMinus:function(){l(n,"adult")}})),o.a.createElement("div",{className:"child_row"},o.a.createElement("div",{className:"room_list_row"},o.a.createElement("div",{className:"child_count_control"},o.a.createElement("span",{className:"row_title"},"小孩佔床"),o.a.createElement(r.a,{max:3,min:0,count:d,btnClassMinus:"ic_rcln toolcancelb",btnClassAdd:"ic_rcln tooladdb",onClickAdd:function(){c(n,"childrenWithBed")},onClickMinus:function(){l(n,"childrenWithBed")}})),0<d?o.a.createElement(u,{ageArray:a,onChange:s,roomCount:n,target:"childrenWithBed"}):null),o.a.createElement("div",{className:"room_list_row"},o.a.createElement("div",{className:"child_count_control"},o.a.createElement("span",{className:"row_title"},"小孩不佔床"),o.a.createElement(r.a,{max:3,min:0,count:p,btnClassMinus:"ic_rcln toolcancelb",btnClassAdd:"ic_rcln tooladdb",onClickAdd:function(){c(n,"childrenNoBed")},onClickMinus:function(){l(n,"childrenNoBed")}})),0<p?o.a.createElement(u,{ageArray:i,onChange:s,roomCount:n,target:"childrenNoBed"}):null)))}},359:function(e,n,t){(e.exports=t(319)(!1)).push([e.i,"@charset \"UTF-8\";\n.page_content .act_rajx .item, .act_wrap_container .act_rajx .item {\n  font-size: 14px;\n  line-height: 45px;\n  border-bottom: 1px solid #e3e3e3;\n  padding: 0 10px; }\n\n.page_content .act_rajx, .act_wrap_container .act_rajx {\n  position: static;\n  border: none;\n  font-size: 14px;\n  background: transparent;\n  box-shadow: none; }\n\n.children_age_select > select, .room_count_select > select {\n  background-color: #fff;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  width: 100%;\n  height: 100%;\n  padding: 0 5px;\n  border-radius: 0;\n  border: 1px solid #ccc;\n  font-size: 16px; }\n\n.children_age_select:after, .room_count_select:after {\n  content: '';\n  position: absolute;\n  top: 43%;\n  right: 10px;\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 6px 5px 0 5px;\n  border-color: #000544 transparent transparent transparent;\n  pointer-events: none; }\n\n.txt_green {\n  color: #24a07d; }\n\n.searching {\n  margin: 0;\n  padding: 10px;\n  font-size: 16px;\n  font-weight: bold; }\n\nselect::-ms-expand {\n  display: none; }\n\n.vacation_personal_mobile,\n.vacation_personal_pc {\n  position: relative; }\n  .vacation_personal_mobile input,\n  .vacation_personal_mobile select,\n  .vacation_personal_mobile .int_rcln_input,\n  .vacation_personal_pc input,\n  .vacation_personal_pc select,\n  .vacation_personal_pc .int_rcln_input {\n    color: #0077b3;\n    font-size: 16px;\n    font-weight: bold; }\n  .vacation_personal_mobile .st_rcln .dropdown-place-holder.selected,\n  .vacation_personal_pc .st_rcln .dropdown-place-holder.selected {\n    color: #0077b3; }\n  .vacation_personal_mobile > .bt_rcnb,\n  .vacation_personal_pc > .bt_rcnb {\n    z-index: 4; }\n\n.vacation_personal_pc > .bt_rcnb {\n  position: absolute;\n  right: 0;\n  bottom: 0; }\n  .vacation_personal_pc > .bt_rcnb.moreSearchIsActive {\n    position: relative;\n    float: right;\n    margin-top: 10px; }\n\n.vacation_personal_mobile {\n  padding-bottom: 50px; }\n  .vacation_personal_mobile > .bt_rcnb {\n    width: calc(100% - 20px);\n    position: fixed;\n    right: 10px;\n    bottom: 10px; }\n\n.room_list_section .room_count_title,\n.room_list_section .room_list_row {\n  margin-bottom: 10px; }\n\n.room_list_section .row_title {\n  min-width: 5em;\n  display: inline-block;\n  margin-right: 15px;\n  vertical-align: middle; }\n\n.children_ages_section,\n.age_select_section {\n  display: flex;\n  align-items: center; }\n\n.age_select_section {\n  flex: 1;\n  height: 30px;\n  align-items: stretch;\n  margin-top: 10px; }\n\n.children_age_select {\n  position: relative;\n  flex: 1;\n  margin-right: 5px; }\n  .children_age_select:last-child {\n    margin-right: 0; }\n\n.room_count_select {\n  display: block;\n  position: relative;\n  line-height: 38px;\n  height: 40px;\n  width: 370px;\n  margin-bottom: 10px; }\n  .room_count_select > select {\n    padding-left: 5em; }\n  .room_count_select:before {\n    content: '\\9593\\6578:';\n    color: #999;\n    position: absolute;\n    left: 10px;\n    top: 0;\n    line-height: 38px;\n    z-index: 1; }\n\n.page_content {\n  touch-action: manipulation; }\n  .page_content select,\n  .page_content input {\n    font-size: 16px; }\n\n.input_compose {\n  position: relative; }\n  .input_compose .room_list_wrap_container,\n  .input_compose .act_wrap_container,\n  .input_compose .wrap_container {\n    position: absolute;\n    top: 100%;\n    left: 0;\n    border: solid 1px #ddd;\n    background-color: #fff;\n    z-index: 15; }\n    .input_compose .room_list_wrap_container .close_btn,\n    .input_compose .act_wrap_container .close_btn,\n    .input_compose .wrap_container .close_btn {\n      position: absolute;\n      right: 5px;\n      top: 5px;\n      z-index: 1;\n      background-color: transparent;\n      border: none;\n      font-weight: bold;\n      outline: none; }\n\n.act_wrap_container {\n  width: 450px;\n  overflow-y: auto;\n  max-height: 535px;\n  /* Track */\n  /* Handle */\n  /* Handle on hover */ }\n  .act_wrap_container::-webkit-scrollbar {\n    width: 6px; }\n  .act_wrap_container::-webkit-scrollbar-track {\n    background: #fff; }\n  .act_wrap_container::-webkit-scrollbar-thumb {\n    background: #d8d8d8; }\n  .act_wrap_container::-webkit-scrollbar-thumb:hover {\n    background: #555; }\n  .act_wrap_container .act_rajx .close {\n    display: none; }\n\n.wrap_container {\n  padding: 0px;\n  width: 660px; }\n\n.room_list_wrap_container {\n  width: 700px;\n  padding: 15px; }\n  .room_list_wrap_container > .st_rcln {\n    width: 370px; }\n\n.moreSearch {\n  margin-top: 10px; }\n  .moreSearch > .show_text {\n    cursor: pointer;\n    margin: 0; }\n  .moreSearch .control_arrow {\n    color: #a3abb0;\n    display: inline-block;\n    line-height: 1;\n    font-size: 12px;\n    margin-left: 5px;\n    transition: -webkit-transform 0.5s cubic-bezier(0.075, 0.82, 0.165, 1);\n    transition: transform 0.5s cubic-bezier(0.075, 0.82, 0.165, 1);\n    transition: transform 0.5s cubic-bezier(0.075, 0.82, 0.165, 1), -webkit-transform 0.5s cubic-bezier(0.075, 0.82, 0.165, 1);\n    -webkit-transform: rotate(0);\n            transform: rotate(0); }\n  .moreSearch.active .moreSeach_content {\n    margin-top: 10px;\n    display: block; }\n  .moreSearch.active .control_arrow {\n    -webkit-transform: rotate(180deg) translateY(2px);\n            transform: rotate(180deg) translateY(2px); }\n\n.moreSeach_content {\n  display: none;\n  background-color: #f1f1f1;\n  padding-top: 10px; }\n  .moreSeach_content > .st_rcln {\n    margin: 0 10px;\n    width: calc(50% - 20px);\n    float: left; }\n  .moreSeach_content:after {\n    display: block;\n    content: '';\n    clear: both; }\n\n@media (min-width: 980px) {\n  .room_list_section > .room_list_row {\n    display: inline-block;\n    vertical-align: top; }\n  .room_list_section .room_count_title,\n  .room_list_section .child_row {\n    display: inline-block;\n    vertical-align: top;\n    margin-bottom: 0; }\n  .room_list_section .room_count_title {\n    line-height: 30px;\n    margin-right: 15px; }\n  .room_list_section .age_select_section {\n    flex: 1;\n    margin-top: 0; }\n  .room_list_section .child_count_control,\n  .room_list_section .children_ages_section {\n    display: inline-flex;\n    align-items: center; }\n  .room_list_section .row_title {\n    min-width: 0;\n    margin-right: 5px; }\n  .room_list_section .child_count_control {\n    margin: 0 10px; }\n    .room_list_section .child_count_control .row_title {\n      min-width: 5em; }\n  .room_list_section .children_age_select {\n    flex: 0 0 70px; } }\n",""])},384:function(e,n,t){"use strict";var a=t(20),o=t.n(a);n.a=function(e){var n=e.data,t=e.onChange,a=Object.keys(n);return o.a.createElement("div",{className:"vacation_select_group"},o.a.createElement("label",{htmlFor:"departure",className:"request"},"出發地"),o.a.createElement("select",{name:"departure",id:"departure",className:"vacation_select",onChange:t},a.length?a.map(function(e){return o.a.createElement("option",{key:e,value:e},n[e])}):null))}},385:function(e,n,t){"use strict";var a=t(321);n.a=function(e){var n=e.Departure,t=e.Destination,o=e.roomlist,r=e.roomage,i=e.Days,c=e.Airline,l=e.clskd,s=e.noTrans,u=e.Keywords,d=e.FromDate,p=e.ToDate,m=e.fthotel,h=e.hrefTarget;if(!d.length)return alert("請輸入出發時間");if(!p.length)return alert("請輸入回程時間");if(!t.length&&!u.length)return alert("目的地或關鍵字擇一必填");var f={Departure:n,Destination:t,roomlist:o,roomage:r,Days:i,Airline:c,clskd:l,noTrans:s,Keywords:u,FromDate:d.replace(/\-/g,""),ToDate:p.replace(/\-/g,""),fthotel:m},_=Object(a.f)(f);window.open("".concat("https://vacation.liontravel.com/","?").concat(_),h)}},386:function(e,n,t){var a=t(359);"string"==typeof a&&(a=[[e.i,a,""]]);var o=t(320)(a,{hmr:!0,transform:void 0,insertInto:void 0});a.locals&&(e.exports=a.locals),e.hot.accept(359,function(){var n=t(359);if("string"==typeof n&&(n=[[e.i,n,""]]),!function(e,n){var t,a=0;for(t in e){if(!n||e[t]!==n[t])return!1;a++}for(t in n)a--;return 0===a}(a.locals,n.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");o(n)}),e.hot.dispose(function(){o()})}}]);