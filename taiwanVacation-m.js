(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{304:function(t,e,n){"use strict";n.r(e);var a=n(338),i=n.n(a),o=n(316),r=n.n(o),c=n(317),l=n.n(c),s=n(318),u=n.n(s),d=n(319),p=n.n(d),h=n(320),f=n.n(h),m=n(321),v=n.n(m),g=n(322),_=n.n(g),b=n(327),w=n.n(b),y=n(17),x=n.n(y),D=n(326),k=(n(83),n(328)),S=n(350),C=n(349),E=n(340),M=n(333),T=n(329),N=n(337),I=n(363),Y=n(353),R=n(364),j=(n(351),n(115)),A=n.n(j),W=n(346),O=n(354),F=(n(465),[{catalogueName:"城市",catafilter:function(t){return t}}]),L=function(t){return t.forEach(function(t){t.txt="".concat(t.text)}),t},V=function(t){function e(t){var n;return r()(this,e),n=u()(this,p()(e).call(this,t)),_()(v()(v()(n)),"getData",function(t){-1!==t.indexOf(".json")?fetch(t,{method:"GET"}).then(function(t){return t.json()}).then(function(t){n._getDataCallBack(t)}):Object(D.c)(n.props.fetchPath,function(t){n._getDataCallBack(t)})}),_()(v()(v()(n)),"_getDataCallBack",function(t){var e=[],a=Object.keys(t.vArea._9);a.map(function(n,i){var o=Object.keys(t.vTcity[a[i]]);o.map(function(n,r){var c=o[r],l=t.vTcity[a[i]][o[r]],s={vArea:a[i],vLineText:t.vArea._9["".concat(a[i])],vLinewebarea:"_",vLinetravel:c,vLinetravelText:l,text:"".concat(l,"-").concat(t.vArea._9["".concat(a[i])]),vTcity:"".concat(c),value:"_9-".concat(a[i],"-").concat(c)};e.push(s)})}),n.fetchData=e,n.forceUpdate()}),_()(v()(v()(n)),"emitPushData",function(t){var e=n.props.selectedData,a=0<e.length?e[0].text+"-"+e[0].vLinetravelText:"",i=t?t.text+"-"+t.vLinetravelText:"",o=a===i?"":i;t?(n.props.onChange&&n.props.onChange(t),n.setState({keyword:o,showDtm:!0})):(n.setState({keyword:"",showDtm:!0}),n.props.onChange&&n.props.onChange(""))}),_()(v()(v()(n)),"handleCloseMenu",function(){var t=n.props.selectedData,e=n.state.keyword;if(!n.isMouseDown){if(0<t.length){var a=t?t[0].text:"";e.length!==a.length&&n.setState({keyword:a,showDtm:!0,showAct:!1})}n.setState({showDtm:!0,showAct:!1})}}),_()(v()(v()(n)),"handleMouseDown",function(){n.isMouseDown=!0}),_()(v()(v()(n)),"handleMouseUp",function(){n.isMouseDown=!1}),_()(v()(v()(n)),"handleEmitRemoveData",function(t,e){n.emitPushData([])}),_()(v()(v()(n)),"handleLabelWrapClick",function(){n.searchInput.current.inputDOM.focus()}),_()(v()(v()(n)),"handleChange",function(t){t.target.value?n.setState({keyword:t.target.value,showAct:!0,showDtm:!1}):(n.setState({keyword:"",showAct:!1,showDtm:!0}),n.props.onChange&&n.props.onChange(""))}),n.searchInput=x.a.createRef(),n.state={keyword:"",showDtm:!0,showAct:!1},n.fetchData=[],n.fetchPath=k.i.destination,n}return f()(e,t),l()(e,[{key:"componentDidMount",value:function(){this.getData(this.props.fetchPath)}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var e=t.selectedData.length?t.selectedData[0].text:"";this.setState({keyword:e})}},{key:"render",value:function(){var t=this,e=this.props,n=e.placeholder,a=e.minimumStringQueryLength,i=e.minimumStringQuery,o=e.noMatchText,r=(e.label,e.subLabel),c=e.fetchPath,l=(e.isRequired,e.size),s=e.iconName,u=e.selectedData,d=this.state,p=d.keyword,h=d.showAct,f=d.showDtm,m=u.map(function(t){return t.value});return x.a.createElement("div",{className:"SingleInputMenu m-b-sm w-80p"},x.a.createElement(S.a,{size:l,iconName:s,subComponent:x.a.createElement(D.a,{onClickOutside:this.handleCloseMenu},x.a.createElement("div",{className:"dtm_rcfr-row"},x.a.createElement(T.a,{className:"int_rcln int-tags-single",ref:this.searchInput,placeholder:n,value:p,onChange:function(e){return t.handleChange(e)},onClearValue:function(e){return t.handleEmitRemoveData(e,u)}})),x.a.createElement(O.a,{InputIsFocus:h,url:this.fetchData,minimumStringQueryLength:a,minimumStringQuery:i,searchKeyWord:p,noMatchText:o,ClassName:!h&&"d-no",footer:!1,theme:"future",closeActcallback:function(e){void 0!==e?(t.setState({showAct:!1,keyword:""}),t.emitPushData(e)):t.handleCloseMenu()},changeKey:L,catalogue:F}),x.a.createElement("div",{className:"dtm_rcfr-wrap ".concat(f?"open":null)},x.a.createElement("p",{className:"dtm_rcfr-label"},r),x.a.createElement("span",{className:"dtm_rcfr-close_btn",onClick:this.handleCloseMenu}),x.a.createElement(W.a,{levelKey:["vLine","vArea","vTcity"],onClickItem:this.emitPushData,dataResouce:c,selectedData:m,transformFetchData:function(t){if("string"!=typeof t)return t;var e=(t='"vLine":{"_9":"台灣"},'+t).replace(/\r?\n|\r/g,"").replace(/(?:var|let|const)\s(\w+)\s=/g,'"$1":').replace(/;/g,",").replace(/,$/g,"").replace(/'/g,'"');return JSON.parse("{"+e+"}")}})))}))}}]),e}(y.Component);_()(V,"defaultProps",{max:3,minimumStringQueryLength:2}),_()(V,"propTypes",{fetchPath:A.a.string.isRequired,selectedData:A.a.array.isRequired,max:A.a.number,placeholder:A.a.string,minimumStringQueryLength:A.a.number.isRequired,minimumStringQuery:A.a.string,noMatchText:A.a.string,label:A.a.string,onChange:A.a.func});var P=V,z=n(534),H=n(339),K=n.n(H),B=(n(466),{display:"inline-block",marginBottom:"10px",width:"100%",verticalAlign:"top"}),q={marginBottom:"10px"},Q=function(t){function e(t){var n;return r()(this,e),n=u()(this,p()(e).call(this,t)),_()(v()(v()(n)),"switch",function(){var t=JSON.parse(JSON.stringify(n.state.dptSelectedData)),e=JSON.parse(JSON.stringify(n.state.dtnSelectedData));n.setState({dptSelectedData:e,dtnSelectedData:t})}),_()(v()(v()(n)),"dptHandleChange",function(t){var e=n.state.dptSelectedData,a=[];e.some(function(e){return t.value===e.value})?a=e.filter(function(e){return t.value!==e.value}):t.value&&a.push(t),n.setState({dptSelectedData:a})}),_()(v()(v()(n)),"dtnHandleChange",function(t){var e=n.state.dtnSelectedData,a=[];e.some(function(e){return t.value===e.value})?a=e.filter(function(e){return t.value!==e.value}):t.value&&a.push(t),n.setState({dtnSelectedData:a})}),_()(v()(v()(n)),"handleChange",function(t){n.state.selectedData;var e=[];t.value&&e.push(t),n.setState({selectedData:e})}),_()(v()(v()(n)),"setValue",function(t){n.setState({obj:t})}),n.state={selectedData:[],dptSelectedData:[],dtnSelectedData:[]},n.fetchPath=k.i.destination,n}return f()(e,t),l()(e,[{key:"closeNvbRslb",value:function(){this.props.closeNvbRslb()}},{key:"getSelect",value:function(){if(0<this.state.selectedData.length){var t=this.state.selectedData[0].vTcity.replace("_",""),e=this.state.selectedData[0].text;this.props.getdatavTcity(t,e)}else 0===this.state.selectedData.length&&this.props.getdatavTcity("","")}},{key:"render",value:function(){var t=this,e=this.state,n=e.selectedData;return e.dptSelectedData,e.dtnSelectedData,x.a.createElement("div",{style:w()({},w()({},q,B)),className:"nvbRslb_destination"},x.a.createElement("div",{className:"nvb_rslb_title"},x.a.createElement("span",{className:"nvb_rslb_goBack",onClick:function(){t.closeNvbRslb()}},x.a.createElement(M.a,{name:"toolbefore"})),x.a.createElement("div",{className:"txt-center"},"目的地")),x.a.createElement("div",{className:"d-f"},x.a.createElement(x.a.Fragment,null,x.a.createElement(P,{className:"SingleInputMenu",size:"",fetchPath:this.fetchPath,selectedData:n,placeholder:"請選擇/可輸入目的地",minimumStringQueryLength:2,minimumStringQuery:"請輸入至少兩個文字",noMatchText:"很抱歉，找不到符合的項目",subLabel:"找不到選項？請輸入關鍵字查詢",onChange:this.handleChange})),x.a.createElement(N.a,{prop:"string",className:"m-l-xs w-15p",md:!0,radius:!0,whenClick:function(){t.getSelect()}},"確定")))}}]),e}(y.Component),U=function(t){function e(t){var n;return r()(this,e),(n=u()(this,p()(e).call(this,t))).state={data:[],searchKeyWord:"",selectText:"",isFocus:!1,show:!0,selectedData:[]},n.fetchData=n.fetchData.bind(v()(v()(n))),n.AbortController=null,n}return f()(e,t),l()(e,[{key:"_inputOnChangeHandler",value:function(t){var e=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){e.fetchData(t)},500)}},{key:"fetchData",value:function(t){var e=this;this.AbortController&&this.AbortController.abort(),this.AbortController=new AbortController;var n=this.AbortController.signal,a=k.i.keyword;fetch(a,{method:"GET",mode:"cors",signal:n,headers:new Headers({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"})}).then(function(t){return t.json()}).then(function(n){return e.processData(n,t)}).catch(function(t){})}},{key:"clearWord",value:function(t){this.setState({selectText:t})}},{key:"isFocus",value:function(t){this.state.show,this.setState({isFocus:t,show:!0})}},{key:"processData",value:function(t,e){var n=new Promise(function(e,n){t.Destinations.map(function(t){t.level1=t.Kind,t.level2=t.KindName,t.level3=t.Code,t.txt=t.Name,delete t.Kind,delete t.KindName,delete t.Code,delete t.Name}),e(t)});return this.setState({data:t.Destinations,searchKeyWord:e}),n}},{key:"closeNvbRslb",value:function(){this.props.closeNvbRslb()}},{key:"getSelect",value:function(){this.props.getdataKeyword(this.state.selectText)}},{key:"render",value:function(){var t=this,e=this.state.selectedData;return 0<e.length&&e[0].text,e.map(function(t){return t.value}),x.a.createElement("div",null,x.a.createElement("div",{className:"nvb_rslb_title"},x.a.createElement("span",{className:"nvb_rslb_goBack",onClick:function(){t.closeNvbRslb()}},x.a.createElement(M.a,{name:"toolbefore"})),x.a.createElement("div",{className:"txt-center"},"關鍵字")),x.a.createElement("div",{className:"m_keyWord"},x.a.createElement(z.a,{containerClass:"int_rcln blue request",labelClass:"",inputClass:"",keyWord:this.state.selectText,clearWord:function(e){return t.clearWord(e)},onChange:function(e){return t._inputOnChangeHandler(e)},isFocus:function(e){return t.isFocus(e)}}),x.a.createElement(N.a,{prop:"string",className:"m-l-xs w-15p",md:!0,radius:!0,whenClick:function(){t.getSelect()}},"確定")),x.a.createElement(R.a,{containerClass:!this.state.show&&"d-no",sectionClass:"",itemClass:"",titleClass:"",data:this.state.data,matchWord:this.state.searchKeyWord,closeBtnOnClick:function(){return t.setState({show:!1})},getItemClickValue:function(e){return t.setState({selectText:e.txt})},isFocus:this.state.isFocus,showText:this.state.showText,noMatchText:"很抱歉，找不到符合的項目",minimumStringQuery:"請至少輸入兩個字",minimumStringQueryLength:2,footer:!0,rules:[{title:"飯店",icon:x.a.createElement(M.a,{name:"hotelforeignBookingf",key:1})}]}))}}]),e}(y.Component),J=function(t){function e(){var t,n;r()(this,e);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=u()(this,(t=p()(e)).call.apply(t,[this].concat(i))),_()(v()(v()(n)),"state",{visible:!1,sTcity:"",sTcitytxt:""}),_()(v()(v()(n)),"openPage",function(){n.setState({visible:!0})}),n}return f()(e,t),l()(e,[{key:"getdatavTcity",value:function(t,e){this.setState({sTcity:t,sTcitytxt:e,visible:!1}),this.props.getdatavTcity(t)}},{key:"render",value:function(){var t=this;return x.a.createElement("div",{className:"Destination m-b-sm"},x.a.createElement(T.a,{request:!0,label:"目的地",placeholder:"請輸入/選擇目的地",breakline:!0,icon:x.a.createElement(M.a,{name:"toolmap"}),value:this.state.sTcitytxt,onClick:this.openPage}),x.a.createElement(Y.a,{visible:this.state.visible,ContentComponent:x.a.createElement(Q,{getdatavTcity:function(e,n){return t.getdatavTcity(e,n)},closeNvbRslb:function(e){t.setState({visible:!1})}}),direction:"right",width:"100%"}))}}]),e}(y.Component),G=function(t){function e(){var t,n;r()(this,e);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=u()(this,(t=p()(e)).call.apply(t,[this].concat(i))),_()(v()(v()(n)),"state",{visible:!1,sHotelName:""}),_()(v()(v()(n)),"openPage",function(){n.setState({visible:!0})}),n}return f()(e,t),l()(e,[{key:"getdataKeyword",value:function(t){this.setState({visible:!1,sHotelName:t}),this.props.getdataKeyword(t)}},{key:"render",value:function(){var t=this;return x.a.createElement("div",{className:"keywordComponent m-b-sm"},x.a.createElement(T.a,{label:"關鍵字",placeholder:"飯店名稱、產品名稱或代碼",breakline:!0,value:this.state.sHotelName,onClick:this.openPage,onClearValue:function(e){t.setState({value:""})}}),x.a.createElement(Y.a,{visible:this.state.visible,ContentComponent:x.a.createElement(U,{closeNvbRslb:function(e){t.setState({visible:!1})},getdataKeyword:function(e){t.getdataKeyword(e)},getSelect:function(e){t.getSelect(e)}}),direction:"right",width:"100%"}))}}]),e}(y.Component),$=function(t){function e(t){var n;return r()(this,e),n=u()(this,p()(e).call(this,t)),_()(v()(v()(n)),"calendar",null),_()(v()(v()(n)),"handleClose",function(){n.setState({activeInput:null})}),_()(v()(v()(n)),"handleConfirm",function(){var t=n.calendar.state,e=t.selectedStartDate,a=t.selectedEndDate;n.setState(function(t){return{selectedStartDate:e,selectedEndDate:a,activeInput:null}})}),_()(v()(v()(n)),"selectSFcity",function(t){t&&n.setState({sFcity:t})}),_()(v()(v()(n)),"getTools",function(t,e){var a=n.state.items,i=[];a[t]=e;for(var o=0;o<5;o++)a[o]&&i.push(o+1);n.setState({items:a,Tools:i})}),n.state={data:[],searchKeyWord:"",selectedStartDate:"",selectedEndDate:"",activeInput:null,sFcountry:"TW",sFcity:"",sTcountry:"TW",sTcity:"",sFreekind:"",sFreekind1:"",sDatef:"20181023",sDatet:"20181031",sHotelName:"",items:{0:!1,1:!1,2:!1,3:!1,4:!1},Tools:[]},n.option=[{text:"不限",value:""},{text:"台北松山",value:"TSA"},{text:"台東豐年",value:"TTT"},{text:"高雄小港",value:"KHH"},{text:"台中",value:"RMQ"},{text:"花蓮",value:"HUN"},{text:"澎湖馬公",value:"MZG"},{text:"金門",value:"KNH"}],n}return f()(e,t),l()(e,[{key:"showCalendar",value:function(t){this.setState(function(e){return i()({},e,{activeInput:t})})}},{key:"getdataKeyword",value:function(t){this.setState({sHotelName:t})}},{key:"getdatavTcity",value:function(t){this.setState({sTcity:t})}},{key:"handleAllSubmit",value:function(){var t=this.state,e=t.sFcity,n=t.sTcity,a=t.sDatef,i=t.sDatet,o=t.Tools,r=t.sHotelName,c=a.replace(/-/g,""),l=i.replace(/-/g,"");window.open("https://www.liontravel.com/webft/webftse01.aspx?"+"sFcountry=TW&sTcountry=TW&sFreekind1=&sFcity=".concat(e,"&sTcity=").concat(n,"&sDatef=").concat(c,"&sDatef=").concat(l,"&sTools=").concat(o,"&sHotelName=").concat(r),this.props.hrefTarget)}},{key:"render",value:function(){var t=this,e=this.state,n=e.selectedStartDate,a=e.selectedEndDate,i=e.activeInput,o=0===i||1===i;return x.a.createElement("div",{className:"vacation_taiwan_m m-t-sm"},x.a.createElement(S.a,{isRequired:!0,label:"出發地",iconName:"toolmap",subComponent:x.a.createElement(E.a,{option:this.option,placeholder:"目的地",onChangeCallBack:function(e){return t.setState({sFcity:e})}})}),x.a.createElement(J,{getdatavTcity:function(e){t.getdatavTcity(e)}}),x.a.createElement("div",{className:"calendar_compose"},x.a.createElement("div",{className:"input_group"},x.a.createElement(T.a,{request:!0,placeholder:"YYYY/MM/DD",label:"出發區間",icon:x.a.createElement(M.a,{name:"tooldate"}),onClick:function(){t.showCalendar(0)},value:n}),x.a.createElement("span",{className:"cal_icon"},"~"),x.a.createElement(T.a,{placeholder:"YYYY/MM/DD",onClick:function(){t.showCalendar(1)},value:a})),x.a.createElement(Y.a,{visible:o,direction:"right"},x.a.createElement("span",{className:"nvb_rslb_goBack",onClick:this.handleClose},x.a.createElement(M.a,{name:"toolbefore"})),o&&x.a.createElement(I.a,{doubleChoose:!0,selectedStartDate:n,selectedEndDate:a,endMonth:K()().add(12,"months").format("YYYY-MM"),startDate:K()().add(1,"days").format("YYYY-MM-DD"),activeInput:i,startLabelTitle:"入住日期",endLabelTitle:"退房日期",ref:function(e){t.calendar=e},onClickConfirm:this.handleConfirm,customDiffTxt:function(t){return"共"+(t+1)+"天"}}))),x.a.createElement(G,{getdataKeyword:function(e){t.getdataKeyword(e)}}),x.a.createElement("div",{className:"m-b-sm"},[{name:"1",value:"highRail",text:"高鐵"},{name:"2",value:"train",text:"火車"},{name:"3",value:"airCraft",text:"飛機"},{name:"4",value:"bus",text:"巴士"},{name:"5",value:"carRental",text:"租車"}].map(function(e,n){return x.a.createElement(C.a,{type:"checkbox",key:n,name:e.name,value:e.value,className:"blue m-r-sm ",textContent:e.text,whenChange:function(n){return t.getTools(e.name-1,n)}})})),x.a.createElement("div",{className:"txt-right"},x.a.createElement(N.a,{prop:"string",lg:!0,radius:!0,whenClick:function(){return t.handleAllSubmit()}},"搜尋")))}}]),e}(y.Component);n.d(e,"default",function(){return $})},315:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"e",function(){return r}),n.d(e,"d",function(){return c}),n.d(e,"c",function(){return l}),n.d(e,"a",function(){return s});var a=n(334),i=n.n(a);function o(t,e){fetch(t,{method:"GET"}).then(function(t){return t.text()}).then(function(t){var e=t.replace(/\r?\n|\r/g,"").replace(/(?:var|let|const)\s(\w+)\s=/g,'"$1":').replace(/;/g,",").replace(/,$/g,"").replace(/'/g,'"');return JSON.parse("{"+e+"}")}).then(function(t){e(t)})}function r(t){var e=t,n="",a=Object.keys(e).length,i=0;for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n+=a<=++i?o+"="+e[o]:o+"="+e[o]+"&");return n}function c(t){var e=t.split("-"),n=i()(e,2),a=n[0],o=n[1];return[a=Number(a),o=Number(o)]}function l(){return new Date((new Date).getFullYear(),(new Date).getMonth(),1,8).toISOString().slice(0,7)}var s={fetchJsToObj:o,findHighestZIndex:function(t){for(var e=document.getElementsByTagName(t),n=0,a=0;a<e.length;a++){var i=document.defaultView.getComputedStyle(e[a],null).getPropertyValue("z-index");n<i&&"auto"!==i&&(n=i)}return parseInt(n,10)},getDomPosition:function(t,e){return"top"===e?t.getBoundingClientRect()[e]+window.pageYOffset:t.getBoundingClientRect()[e]},toQueryString:r,getYearAndMonth:c,getNowMonth:l}},325:function(t,e,n){"use strict";n.d(e,"a",function(){return E});var a=n(327),i=n.n(a),o=n(330),r=n.n(o),c=n(316),l=n.n(c),s=n(317),u=n.n(s),d=n(318),p=n.n(d),h=n(319),f=n.n(h),m=n(320),v=n.n(m),g=n(321),_=n.n(g),b=n(322),w=n.n(b),y=n(17),x=n.n(y),D=n(84),k=n.n(D),S=n(115),C=n.n(S),E=function(t){function e(t){var n;return l()(this,e),n=p()(this,f()(e).call(this,t)),w()(_()(_()(n)),"handle",function(t){if(!n.__domNode.contains(t.target)){var e=n.props.onClickOutside;"function"==typeof e&&e(t)}}),n.isTouch=!1,n.isClickInSide=!1,n.isUnMounted=!1,n.__domNode=null,n.__wrappedInstance=null,n}return v()(e,t),u()(e,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handle,!0)}},{key:"componentWillUnmount",value:function(){this.isUnMounted=!0,document.removeEventListener("click",this.handle,!0)}},{key:"render",value:function(){var t=this,e=this.props,n=e.children,a=(e.onClickOutside,r()(e,["children","onClickOutside"]));return x.a.createElement("div",i()({},a,{ref:function(e){t.__domNode=k.a.findDOMNode(e),t.__wrappedInstance=e}}),n)}}]),e}(y.Component);w()(E,"propTypes",{onClickOutside:C.a.func.isRequired})},326:function(t,e,n){"use strict";var a=n(315),i=n(325),o=n(327),r=n.n(o),c=n(330),l=n.n(c),s=n(316),u=n.n(s),d=n(317),p=n.n(d),h=n(318),f=n.n(h),m=n(319),v=n.n(m),g=n(320),_=n.n(g),b=n(321),w=n.n(b),y=n(322),x=n.n(y),D=n(17),k=n.n(D),S=n(115),C=n.n(S),E=function(t){function e(t){var n;return u()(this,e),n=f()(this,v()(e).call(this,t)),x()(w()(w()(n)),"handle",function(t){if(n.isClickInSide)n.isClickInSide=!1;else if("touchend"===t.type&&(n.isTouch=!0),"click"!==t.type||!n.isTouch){var e=n.props.onClickOutside;!1===n.isUnMounted&&e(t)}}),x()(w()(w()(n)),"handleClick",function(){n.isClickInSide=!0}),n.isTouch=!1,n.isClickInSide=!1,n.isUnMounted=!1,n}return _()(e,t),p()(e,[{key:"componentDidMount",value:function(){document.addEventListener("touchend",this.handle,!1),document.addEventListener("click",this.handle,!1)}},{key:"componentWillUnmount",value:function(){this.isUnMounted=!0,document.removeEventListener("touchend",this.handle,!1),document.removeEventListener("click",this.handle,!1)}},{key:"render",value:function(){var t=this.props,e=t.children,n=(t.onClickOutside,l()(t,["children","onClickOutside"]));return k.a.createElement("div",r()({},n,{onClick:this.handleClick}),e)}}]),e}(D.Component);x()(E,"propTypes",{onClickOutside:C.a.func.isRequired}),n.d(e,"b",function(){return a.a}),n.d(e,"c",function(){return a.b}),n.d(e,"f",function(){return a.e}),n.d(e,"e",function(){return a.d}),n.d(e,"d",function(){return a.c}),n.d(e,"a",function(){return i.a})},328:function(t,e,n){"use strict";n.d(e,"f",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"a",function(){return r}),n.d(e,"c",function(){return c}),n.d(e,"d",function(){return l}),n.d(e,"h",function(){return s}),n.d(e,"g",function(){return u}),n.d(e,"i",function(){return d}),n.d(e,"e",function(){return p}),n(341);var a,i=(a={travel:{place:"./json/TRS1NEWTRAVEL.js"},"flight.international":{place:"./json/flightsInternationalDestinationCsutomMenu.js",placeAutoComplete:"./json/getarraytkt6.js",filter:"./json/country.json"},"flight.chinese":{place:"./json/GetArrayTkt5.js"},"flight.taiwan":{place:"./json/twflightdest.json"},hotel:{destination:"./json/hotelMenu.json",destinationAutoComplete:"https://hotel.liontravel.com/search/keyword"},"vacation.personal":{departure:"./json/vacationDeparture.json",destination:"./json/vacationdata.json",destinationAutoComplete:"https:////vacation.liontravel.com/ajax/getdestination",keyword:"https:////vacation.liontravel.com/search/keyword"},"vacation.group":{place:"./json/TRS1NEWTRAVELFIT.js"},"vacation.taiwan":{destination:"./json/freeTaiwan.js",keyword:"https://www.liontravel.com/webhl/gethotelnamelist.ashx"},themeTravel:{place:"./json/TRS1PSUBJECT.js"}}).travel,o=a["flight.international"],r=a["flight.chinese"],c=a["flight.taiwan"],l=a.hotel,s=a["vacation.personal"],u=a["vacation.group"],d=a["vacation.taiwan"],p=a.themeTravel},332:function(t,e,n){(t.exports=n(323)(!1)).push([t.i,".input_group {\n  display: flex;\n  margin-bottom: 10px;\n  border: 1px solid #ddd; }\n  .input_group .int_rcln .int_rcln_input {\n    color: #0077b3;\n    font-weight: bold;\n    border: none; }\n    .input_group .int_rcln .int_rcln_input:focus {\n      border-color: #ddd; }\n  .input_group .int_rcln:last-of-type {\n    height: 50px; }\n    .input_group .int_rcln:last-of-type .int_rcln_input {\n      padding-top: 26px; }\n  .input_group .cal_icon {\n    color: #999;\n    display: inline-flex;\n    align-items: center; }\n  .input_group > div {\n    flex: 1; }\n  .input_group .vacation_select_group {\n    padding: 6px 0; }\n    .input_group .vacation_select_group > label,\n    .input_group .vacation_select_group > select {\n      padding: 0 6px;\n      line-height: 1; }\n    .input_group .vacation_select_group > label {\n      display: block;\n      color: #aaa;\n      font-size: 16px; }\n      .input_group .vacation_select_group > label.request:after {\n        content: '*';\n        display: inline-block;\n        color: #e10500;\n        vertical-align: middle;\n        line-height: 1;\n        margin-top: 4px; }\n    .input_group .vacation_select_group > select {\n      border: none;\n      outline: none;\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      appearance: none;\n      width: 100%;\n      font-size: 16px;\n      color: #0077b3;\n      font-weight: bold; }\n",""])},336:function(t,e,n){(t.exports=n(323)(!1)).push([t.i,".calendar_compose {\n  position: relative; }\n  .calendar_compose .content {\n    padding: 30px 10px 10px;\n    border: solid 1px #ddd;\n    background-color: #fff;\n    position: absolute;\n    top: 100%;\n    left: 0;\n    z-index: 5; }\n    .calendar_compose .content .close_btn {\n      position: absolute;\n      right: 5px;\n      top: 5px;\n      z-index: 1;\n      background-color: transparent;\n      border: none;\n      font-weight: bold;\n      outline: none; }\n",""])},344:function(t,e,n){var a=n(332);"string"==typeof a&&(a=[[t.i,a,""]]);var i=n(324)(a,{hmr:!0,transform:void 0,insertInto:void 0});a.locals&&(t.exports=a.locals),t.hot.accept(332,function(){var e=n(332);if("string"==typeof e&&(e=[[t.i,e,""]]),!function(t,e){var n,a=0;for(n in t){if(!e||t[n]!==e[n])return!1;a++}for(n in e)a--;return 0===a}(a.locals,e.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(e)}),t.hot.dispose(function(){i()})},347:function(t,e,n){var a=n(336);"string"==typeof a&&(a=[[t.i,a,""]]);var i=n(324)(a,{hmr:!0,transform:void 0,insertInto:void 0});a.locals&&(t.exports=a.locals),t.hot.accept(336,function(){var e=n(336);if("string"==typeof e&&(e=[[t.i,e,""]]),!function(t,e){var n,a=0;for(n in t){if(!e||t[n]!==e[n])return!1;a++}for(n in e)a--;return 0===a}(a.locals,e.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(e)}),t.hot.dispose(function(){i()})},351:function(t,e,n){"use strict";var a=n(334),i=n.n(a),o=n(338),r=n.n(o),c=n(316),l=n.n(c),s=n(317),u=n.n(s),d=n(318),p=n.n(d),h=n(319),f=n.n(h),m=n(320),v=n.n(m),g=n(321),_=n.n(g),b=n(322),w=n.n(b),y=n(17),x=n.n(y),D=n(339),k=n.n(D),S=n(357),C=n(329),E=n(333),M=n(326),T=(n(347),n(344),function(t){function e(t){var n;return l()(this,e),n=p()(this,f()(e).call(this,t)),w()(_()(_()(n)),"clearValue",function(t){return"start"===t?n.setState(function(t){return r()({},t,{startInputValue:"",selectedStartDate:""})},n.onChange):n.setState(function(t){return r()({},t,{selectedEndDate:"",endInputValue:""})},n.onChange)}),w()(_()(_()(n)),"closeCalendar",function(){n.setState(function(t){return r()({},t,{activeInput:null})})}),w()(_()(_()(n)),"checkDate",function(t){var e="start"===t,a=n.state,o=a.selectedStartDate,r=a.selectedEndDate,c=a.startInputValue,l=a.endInputValue,s=e?c:l,u=e?s===o:s===r;if(s.length&&!u){var d=s.match(/^(\d{4})[\-\/]?(\d{2})[\-\/]?(\d{2})$/);if(null===d)return alert("請輸入正確的日期格式(YYYYMMDD) EX: 20180101");var p=i()(d,4),h=(p[0],p[1]),f=p[2],m=p[3],v="".concat(h,"-").concat(f,"-").concat(m),g=k()(v),_=n.calcStartDate();return g.isValid()?g.isBefore(_)?alert("日期小於最小可選日期"):void n.clickDate(v):alert("無效的日期")}}),w()(_()(_()(n)),"inputChange",function(t){var e=t.target.value,a=n.state.activeInput,i="".concat(a,"InputValue");n.setState(function(t){return r()({},t,w()({},i,e))},n.onChange)}),w()(_()(_()(n)),"inputFocus",function(t){n.setState(function(e){return r()({},e,{activeInput:t})})}),w()(_()(_()(n)),"clickDate",function(t){var e=n.state,a=e.activeInput,i=e.selectedStartDate,o="start"===a,r=o?t:i,c=o?"":t;n.setState(function(t){return{activeInput:o?"end":null,selectedStartDate:r,selectedEndDate:c,startInputValue:r,endInputValue:c}},n.onChange)}),n.state={selectedStartDate:"",selectedEndDate:"",startInputValue:"",endInputValue:"",activeInput:null},n}return v()(e,t),u()(e,[{key:"onChange",value:function(){this.props.onChange(this.state)}},{key:"calcStartDate",value:function(){var t=this.state,e=t.selectedStartDate,n=t.activeInput,a=this.props.setStartDate,i=k()();return"end"===n?e.length?e:i.format("YYYY-MM-DD"):"number"==typeof a?0<a?i.add(a,"day").format("YYYY-MM-DD"):i.subtract(a,"day").format("YYYY-MM-DD"):i.format("YYYY-MM-DD")}},{key:"diffDate",value:function(){var t=this.state,e=t.startInputValue,n=t.endInputValue;if(!e.length||!n.length||e.length!==n.length)return"";var a=new Date(e.replace(/\-/g,"/")).getTime();return(new Date(n.replace(/\-/g,"/")).getTime()-a)/864e5}},{key:"setActiveEndDay",value:function(){var t=this.props,e=t.setActiveEnd,n=t.setOtherEnd,a=this.state.selectedStartDate;return"number"==typeof n&&a?k()().add(n,"days").format("YYYY-MM-DD"):k()().add(e,"months").format("YYYY-MM")}},{key:"setEndDay",value:function(){var t=this.props,e=t.setEndDate,n=t.setOtherEnd,a=this.state.selectedStartDate;return"number"==typeof n?a?k()(a).add(n,"days").format("YYYY-MM-DD"):k()().add(e,"months").format("YYYY-MM"):k()().add(e,"months").format("YYYY-MM-DD")}},{key:"render",value:function(){var t=this,e=this.state,n=e.selectedStartDate,a=e.selectedEndDate,i=e.startInputValue,o=e.endInputValue,r=e.activeInput,c=this.props.totleNights,l=this.calcStartDate(),s=this.setActiveEndDay(),u=this.setEndDay();return x.a.createElement(M.a,{onClickOutside:this.closeCalendar},x.a.createElement("div",{className:"calendar_compose"},x.a.createElement("div",{className:"input_group"},x.a.createElement(C.a,{request:!0,placeholder:"YYYY/MM/DD",label:this.props.titleTxt?this.props.titleTxt:"出發區間",icon:x.a.createElement(E.a,{name:"tooldate"}),onFocus:function(){t.inputFocus("start")},onChange:this.inputChange,onBlur:function(){t.checkDate("start")},onClearValue:function(){t.clearValue("start")},value:i.replace(/\-/g,"/")}),x.a.createElement("span",{className:"cal_icon"},"~"),x.a.createElement(C.a,{request:!0,placeholder:"YYYY/MM/DD",onChange:this.inputChange,onFocus:function(){t.inputFocus("end")},onBlur:function(){t.checkDate("end")},onClearValue:function(){t.clearValue("end")},value:o.replace(/\-/g,"/")}),0<this.diffDate()&&c?x.a.createElement("span",{className:"nights"},"共".concat(this.diffDate(),"晚")):null),null===r?null:x.a.createElement("div",{className:"content"},x.a.createElement("button",{className:"close_btn",onClick:this.closeCalendar},"X"),x.a.createElement(S.a,{doubleMonth:!0,doubleChoose:!0,startDate:l,activeStart:k()().format("YYYY-MM"),activeEnd:s,endDate:u,selectedStartDate:n,selectedEndDate:a,onDateClick:this.clickDate}))))}}]),e}(y.PureComponent));w()(T,"defaultProps",{onChange:function(){},setEndDate:12,setActiveEnd:12}),e.a=T},379:function(t,e,n){(t.exports=n(323)(!1)).push([t.i,".SingleInputMenu .dtm_rcfr {\n  position: relative; }\n  .SingleInputMenu .dtm_rcfr-row {\n    display: flex; }\n  .SingleInputMenu .dtm_rcfr-wrap {\n    display: none;\n    position: absolute;\n    top: 100%;\n    left: -1px;\n    width: 690px;\n    padding: 16px 14px 0;\n    background-color: #fff;\n    z-index: 11;\n    border: 1px solid rgba(153, 153, 153, 0.7); }\n    .SingleInputMenu .dtm_rcfr-wrap.open {\n      display: block; }\n  .SingleInputMenu .dtm_rcfr-label {\n    margin: 0 0 12px;\n    font-size: 14px;\n    color: #24a07d; }\n  .SingleInputMenu .dtm_rcfr-close_btn {\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 16px;\n    cursor: pointer; }\n    .SingleInputMenu .dtm_rcfr-close_btn svg {\n      width: 16px;\n      height: 16px; }\n  .SingleInputMenu .dtm_rcfr-selected-wrap {\n    white-space: nowrap; }\n  .SingleInputMenu .dtm_rcfr-selected {\n    display: inline-flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 107px;\n    line-height: 1.3;\n    margin: 0 4px 0 0;\n    padding-left: 4px;\n    font-size: 16px;\n    font-weight: bold;\n    color: #0077b3;\n    background-color: #eaeaea;\n    cursor: pointer; }\n    .SingleInputMenu .dtm_rcfr-selected:last-of-type {\n      margin: 0; }\n    .SingleInputMenu .dtm_rcfr-selected span {\n      width: 80px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap; }\n    .SingleInputMenu .dtm_rcfr-selected i {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 20px;\n      height: 20px; }\n    .SingleInputMenu .dtm_rcfr-selected svg {\n      width: 6px;\n      height: 6px;\n      fill: #999; }\n\n.SingleInputMenu .act_racp {\n  left: 0;\n  min-width: 100%; }\n\n.SingleInputMenu .int_rctg .dtm_rcfr {\n  width: auto;\n  height: auto; }\n\n.SingleInputMenu .int_rcln {\n  height: auto; }\n  .SingleInputMenu .int_rcln_input {\n    border: none;\n    padding: 0;\n    font-weight: bold;\n    color: #0077b3; }\n\n.SingleInputMenu .int_rctg {\n  padding-right: 0; }\n  .SingleInputMenu .int_rctg .int_rcln_input {\n    flex: 0 0 auto; }\n",""])},380:function(t,e,n){(t.exports=n(323)(!1)).push([t.i,"input::-webkit-input-placeholder {\n  color: #999 !important; }\n\ninput:-ms-input-placeholder {\n  color: #999 !important; }\n\ninput::-ms-input-placeholder {\n  color: #999 !important; }\n\ninput::placeholder {\n  color: #999 !important; }\n\n.d-f {\n  display: flex; }\n\n.act_rajx_pos-t {\n  top: 80px !important; }\n\n.fwb-b .dropdown-place-holder {\n  font-weight: 700; }\n  .fwb-b .dropdown-place-holder.selected {\n    color: #0077b3 !important; }\n  .fwb-b .dropdown-place-holder span {\n    color: #999 !important;\n    font-weight: 100; }\n\n.nvb_rslb_title div {\n  font-size: 20px;\n  color: #222;\n  font-weight: bold;\n  padding: 5px 0; }\n\n.dtm_rcfr {\n  width: 100%; }\n  .dtm_rcfr .tabs {\n    background-color: #f1f1f1; }\n    .dtm_rcfr .tabs li {\n      width: 50% !important; }\n\n.vacation_taiwan_pc .st_rcln .ic_rcln {\n  display: block;\n  color: #999;\n  margin: 15px 8px;\n  font-size: 18px;\n  padding: unset;\n  line-height: unset; }\n\n.vacation_taiwan_pc .st_rcln .dropdown-place-holder {\n  padding-left: 30px; }\n\n.vacation_taiwan_pc .SingleInputMenu .icon {\n  width: unset; }\n\n.vacation_taiwan_pc .SingleInputMenu .int-col {\n  padding: unset; }\n\n.vacation_taiwan_pc .calendar_compose .ic_rcln {\n  font-size: 18px;\n  color: #999; }\n\n.vacation_taiwan_pc .calendar_compose .int_rcln_label {\n  font-size: 14px;\n  left: 30px !important; }\n\n.vacation_taiwan_pc .calendar_compose .int_rcln_input {\n  padding-left: 30px !important; }\n\n.vacation_taiwan_pc .pc_keyWord .int_rcln {\n  height: unset; }\n  .vacation_taiwan_pc .pc_keyWord .int_rcln.blue input {\n    color: #0077b3;\n    font-weight: 700; }\n  .vacation_taiwan_pc .pc_keyWord .int_rcln input {\n    width: 100%;\n    border: 0px solid #ddd; }\n\n.vacation_taiwan_pc .pc_keyWord .act_rajx {\n  left: 15px; }\n\n.nvbRslb_destination .SingleInputMenu {\n  margin-left: 16px; }\n  .nvbRslb_destination .SingleInputMenu .int-label {\n    display: none; }\n\n.nvbRslb_destination .bt_rcnb {\n  margin-right: 16px; }\n\n.nvbRslb_destination .int_rctg {\n  border: solid 2px #ff8b88;\n  height: 40px; }\n  .nvbRslb_destination .int_rctg .int-col {\n    padding: 4px 4px 4px 10px; }\n\n.nvbRslb_destination .dtm_rcfr-wrap {\n  padding: 0px;\n  border: none;\n  top: 40px; }\n  .nvbRslb_destination .dtm_rcfr-wrap .dtm_rcfr-label {\n    margin: 11px 0px; }\n  .nvbRslb_destination .dtm_rcfr-wrap .dtm_rcfr {\n    width: 100vw;\n    position: fixed;\n    overflow: scroll;\n    height: calc( 100vh - 100px);\n    margin: 0 -16px; }\n\n.nvbRslb_destination .act_racp {\n  position: fixed;\n  top: 80px;\n  border: none;\n  padding: 0 23px;\n  border: none;\n  outline: none;\n  box-shadow: none;\n  min-width: 99%; }\n  .nvbRslb_destination .act_racp .close {\n    display: none; }\n\n.vacation_taiwan_m .st_rcln {\n  position: static; }\n  .vacation_taiwan_m .st_rcln .real-select {\n    left: 0;\n    top: 0; }\n  .vacation_taiwan_m .st_rcln .dropdown-place-holder {\n    height: 16px;\n    line-height: 16px;\n    font-size: 16px;\n    border: 0;\n    padding: 0;\n    font-weight: bold; }\n\n.vacation_taiwan_m .int_rctg {\n  margin-bottom: 10px; }\n\n.vacation_taiwan_m .Destination .ic_rcln {\n  font-size: 18px;\n  margin: 0px 8px;\n  color: #999;\n  left: unset; }\n\n.vacation_taiwan_m .Destination .int_rcln_label {\n  font-size: 14px;\n  left: 30px !important; }\n\n.vacation_taiwan_m .Destination .int_rcln_input {\n  padding-left: 30px !important;\n  color: #0077b3 !important;\n  font-weight: 700; }\n\n.vacation_taiwan_m .calendar_compose .ic_rcln {\n  font-size: 18px;\n  color: #999; }\n\n.vacation_taiwan_m .calendar_compose .int_rcln_label {\n  font-size: 14px;\n  left: 30px !important; }\n\n.vacation_taiwan_m .calendar_compose .int_rcln_input {\n  padding-left: 30px !important; }\n\n.vacation_taiwan_m .keywordComponent .int_rcln_label {\n  font-size: 14px; }\n\n.vacation_taiwan_m .keywordComponent .int_rcln_input {\n  font-weight: 700;\n  color: #0077b3; }\n\n.vacation_taiwan_m .bt_rcnb {\n  width: 100%;\n  margin-top: 80px; }\n\n.m_keyWord {\n  margin: 0 16px;\n  display: flex; }\n  .m_keyWord label {\n    display: none; }\n  .m_keyWord input {\n    border: 1px solid #ddd;\n    padding: 12px 10px; }\n  .m_keyWord .int_rcln input {\n    width: 100%; }\n  .m_keyWord + .act_rajx {\n    position: static;\n    border: none;\n    color: #24a07d;\n    font-size: 14px;\n    background: transparent;\n    box-shadow: none; }\n    .m_keyWord + .act_rajx .m-place {\n      color: #24a07d; }\n      .m_keyWord + .act_rajx .m-place button {\n        display: none; }\n\n.pc_keyWord .int_rcln {\n  height: unset; }\n  .pc_keyWord .int_rcln input {\n    width: 100%;\n    border: 0px solid #ddd; }\n\n.pc_keyWord .act_rajx {\n  left: 15px; }\n",""])},465:function(t,e,n){var a=n(379);"string"==typeof a&&(a=[[t.i,a,""]]);var i=n(324)(a,{hmr:!0,transform:void 0,insertInto:void 0});a.locals&&(t.exports=a.locals),t.hot.accept(379,function(){var e=n(379);if("string"==typeof e&&(e=[[t.i,e,""]]),!function(t,e){var n,a=0;for(n in t){if(!e||t[n]!==e[n])return!1;a++}for(n in e)a--;return 0===a}(a.locals,e.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(e)}),t.hot.dispose(function(){i()})},466:function(t,e,n){var a=n(380);"string"==typeof a&&(a=[[t.i,a,""]]);var i=n(324)(a,{hmr:!0,transform:void 0,insertInto:void 0});a.locals&&(t.exports=a.locals),t.hot.accept(380,function(){var e=n(380);if("string"==typeof e&&(e=[[t.i,e,""]]),!function(t,e){var n,a=0;for(n in t){if(!e||t[n]!==e[n])return!1;a++}for(n in e)a--;return 0===a}(a.locals,e.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(e)}),t.hot.dispose(function(){i()})}}]);