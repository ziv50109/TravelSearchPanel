(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{296:function(e,t,n){"use strict";n.r(t);var a=n(336),r=n.n(a),l=n(312),c=n.n(l),o=n(313),i=n.n(o),u=n(314),s=n.n(u),p=n(315),d=n.n(p),v=n(316),h=n.n(v),f=n(317),m=n.n(f),_=n(318),g=n.n(_),b=n(20),D=n.n(b),x=n(321),w=n(335),C=n(332),y=n(322),E=n(338),k=n(349),S=n(325),M=n(326),Y=n(115),I=n.n(Y),L=n(334),R=n(342),V=[{catalogueName:"城市",catafilter:function(e){return e}}],N=function(e){return e.forEach(function(e){"_"===e.vLinewebarea?e.txt="".concat(e.text).concat(e.vLinetravelText):e.txt="".concat(e.text,"-").concat(e.vLinetravelText)}),e},T=function(e){var t=e.text,n=e.removeData;return D.a.createElement("p",{className:"dtm_rcfr-selected",onClick:n},D.a.createElement("span",{title:t},t),D.a.createElement("i",null,D.a.createElement("svg",{viewBox:"0 0 10 10"},D.a.createElement("use",{href:"#dtm_rcfr-x"}))))},O=function(e){function t(e){var n;return c()(this,t),n=s()(this,d()(t).call(this,e)),g()(m()(m()(n)),"getData",function(e){-1!==e.indexOf(".json")?fetch(e,{method:"GET"}).then(function(e){return e.json()}).then(function(e){n._getDataCallBack(e)}):Object(x.c)(n.props.fetchPath,function(e){n._getDataCallBack(e)})}),g()(m()(m()(n)),"_getDataCallBack",function(e){var t=e.vLine,a=e.vLinetravel,r=e.vLinewebarea,l=[],c=function(e){if(Object.prototype.hasOwnProperty.call(t,e))for(var n in a[e])c=n,Object.prototype.hasOwnProperty.call(a[e],c)&&(l.push({vLine:e,vLinetravel:c,vLinewebarea:"_",vLineText:t[e],vLinetravelText:"_"===c?"全區":"全部",text:"_"===c?t[e]:a[e][c],value:"".concat(e,"-").concat(c,"-_")}),function(){for(var n in r[c])Object.prototype.hasOwnProperty.call(r[c],n)&&l.push({vLine:e,vLinetravel:c,vLinewebarea:n,vLineText:t[e],vLinetravelText:a[e][c],text:"".concat(r[c][n]),value:"".concat(e,"-").concat(c,"-").concat(n)})}());var c};for(var o in t)c(o);n.fetchData=l.filter(function(e){return-1===e.text.indexOf("不限")}),n.forceUpdate()}),g()(m()(m()(n)),"emitPushData",function(e){n.props.onChange&&n.props.onChange(e)}),g()(m()(m()(n)),"handleOpenMenu",function(){n.setState({showAct:!1,showDtm:!0})}),g()(m()(m()(n)),"handleCloseMenu",function(){n.isMouseDown||n.setState({showAct:!1,showDtm:!1,keyword:""})}),g()(m()(m()(n)),"handleMouseDown",function(){n.isMouseDown=!0}),g()(m()(m()(n)),"handleMouseUp",function(){n.isMouseDown=!1}),g()(m()(m()(n)),"handleEmitRemoveData",function(e,t){e.stopPropagation(),n.emitPushData(t)}),n.searchInput=D.a.createRef(),n.state={keyword:"",showDtm:!1,showAct:!1},n.fetchData=[],n}return h()(t,e),i()(t,[{key:"componentDidMount",value:function(){this.getData(this.props.fetchPath)}},{key:"render",value:function(){var e=this,t=this.props,n=t.placeholder,a=t.minimumStringQueryLength,r=t.minimumStringQuery,l=t.noMatchText,c=t.sublabel,o=t.fetchPath,i=t.selectedData,u=this.state,s=u.keyword,p=u.showAct,d=u.showDtm,v=i.map(function(t){var n;return n="_"===t.vLinewebarea?t.txt||t.text:"".concat(t.text,"-").concat(t.vLinetravelText),D.a.createElement(T,{key:t.value,text:n,removeData:function(n){return e.handleEmitRemoveData(n,t)}})}),h=i.map(function(e){return e.value});return D.a.createElement(x.a,{onClickOutside:this.handleCloseMenu},D.a.createElement("svg",{viewBox:"0 0 10 10",display:"none"},D.a.createElement("path",{id:"dtm_rcfr-x",d:"M10 8.59L8.59 10 5 6.41 1.41 10 0 8.59 3.59 5 0 1.41 1.41 0 5 3.59 8.59 0 10 1.41 6.41 5z"})),D.a.createElement("div",{className:"dtm_rcfr-row"},D.a.createElement("div",{className:"dtm_rcfr-selected-wrap"},v),D.a.createElement(y.a,{ref:this.searchInput,placeholder:n,onFocus:this.handleOpenMenu,value:s,onChange:function(t){t.target.value?e.setState({keyword:t.target.value,showAct:!0,showDtm:!1}):e.setState({keyword:"",showAct:!1,showDtm:!0})},onClearValue:this.handleCloseMenu})),D.a.createElement(R.a,{InputIsFocus:p,url:this.fetchData,minimumStringQueryLength:a,minimumStringQuery:r,searchKeyWord:s,noMatchText:l,ClassName:!p&&"d-no",footer:!1,theme:"future",closeActcallback:function(t){void 0!==t?(e.setState({showAct:!1,keyword:""}),e.emitPushData(t)):e.handleCloseMenu()},emitSecondData:function(t){s.length>=a&&0<t.length&&(e.emitPushData(t[0]),e.setState({keyword:"",showAct:!1,showDtm:!0}))},changeKey:N,catalogue:V}),D.a.createElement("div",{className:"dtm_rcfr-wrap ".concat(d?"open":"")},D.a.createElement("p",{className:"dtm_rcfr-label"},c),D.a.createElement("span",{className:"dtm_rcfr-close_btn",onClick:this.handleCloseMenu},D.a.createElement("svg",{viewBox:"0 0 10 10"},D.a.createElement("use",{href:"#dtm_rcfr-x"}))),D.a.createElement(L.a,{levelKey:["vLine","vLinetravel","vLinewebarea"],orderMaps:{vLine:["_6","_5","_7","_3","_1","_4","_2","_9"]},onClickItem:this.emitPushData,dataResouce:o,selectedData:h,transformFetchData:function(e){if("string"!=typeof e)return e;var t=e.replace(/\r?\n|\r/g,"").replace(/(?:var|let|const)\s(\w+)\s=/g,'"$1":').replace(/;/g,",").replace(/,$/g,"").replace(/'/g,'"');return JSON.parse("{"+t+"}")}})))}}]),t}(b.Component);g()(O,"defaultProps",{max:3,minimumStringQueryLength:2}),g()(O,"propTypes",{fetchPath:I.a.string.isRequired,selectedData:I.a.array.isRequired,max:I.a.number,placeholder:I.a.string,minimumStringQueryLength:I.a.number.isRequired,minimumStringQuery:I.a.string,noMatchText:I.a.string,autoShowDtm:I.a.bool,label:I.a.string,onChange:I.a.func});var P=O,A=n(327),j=n.n(A),B=n(333),z=n.n(B),F=n(331),U=n.n(F),q=n(348),Q=function(e){function t(e){var n;return c()(this,t),n=s()(this,d()(t).call(this,e)),g()(m()(m()(n)),"clearValue",function(e){return"start"===e?n.setState(function(e){return z()({},e,{startInputValue:"",selectedStartDate:""})},n.onChange):n.setState(function(e){return z()({},e,{selectedEndDate:"",endInputValue:""})},n.onChange)}),g()(m()(m()(n)),"closeCalendar",function(){n.setState(function(e){return z()({},e,{activeInput:null})})}),g()(m()(m()(n)),"checkDate",function(e){var t="start"===e,a=n.state,r=a.selectedStartDate,l=a.selectedEndDate,c=a.startInputValue,o=a.endInputValue,i=t?c:o,u=t?i===r:i===l;if(i.length&&!u){var s=i.match(/^(\d{4})[\-\/]?(\d{2})[\-\/]?(\d{2})$/);if(null===s)return alert("請輸入正確的日期格式(YYYYMMDD) EX: 20180101");var p=j()(s,3),d=p[0],v=p[1],h=p[2],f="".concat(d,"-").concat(v,"-").concat(h),m=U()(f),_=n.calcStartDate();return m.isValid()?m.isBefore(_)?alert("日期小於最小可選日期"):void n.clickDate(f):alert("無效的日期")}}),g()(m()(m()(n)),"inputChange",function(e){var t=e.target.value,a=n.state.activeInput,r="".concat(a,"InputValue");n.setState(function(e){return z()({},e,g()({},r,t))},n.onChange)}),g()(m()(m()(n)),"inputFocus",function(e){n.setState(function(t){return z()({},t,{activeInput:e})})}),g()(m()(m()(n)),"clickDate",function(e){var t=n.state,a=t.activeInput,r=t.selectedStartDate,l="start"===a,c=l?e:r,o=l?"":e;n.setState(function(e){return{activeInput:l?"end":null,selectedStartDate:c,selectedEndDate:o,startInputValue:c,endInputValue:o}},n.onChange)}),n.state={selectedStartDate:"",selectedEndDate:"",startInputValue:"",endInputValue:"",activeInput:null},n}return h()(t,e),i()(t,[{key:"onChange",value:function(){var e=this.state,t=e.selectedStartDate,n=e.selectedEndDate;t&&n&&this.props.onChange(this.state)}},{key:"calcStartDate",value:function(){var e=this.state,t=e.selectedStartDate,n=e.activeInput,a=U()();return"end"===n&&t.length?t:a.format("YYYY-MM-DD")}},{key:"render",value:function(){var e=this,t=this.state,n=t.selectedStartDate,a=t.selectedEndDate,r=t.startInputValue,l=t.endInputValue,c=t.activeInput,o=this.calcStartDate();return D.a.createElement(x.a,{onClickOutside:this.closeCalendar},D.a.createElement("div",{className:"calendar_compose"},D.a.createElement("div",{className:"input_group"},D.a.createElement(y.a,{placeholder:"YYYY/MM/DD",onFocus:function(){e.inputFocus("start")},onChange:this.inputChange,onBlur:function(){e.checkDate("start")},onClearValue:function(){e.clearValue("start")},value:r.replace(/\-/g,"/")}),D.a.createElement("span",{className:"cal_icon"},"~"),D.a.createElement(y.a,{placeholder:"YYYY/MM/DD",onChange:this.inputChange,onFocus:function(){e.inputFocus("end")},onBlur:function(){e.checkDate("end")},onClearValue:function(){e.clearValue("end")},value:l.replace(/\-/g,"/")})),null===c?null:D.a.createElement("div",{className:"content"},D.a.createElement("button",{className:"close_btn",onClick:this.closeCalendar},"X"),D.a.createElement(q.a,{doubleMonth:!0,doubleChoose:!0,startDate:o,activeStart:U()().format("YYYY-MM"),activeEnd:U()().add(1,"years").format("YYYY-MM"),endDate:U()().add(1,"years").format("YYYY-MM-DD"),selectedStartDate:n,selectedEndDate:a,onDateClick:this.clickDate}))))}}]),t}(b.PureComponent);g()(Q,"defaultProps",{onChange:function(){}});var W=n(340),$=(n(412),function(e){return D.a.createElement("div",{className:"travel_panel-pp_rcln-popup"},D.a.createElement("p",null,"本公司「已成團」之旅遊團體，係指報名參團人數已達出團標準，但團體出發前若遇有以下情事，將依國外（內）團體旅遊定型化契約書取消出團："),D.a.createElement("ul",null,D.a.createElement("li",null,D.a.createElement("span",null,"一、"),D.a.createElement("p",null,"不可抗力、不可歸責於雙方當事人之事由，如颱 風、海嘯、地震、洪災等不可抗力之天然災害；或罷工、戰亂抗爭、官方封閉旅遊地區、重大疫情等不可歸責之人為因素。")),D.a.createElement("li",null,D.a.createElement("span",null,"二、"),D.a.createElement("p",null,"「已成團」之旅遊團體所遊覽地區或國家，經外交部領事事務局或交通部觀光局或其他官方單位列為橙色警示、或紅色警示。"))))}),G=function(e){function t(e){var n;return c()(this,t),n=s()(this,d()(t).call(this,e)),g()(m()(m()(n)),"objToOption",function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({text:e[n],value:n});return t}),g()(m()(m()(n)),"validate",function(e){var t=n.state,a=t.wrapperDtmRcln,r=t.CyRcln,l=[];a.length<1&&l.push("請輸入 / 選擇目的地"),r.length<2&&l.push("請選擇出發日期"),e(0===l.length,l)}),g()(m()(m()(n)),"filterAllState",function(){var e=n.state,t=e.StRcln1,a=e.wrapperDtmRcln,r=e.CyRcln,l=e.StRcln2,c=e.IntRcln,o=e.CrRcln1,i=e.CrRcln2,u=a.map(function(e){return"_"===e.vLinewebarea&&"_"===e.vLinetravel?"-".concat(e.vLine.split("_").join("-"),","):"_"===e.vLinetravel?"".concat(e.vLine.split("_").join("-"),","):"".concat(e.vLinewebarea.match(/^.(.*)$/)[1]).concat(e.vLinetravel.split("_").join("-"),",")});return"DepartureID=".concat(t,"&ArriveID=").concat(u.join(""),"&GoDateStart=").concat(r[0],"&GoDateEnd=").concat(r[1],"&Days=").concat(l,"&Keywords=").concat(c,"&IsEnsureGroup=").concat(o,"&IsSold=").concat(i)}),g()(m()(m()(n)),"handleSubmit",function(){n.validate(function(e,t){e?window.open("https://travel.liontravel.com/search?"+n.filterAllState(),n.props.hrefTarget):alert(t.join("、"))})}),g()(m()(m()(n)),"changeDestination",{add:function(e){var t=n.state.wrapperDtmRcln,a=n.changeDestination.checkLevel,l=[];if("_"===e.vLinetravel){var c=r()(t).filter(function(t){return t.vLine!==e.vLine});l=r()(c).concat([e])}else if("_"===e.vLinewebarea){var o=r()(t).filter(function(t){return t.vLinetravel!==e.vLinetravel});l=a(e,"vLinetravel","vLine")?r()(o).concat([e]).filter(function(t){return"_"!==t.vLinetravel||t.vLine!==e.vLine}):r()(o).concat([e])}else l=a(e,"vLinetravel","vLine")?r()(t).concat([e]).filter(function(t){return"_"!==t.vLinetravel||t.vLine!==e.vLine}):a(e,"vLinewebarea","vLinetravel")?r()(t).concat([e]).filter(function(t){return"_"!==t.vLinewebarea||t.vLinetravel!==e.vLinetravel}):r()(t).concat([e]);return l},remove:function(e){return n.state.wrapperDtmRcln.filter(function(t){return e.value!==t.value})},checkLevel:function(e,t,a){return n.state.wrapperDtmRcln.some(function(n){return"_"===n[t]&&n[a]===e[a]})}}),n.state={StRcln1:"",wrapperDtmRcln:[],CyRcln:[],StRcln2:"",IntRcln:"",CrRcln1:!1,CrRcln2:!1},n.WrapperDtmRclnMax=3,n.fetchPath="./json/TRS1NEWTRAVEL.js",n.option1=[],n.option2=[{text:"不限",value:""},{text:"1日",value:1},{text:"2日",value:2},{text:"3日",value:3},{text:"4日",value:4},{text:"5日",value:5},{text:"6日",value:6},{text:"7日",value:7},{text:"8日",value:8},{text:"9日",value:9},{text:"10日及以上",value:10}],n}return h()(t,e),i()(t,[{key:"componentDidMount",value:function(){var e=this;Object(x.c)(this.fetchPath,function(t){e.option1=e.objToOption(t.vCity),e.forceUpdate()})}},{key:"shouldComponentUpdate",value:function(e,t){return this.state!==t}},{key:"render",value:function(){var e=this,t=this.state.wrapperDtmRcln;return D.a.createElement("div",{className:"travel_panel pc"},D.a.createElement(w.a,{isRequired:!0,label:"出發地",iconName:"toolmap",subComponent:D.a.createElement(C.a,{ClassName:"",option:this.option1,defaultValue:"",onChangeCallBack:function(t){return e.setState({StRcln1:t})}})}),D.a.createElement(w.a,{isRequired:!0,label:"目的地",iconName:"toolmap",subComponent:D.a.createElement(P,{fetchPath:this.fetchPath,selectedData:t,max:this.WrapperDtmRclnMax,placeholder:"請選擇/可輸入目的地、景點關鍵字",minimumStringQueryLength:2,minimumStringQuery:"請輸入至少兩個文字",noMatchText:"很抱歉，找不到符合的項目",sublabel:"找不到選項？請輸入關鍵字查詢",onChange:function(n){if(t.some(function(e){return n.value===e.value}))e.setState({wrapperDtmRcln:e.changeDestination.remove(n)});else{if(!(t.length<e.WrapperDtmRclnMax))return;e.setState({wrapperDtmRcln:e.changeDestination.add(n)})}}})}),D.a.createElement(W.a,{titleTxt:"出發區間",totleNights:!0,onChange:function(t){return e.setState({CyRcln:[t.startInputValue,t.endInputValue]})},setEndDate:36,setActiveEnd:36,setStartDate:1}),D.a.createElement("div",{className:"travel_panel-row"},D.a.createElement(w.a,{label:"旅遊天數",iconName:"tooldate",subComponent:D.a.createElement(C.a,{option:this.option2,defaultValue:"",onChangeCallBack:function(t){return e.setState({StRcln2:t})}})}),D.a.createElement(w.a,{label:"產品名/關鍵字",subComponent:D.a.createElement(y.a,{placeholder:"可輸入團號",value:this.state.IntRcln,onChange:function(t){return e.setState({IntRcln:t.target.value})},onClearValue:function(){return e.setState({IntRcln:""})}})})),D.a.createElement("div",null,D.a.createElement(E.a,{textContent:"只找保證出團",whenChange:function(t){return e.setState({CrRcln1:t})}}),D.a.createElement(k.a,{CustomComponent:D.a.createElement(S.a,{name:"toolif",size:"x1"}),ContentComponent:D.a.createElement($,null),moduleClassName:"PpRcln1 m-l-xs m-r-md",width:"360px",events:["click","hover"],position:["bottom","horizon_center"]}),D.a.createElement(E.a,{textContent:"只找可報名團體",whenChange:function(t){return e.setState({CrRcln2:t})}})),D.a.createElement(M.a,{lg:!0,radius:!0,whenClick:this.handleSubmit},"搜尋"))}}]),t}(b.Component);n.d(t,"default",function(){return G})},311:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"e",function(){return c}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return u});var a=n(327),r=n.n(a);function l(e,t){fetch(e,{method:"GET"}).then(function(e){return e.text()}).then(function(e){var t=e.replace(/\r?\n|\r/g,"").replace(/(?:var|let|const)\s(\w+)\s=/g,'"$1":').replace(/;/g,",").replace(/,$/g,"").replace(/'/g,'"');return JSON.parse("{"+t+"}")}).then(function(e){t(e)})}function c(e){var t=e,n="",a=Object.keys(t).length,r=0;for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(n+=a<=++r?l+"="+t[l]:l+"="+t[l]+"&");return n}function o(e){var t=e.split("-"),n=r()(t,2),a=n[0],l=n[1];return[a=Number(a),l=Number(l)]}function i(){return new Date((new Date).getFullYear(),(new Date).getMonth(),1,8).toISOString().slice(0,7)}var u={fetchJsToObj:l,findHighestZIndex:function(e){for(var t=document.getElementsByTagName(e),n=0,a=0;a<t.length;a++){var r=document.defaultView.getComputedStyle(t[a],null).getPropertyValue("z-index");n<r&&"auto"!==r&&(n=r)}return parseInt(n,10)},getDomPosition:function(e,t){return"top"===t?e.getBoundingClientRect()[t]+window.pageYOffset:e.getBoundingClientRect()[t]},toQueryString:c,getYearAndMonth:o,getNowMonth:i}},321:function(e,t,n){"use strict";var a=n(311),r=n(323),l=n(324),c=n.n(l),o=n(328),i=n.n(o),u=n(312),s=n.n(u),p=n(313),d=n.n(p),v=n(314),h=n.n(v),f=n(315),m=n.n(f),_=n(316),g=n.n(_),b=n(317),D=n.n(b),x=n(318),w=n.n(x),C=n(20),y=n.n(C),E=n(115),k=n.n(E),S=function(e){function t(e){var n;return s()(this,t),n=h()(this,m()(t).call(this,e)),w()(D()(D()(n)),"handle",function(e){if(n.isClickInSide)n.isClickInSide=!1;else if("touchend"===e.type&&(n.isTouch=!0),"click"!==e.type||!n.isTouch){var t=n.props.onClickOutside;!1===n.isUnMounted&&t(e)}}),w()(D()(D()(n)),"handleClick",function(){n.isClickInSide=!0}),n.isTouch=!1,n.isClickInSide=!1,n.isUnMounted=!1,n}return g()(t,e),d()(t,[{key:"componentDidMount",value:function(){document.addEventListener("touchend",this.handle,!1),document.addEventListener("click",this.handle,!1)}},{key:"componentWillUnmount",value:function(){this.isUnMounted=!0,document.removeEventListener("touchend",this.handle,!1),document.removeEventListener("click",this.handle,!1)}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.onClickOutside,i()(e,["children","onClickOutside"]));return y.a.createElement("div",c()({},n,{onClick:this.handleClick}),t)}}]),t}(C.Component);w()(S,"propTypes",{onClickOutside:k.a.func.isRequired}),n.d(t,"b",function(){return a.a}),n.d(t,"c",function(){return a.b}),n.d(t,"f",function(){return a.e}),n.d(t,"e",function(){return a.d}),n.d(t,"d",function(){return a.c}),n.d(t,"a",function(){return r.a})},323:function(e,t,n){"use strict";n.d(t,"a",function(){return S});var a=n(324),r=n.n(a),l=n(328),c=n.n(l),o=n(312),i=n.n(o),u=n(313),s=n.n(u),p=n(314),d=n.n(p),v=n(315),h=n.n(v),f=n(316),m=n.n(f),_=n(317),g=n.n(_),b=n(318),D=n.n(b),x=n(20),w=n.n(x),C=n(84),y=n.n(C),E=n(115),k=n.n(E),S=function(e){function t(e){var n;return i()(this,t),n=d()(this,h()(t).call(this,e)),D()(g()(g()(n)),"handle",function(e){if(!n.__domNode.contains(e.target)){var t=n.props.onClickOutside;"function"==typeof t&&t(e)}}),n.isTouch=!1,n.isClickInSide=!1,n.isUnMounted=!1,n.__domNode=null,n.__wrappedInstance=null,n}return m()(t,e),s()(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handle,!0)}},{key:"componentWillUnmount",value:function(){this.isUnMounted=!0,document.removeEventListener("click",this.handle,!0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=(t.onClickOutside,c()(t,["children","onClickOutside"]));return w.a.createElement("div",r()({},a,{ref:function(t){e.__domNode=y.a.findDOMNode(t),e.__wrappedInstance=t}}),n)}}]),t}(x.Component);D()(S,"propTypes",{onClickOutside:k.a.func.isRequired})},329:function(e,t,n){(e.exports=n(319)(!1)).push([e.i,".input_group {\n  display: flex;\n  margin-bottom: 10px;\n  border: 1px solid #ddd; }\n  .input_group .int_rcln .int_rcln_input {\n    color: #0077b3;\n    font-weight: bold;\n    border: none; }\n    .input_group .int_rcln .int_rcln_input:focus {\n      border-color: #ddd; }\n  .input_group .int_rcln:last-of-type {\n    height: 50px; }\n    .input_group .int_rcln:last-of-type .int_rcln_input {\n      padding-top: 26px; }\n  .input_group .cal_icon {\n    color: #999;\n    display: inline-flex;\n    align-items: center; }\n  .input_group > div {\n    flex: 1; }\n  .input_group .vacation_select_group {\n    padding: 6px 0; }\n    .input_group .vacation_select_group > label,\n    .input_group .vacation_select_group > select {\n      padding: 0 6px;\n      line-height: 1; }\n    .input_group .vacation_select_group > label {\n      display: block;\n      color: #aaa;\n      font-size: 16px; }\n      .input_group .vacation_select_group > label.request:after {\n        content: '*';\n        display: inline-block;\n        color: #e10500;\n        vertical-align: middle;\n        line-height: 1;\n        margin-top: 4px; }\n    .input_group .vacation_select_group > select {\n      border: none;\n      outline: none;\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      appearance: none;\n      width: 100%;\n      font-size: 16px;\n      color: #0077b3;\n      font-weight: bold; }\n",""])},330:function(e,t,n){(e.exports=n(319)(!1)).push([e.i,".calendar_compose {\n  position: relative; }\n  .calendar_compose .content {\n    padding: 30px 10px 10px;\n    border: solid 1px #ddd;\n    background-color: #fff;\n    position: absolute;\n    top: 100%;\n    left: 0;\n    z-index: 5; }\n    .calendar_compose .content .close_btn {\n      position: absolute;\n      right: 5px;\n      top: 5px;\n      z-index: 1;\n      background-color: transparent;\n      border: none;\n      font-weight: bold;\n      outline: none; }\n",""])},337:function(e,t,n){var a=n(329);"string"==typeof a&&(a=[[e.i,a,""]]);var r=n(320)(a,{hmr:!0,transform:void 0,insertInto:void 0});a.locals&&(e.exports=a.locals),e.hot.accept(329,function(){var t=n(329);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,a=0;for(n in e){if(!t||e[n]!==t[n])return!1;a++}for(n in t)a--;return 0===a}(a.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");r(t)}),e.hot.dispose(function(){r()})},340:function(e,t,n){"use strict";var a=n(327),r=n.n(a),l=n(333),c=n.n(l),o=n(312),i=n.n(o),u=n(313),s=n.n(u),p=n(314),d=n.n(p),v=n(315),h=n.n(v),f=n(316),m=n.n(f),_=n(317),g=n.n(_),b=n(318),D=n.n(b),x=n(20),w=n.n(x),C=n(331),y=n.n(C),E=n(348),k=n(322),S=n(325),M=n(321),Y=(n(341),n(337),function(e){function t(e){var n;return i()(this,t),n=d()(this,h()(t).call(this,e)),D()(g()(g()(n)),"clearValue",function(e){return"start"===e?n.setState(function(e){return c()({},e,{startInputValue:"",selectedStartDate:""})},n.onChange):n.setState(function(e){return c()({},e,{selectedEndDate:"",endInputValue:""})},n.onChange)}),D()(g()(g()(n)),"closeCalendar",function(){n.setState(function(e){return c()({},e,{activeInput:null})})}),D()(g()(g()(n)),"checkDate",function(e){var t="start"===e,a=n.state,l=a.selectedStartDate,c=a.selectedEndDate,o=a.startInputValue,i=a.endInputValue,u=t?o:i,s=t?u===l:u===c;if(u.length&&!s){var p=u.match(/^(\d{4})[\-\/]?(\d{2})[\-\/]?(\d{2})$/);if(null===p)return alert("請輸入正確的日期格式(YYYYMMDD) EX: 20180101");var d=r()(p,4),v=(d[0],d[1]),h=d[2],f=d[3],m="".concat(v,"-").concat(h,"-").concat(f),_=y()(m),g=n.calcStartDate();return _.isValid()?_.isBefore(g)?alert("日期小於最小可選日期"):void n.clickDate(m):alert("無效的日期")}}),D()(g()(g()(n)),"inputChange",function(e){var t=e.target.value,a=n.state.activeInput,r="".concat(a,"InputValue");n.setState(function(e){return c()({},e,D()({},r,t))},n.onChange)}),D()(g()(g()(n)),"inputFocus",function(e){n.setState(function(t){return c()({},t,{activeInput:e})})}),D()(g()(g()(n)),"clickDate",function(e){var t=n.state,a=t.activeInput,r=t.selectedStartDate,l="start"===a,c=l?e:r,o=l?"":e;n.setState(function(e){return{activeInput:l?"end":null,selectedStartDate:c,selectedEndDate:o,startInputValue:c,endInputValue:o}},n.onChange)}),n.state={selectedStartDate:"",selectedEndDate:"",startInputValue:"",endInputValue:"",activeInput:null},n}return m()(t,e),s()(t,[{key:"onChange",value:function(){this.props.onChange(this.state)}},{key:"calcStartDate",value:function(){var e=this.state,t=e.selectedStartDate,n=e.activeInput,a=this.props.setStartDate,r=y()();return"end"===n?t.length?t:r.format("YYYY-MM-DD"):"number"==typeof a?0<a?r.add(a,"day").format("YYYY-MM-DD"):r.subtract(a,"day").format("YYYY-MM-DD"):r.format("YYYY-MM-DD")}},{key:"diffDate",value:function(){var e=this.state,t=e.startInputValue,n=e.endInputValue;if(!t.length||!n.length||t.length!==n.length)return"";var a=new Date(t.replace(/\-/g,"/")).getTime();return(new Date(n.replace(/\-/g,"/")).getTime()-a)/864e5}},{key:"setActiveEndDay",value:function(){var e=this.props,t=e.setActiveEnd,n=e.setOtherEnd,a=this.state.selectedStartDate;return"number"==typeof n&&a?y()().add(n,"days").format("YYYY-MM-DD"):y()().add(t,"months").format("YYYY-MM")}},{key:"setEndDay",value:function(){var e=this.props,t=e.setEndDate,n=e.setOtherEnd,a=this.state.selectedStartDate;return"number"==typeof n?a?y()(a).add(n,"days").format("YYYY-MM-DD"):y()().add(t,"months").format("YYYY-MM"):y()().add(t,"months").format("YYYY-MM-DD")}},{key:"render",value:function(){var e=this,t=this.state,n=t.selectedStartDate,a=t.selectedEndDate,r=t.startInputValue,l=t.endInputValue,c=t.activeInput,o=this.props.totleNights,i=this.calcStartDate(),u=this.setActiveEndDay(),s=this.setEndDay();return w.a.createElement(M.a,{onClickOutside:this.closeCalendar},w.a.createElement("div",{className:"calendar_compose"},w.a.createElement("div",{className:"input_group"},w.a.createElement(k.a,{request:!0,placeholder:"YYYY/MM/DD",label:this.props.titleTxt?this.props.titleTxt:"出發區間",icon:w.a.createElement(S.a,{name:"tooldate"}),onFocus:function(){e.inputFocus("start")},onChange:this.inputChange,onBlur:function(){e.checkDate("start")},onClearValue:function(){e.clearValue("start")},value:r.replace(/\-/g,"/")}),w.a.createElement("span",{className:"cal_icon"},"~"),w.a.createElement(k.a,{request:!0,placeholder:"YYYY/MM/DD",onChange:this.inputChange,onFocus:function(){e.inputFocus("end")},onBlur:function(){e.checkDate("end")},onClearValue:function(){e.clearValue("end")},value:l.replace(/\-/g,"/")}),0<this.diffDate()&&o?w.a.createElement("span",{className:"nights"},"共".concat(this.diffDate(),"晚")):null),null===c?null:w.a.createElement("div",{className:"content"},w.a.createElement("button",{className:"close_btn",onClick:this.closeCalendar},"X"),w.a.createElement(E.a,{doubleMonth:!0,doubleChoose:!0,startDate:i,activeStart:y()().format("YYYY-MM"),activeEnd:u,endDate:s,selectedStartDate:n,selectedEndDate:a,onDateClick:this.clickDate}))))}}]),t}(x.PureComponent));D()(Y,"defaultProps",{onChange:function(){},setEndDate:12,setActiveEnd:12}),t.a=Y},341:function(e,t,n){var a=n(330);"string"==typeof a&&(a=[[e.i,a,""]]);var r=n(320)(a,{hmr:!0,transform:void 0,insertInto:void 0});a.locals&&(e.exports=a.locals),e.hot.accept(330,function(){var t=n(330);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,a=0;for(n in e){if(!t||e[n]!==t[n])return!1;a++}for(n in t)a--;return 0===a}(a.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");r(t)}),e.hot.dispose(function(){r()})},356:function(e,t,n){(e.exports=n(319)(!1)).push([e.i,".travel_panel {\n  display: flex;\n  flex-direction: column; }\n  .travel_panel-row {\n    display: flex; }\n    .travel_panel-row > * {\n      flex: 1; }\n      .travel_panel-row > *:nth-of-type(2) {\n        width: calc(50% + 5px);\n        margin-left: 10px; }\n  .travel_panel > *:not(:last-child) {\n    margin-bottom: 10px; }\n  .travel_panel input {\n    height: auto;\n    font-weight: bold;\n    cursor: pointer; }\n  .travel_panel ::-webkit-input-placeholder {\n    color: #999; }\n  .travel_panel :-ms-input-placeholder {\n    color: #999; }\n  .travel_panel ::-ms-input-placeholder {\n    color: #999; }\n  .travel_panel ::placeholder {\n    color: #999; }\n  .travel_panel .int_rctg {\n    position: relative; }\n    .travel_panel .int_rctg .int-col {\n      flex: 1; }\n    .travel_panel .int_rctg .int-tags {\n      margin: 0; }\n    .travel_panel .int_rctg .st_rcln {\n      position: static; }\n      .travel_panel .int_rctg .st_rcln .real-select {\n        left: 0;\n        top: 0; }\n  .travel_panel .dropdown-place-holder {\n    border: none !important;\n    height: auto;\n    line-height: 1;\n    padding: 0;\n    font-weight: bold;\n    color: #0077b3; }\n    .travel_panel .dropdown-place-holder.selected {\n      color: #0077b3; }\n  .travel_panel .clearBtn {\n    top: 0;\n    bottom: 0;\n    right: 0;\n    margin: auto; }\n  .travel_panel .int_rcln {\n    height: auto !important; }\n    .travel_panel .int_rcln_input {\n      border: none;\n      padding-top: 0 !important;\n      font-weight: bold;\n      color: #0077b3; }\n      .travel_panel .int_rcln_input:not(input):empty::before {\n        color: #999; }\n  .travel_panel .chkbox-group {\n    padding-top: 10px; }\n  .travel_panel .cr_rcln input:focus + .indicator {\n    border-color: #ddd; }\n  .travel_panel .pp_rcln {\n    color: #8894a9;\n    cursor: pointer;\n    padding-right: 16px; }\n  .travel_panel-pp_rcln-popup {\n    font-size: 14px;\n    color: #222; }\n    .travel_panel-pp_rcln-popup ul {\n      list-style: none;\n      margin: 0;\n      padding: 0; }\n    .travel_panel-pp_rcln-popup li {\n      display: flex;\n      margin-top: 10px; }\n    .travel_panel-pp_rcln-popup p, .travel_panel-pp_rcln-popup span {\n      display: inline-block; }\n  .travel_panel .int_rctg .int_rcln_input {\n    line-height: 1;\n    padding: 0; }\n  .travel_panel .bt_rcnb {\n    margin-top: auto; }\n  .travel_panel .dtm_rcfr,\n  .travel_panel-nvb .dtm_rcfr {\n    position: relative;\n    width: auto; }\n    .travel_panel .dtm_rcfr-row,\n    .travel_panel-nvb .dtm_rcfr-row {\n      display: flex;\n      margin: 0 15px; }\n      .travel_panel .dtm_rcfr-row .int_rcln_input,\n      .travel_panel-nvb .dtm_rcfr-row .int_rcln_input {\n        border: none; }\n      .travel_panel .dtm_rcfr-row .bt_rcnb,\n      .travel_panel-nvb .dtm_rcfr-row .bt_rcnb {\n        margin-left: 10px; }\n    .travel_panel .dtm_rcfr-input-wrap,\n    .travel_panel-nvb .dtm_rcfr-input-wrap {\n      display: flex;\n      align-items: center;\n      width: 100%;\n      padding: 0 0 0 10px;\n      border: 2px solid #ff8b88; }\n    .travel_panel .dtm_rcfr-wrap,\n    .travel_panel-nvb .dtm_rcfr-wrap {\n      display: none;\n      position: static;\n      width: 100%;\n      height: calc(100vh - 130px);\n      overflow: auto;\n      background-color: #fff; }\n      .travel_panel .dtm_rcfr-wrap.open,\n      .travel_panel-nvb .dtm_rcfr-wrap.open {\n        display: block; }\n    .travel_panel .dtm_rcfr-label,\n    .travel_panel-nvb .dtm_rcfr-label {\n      margin: 8px 0 10px 25px;\n      font-size: 14px;\n      color: #24a07d; }\n    .travel_panel .dtm_rcfr-close_btn,\n    .travel_panel-nvb .dtm_rcfr-close_btn {\n      display: none;\n      position: absolute;\n      top: 0;\n      right: 0;\n      padding: 10px;\n      cursor: pointer; }\n      .travel_panel .dtm_rcfr-close_btn svg,\n      .travel_panel-nvb .dtm_rcfr-close_btn svg {\n        width: 16px;\n        height: 16px; }\n    .travel_panel .dtm_rcfr-selected-wrap,\n    .travel_panel-nvb .dtm_rcfr-selected-wrap {\n      white-space: nowrap; }\n    .travel_panel .dtm_rcfr-selected,\n    .travel_panel-nvb .dtm_rcfr-selected {\n      display: inline-flex;\n      align-items: center;\n      justify-content: space-between;\n      width: 20vw;\n      line-height: 1;\n      margin: 0 4px 0 0;\n      padding-left: 4px;\n      font-size: 16px;\n      font-weight: bold;\n      color: #0077b3;\n      background-color: #eaeaea;\n      cursor: pointer;\n      min-width: calc(100%/3); }\n      .travel_panel .dtm_rcfr-selected:last-of-type,\n      .travel_panel-nvb .dtm_rcfr-selected:last-of-type {\n        margin: 0; }\n      .travel_panel .dtm_rcfr-selected span,\n      .travel_panel-nvb .dtm_rcfr-selected span {\n        width: 80px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap; }\n      .travel_panel .dtm_rcfr-selected i,\n      .travel_panel-nvb .dtm_rcfr-selected i {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 20px;\n        height: 20px; }\n      .travel_panel .dtm_rcfr-selected svg,\n      .travel_panel-nvb .dtm_rcfr-selected svg {\n        width: 6px;\n        height: 6px;\n        fill: #999; }\n    .travel_panel .dtm_rcfr .panel:last-child .sec_content > .item,\n    .travel_panel-nvb .dtm_rcfr .panel:last-child .sec_content > .item {\n      width: 33%; }\n    .travel_panel .dtm_rcfr .cr_rcln > span,\n    .travel_panel-nvb .dtm_rcfr .cr_rcln > span {\n      font-weight: bold;\n      font-size: 16px;\n      line-height: 16px;\n      vertical-align: text-bottom; }\n    .travel_panel .dtm_rcfr .tabs,\n    .travel_panel-nvb .dtm_rcfr .tabs {\n      padding-top: 0px; }\n  .travel_panel .act_racp,\n  .travel_panel-nvb .act_racp {\n    box-shadow: none;\n    outline: none;\n    left: 0;\n    min-width: 100%;\n    height: calc(100vh - 130px);\n    max-height: 100%;\n    margin-top: 40px; }\n    .travel_panel .act_racp-future .m-place .close,\n    .travel_panel .act_racp-future .noMatchText .close,\n    .travel_panel-nvb .act_racp-future .m-place .close,\n    .travel_panel-nvb .act_racp-future .noMatchText .close {\n      display: none; }\n    .travel_panel .act_racp-future .noMatchText,\n    .travel_panel-nvb .act_racp-future .noMatchText {\n      color: #999;\n      padding: 0; }\n    .travel_panel .act_racp .section,\n    .travel_panel-nvb .act_racp .section {\n      max-width: 100%; }\n  .travel_panel.pc .bt_rcnb {\n    align-self: flex-end; }\n  .travel_panel.pc .dtm_rcfr,\n  .travel_panel.pc-nvb .dtm_rcfr {\n    height: auto; }\n    .travel_panel.pc .dtm_rcfr-row,\n    .travel_panel.pc-nvb .dtm_rcfr-row {\n      margin: 0; }\n    .travel_panel.pc .dtm_rcfr-wrap,\n    .travel_panel.pc-nvb .dtm_rcfr-wrap {\n      position: absolute;\n      top: 100%;\n      left: -1px;\n      width: 690px;\n      height: auto;\n      overflow: visible;\n      padding: 16px 14px 0;\n      border: 1px solid rgba(153, 153, 153, 0.7);\n      z-index: 11; }\n    .travel_panel.pc .dtm_rcfr-close_btn,\n    .travel_panel.pc-nvb .dtm_rcfr-close_btn {\n      display: block; }\n    .travel_panel.pc .dtm_rcfr-selected,\n    .travel_panel.pc-nvb .dtm_rcfr-selected {\n      width: 108px; }\n  .travel_panel.pc .calendar_compose .input_group .int_rcln {\n    height: 50px !important; }\n    .travel_panel.pc .calendar_compose .input_group .int_rcln .int_rcln_input {\n      line-height: 1;\n      padding-bottom: 0;\n      padding-top: 24px !important; }\n  .travel_panel.pc .calendar_compose .nights {\n    display: none; }\n  .travel_panel .act_racp,\n  .travel_panel-nvb .act_racp {\n    height: auto;\n    max-height: 360px;\n    margin-top: auto;\n    box-shadow: 0 2px 4px 0 rgba(153, 153, 153, 0.7); }\n    .travel_panel .act_racp-future .m-place .close,\n    .travel_panel .act_racp-future .noMatchText .close,\n    .travel_panel-nvb .act_racp-future .m-place .close,\n    .travel_panel-nvb .act_racp-future .noMatchText .close {\n      display: block; }\n    .travel_panel .act_racp-future .noMatchText,\n    .travel_panel-nvb .act_racp-future .noMatchText {\n      color: #24a07d;\n      padding: 12px 46px 7px 10px; }\n",""])},412:function(e,t,n){var a=n(356);"string"==typeof a&&(a=[[e.i,a,""]]);var r=n(320)(a,{hmr:!0,transform:void 0,insertInto:void 0});a.locals&&(e.exports=a.locals),e.hot.accept(356,function(){var t=n(356);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,a=0;for(n in e){if(!t||e[n]!==t[n])return!1;a++}for(n in t)a--;return 0===a}(a.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");r(t)}),e.hot.dispose(function(){r()})}}]);